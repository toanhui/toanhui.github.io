!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b4fdaa40-3569-4ceb-b8e5-eea5baded70a",e._sentryDebugIdIdentifier="sentry-dbid-b4fdaa40-3569-4ceb-b8e5-eea5baded70a")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7425],{76099:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var n=e.charAt(i),s=n.charCodeAt(0);if(255!==t[s])throw TypeError(n+" is ambiguous");t[s]=i}var o=e.length,a=e.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,i=0,n=0;e[r]===a;)i++,r++;for(var s=(e.length-r)*l+1>>>0,c=new Uint8Array(s);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<n)&&-1!==d;d--,h++)u+=o*c[d]>>>0,c[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");n=h,r++}for(var f=s-n;f!==s&&0===c[f];)f++;for(var p=new Uint8Array(i+(s-f)),y=i;f!==s;)p[y++]=c[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var l=(s-n)*c+1>>>0,u=new Uint8Array(l);n!==s;){for(var h=t[n],d=0,f=l-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%o>>>0,h=h/o>>>0;if(0!==h)throw Error("Non-zero carry");i=d,n++}for(var p=l-i;p!==l&&0===u[p];)p++;for(var y=a.repeat(r);p<l;++p)y+=e.charAt(u[p]);return y},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw Error("Non-base"+o+" character")}}}},6856:function(e,t,r){let i=r(76099);e.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},14746:function(e,t){var r="undefined"!=typeof self?self:this,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){var t={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,r,i=c(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=u(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=s(e),t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=o(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var r,i,n=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),p.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function m(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},f.call(y.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];m.redirect=function(e,t){if(-1===g.indexOf(t))throw RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.DOMException=i.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function w(r,i){return new Promise(function(n,s){var o=new y(r,i);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL"),n(new m("response"in a?a.response:a.responseText,r))},a.onerror=function(){s(TypeError("Network request failed"))},a.ontimeout=function(){s(TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}w.polyfill=!0,i.fetch||(i.fetch=w,i.Headers=l,i.Request=y,i.Response=m),e.Headers=l,e.Request=y,e.Response=m,e.fetch=w,Object.defineProperty(e,"__esModule",{value:!0})})({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill,(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},67473:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,i,s,o){if("function"!=typeof i)throw TypeError("The listener must be a function");var a=new n(i,s||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,n,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,n),!0;case 5:return u.fn.call(u.context,t,i,n,s),!0;case 6:return u.fn.call(u.context,t,i,n,s,o),!0}for(c=1,l=Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,n);break;default:if(!l)for(d=1,l=Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,i,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||n&&!a[l].once||i&&a[l].context!==i)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},53044:function(e,t,r){!function(e){"use strict";var t,i=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=i(),l=i([1]),c=i([56129,1]),u=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(e,t,r,i){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=i>>24&255,e[t+5]=i>>16&255,e[t+6]=i>>8&255,e[t+7]=255&i}function v(e,t,r,i,n){var s,o=0;for(s=0;s<n;s++)o|=e[t+s]^r[i+s];return(1&o-1>>>8)-1}function m(e,t,r,i){return v(e,t,r,i,16)}function g(e,t,r,i){return v(e,t,r,i,32)}function w(e,t,r,i){!function(e,t,r,i){for(var n,s=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,_=s,A=o,E=a,S=l,T=c,k=u,P=h,O=d,U=f,I=p,C=y,N=v,x=m,R=g,B=w,K=b,M=0;M<20;M+=2)T^=(n=_+x|0)<<7|n>>>25,U^=(n=T+_|0)<<9|n>>>23,x^=(n=U+T|0)<<13|n>>>19,_^=(n=x+U|0)<<18|n>>>14,I^=(n=k+A|0)<<7|n>>>25,R^=(n=I+k|0)<<9|n>>>23,A^=(n=R+I|0)<<13|n>>>19,k^=(n=A+R|0)<<18|n>>>14,B^=(n=C+P|0)<<7|n>>>25,E^=(n=B+C|0)<<9|n>>>23,P^=(n=E+B|0)<<13|n>>>19,C^=(n=P+E|0)<<18|n>>>14,S^=(n=K+N|0)<<7|n>>>25,O^=(n=S+K|0)<<9|n>>>23,N^=(n=O+S|0)<<13|n>>>19,K^=(n=N+O|0)<<18|n>>>14,A^=(n=_+S|0)<<7|n>>>25,E^=(n=A+_|0)<<9|n>>>23,S^=(n=E+A|0)<<13|n>>>19,_^=(n=S+E|0)<<18|n>>>14,P^=(n=k+T|0)<<7|n>>>25,O^=(n=P+k|0)<<9|n>>>23,T^=(n=O+P|0)<<13|n>>>19,k^=(n=T+O|0)<<18|n>>>14,N^=(n=C+I|0)<<7|n>>>25,U^=(n=N+C|0)<<9|n>>>23,I^=(n=U+N|0)<<13|n>>>19,C^=(n=I+U|0)<<18|n>>>14,x^=(n=K+B|0)<<7|n>>>25,R^=(n=x+K|0)<<9|n>>>23,B^=(n=R+x|0)<<13|n>>>19,K^=(n=B+R|0)<<18|n>>>14;_=_+s|0,A=A+o|0,E=E+a|0,S=S+l|0,T=T+c|0,k=k+u|0,P=P+h|0,O=O+d|0,U=U+f|0,I=I+p|0,C=C+y|0,N=N+v|0,x=x+m|0,R=R+g|0,B=B+w|0,K=K+b|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=A>>>0&255,e[5]=A>>>8&255,e[6]=A>>>16&255,e[7]=A>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=T>>>0&255,e[17]=T>>>8&255,e[18]=T>>>16&255,e[19]=T>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=P>>>0&255,e[25]=P>>>8&255,e[26]=P>>>16&255,e[27]=P>>>24&255,e[28]=O>>>0&255,e[29]=O>>>8&255,e[30]=O>>>16&255,e[31]=O>>>24&255,e[32]=U>>>0&255,e[33]=U>>>8&255,e[34]=U>>>16&255,e[35]=U>>>24&255,e[36]=I>>>0&255,e[37]=I>>>8&255,e[38]=I>>>16&255,e[39]=I>>>24&255,e[40]=C>>>0&255,e[41]=C>>>8&255,e[42]=C>>>16&255,e[43]=C>>>24&255,e[44]=N>>>0&255,e[45]=N>>>8&255,e[46]=N>>>16&255,e[47]=N>>>24&255,e[48]=x>>>0&255,e[49]=x>>>8&255,e[50]=x>>>16&255,e[51]=x>>>24&255,e[52]=R>>>0&255,e[53]=R>>>8&255,e[54]=R>>>16&255,e[55]=R>>>24&255,e[56]=B>>>0&255,e[57]=B>>>8&255,e[58]=B>>>16&255,e[59]=B>>>24&255,e[60]=K>>>0&255,e[61]=K>>>8&255,e[62]=K>>>16&255,e[63]=K>>>24&255}(e,t,r,i)}function b(e,t,r,i){!function(e,t,r,i){for(var n,s=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,_=s,A=o,E=a,S=l,T=c,k=u,P=h,O=d,U=f,I=p,C=y,N=v,x=m,R=g,B=w,K=b,M=0;M<20;M+=2)T^=(n=_+x|0)<<7|n>>>25,U^=(n=T+_|0)<<9|n>>>23,x^=(n=U+T|0)<<13|n>>>19,_^=(n=x+U|0)<<18|n>>>14,I^=(n=k+A|0)<<7|n>>>25,R^=(n=I+k|0)<<9|n>>>23,A^=(n=R+I|0)<<13|n>>>19,k^=(n=A+R|0)<<18|n>>>14,B^=(n=C+P|0)<<7|n>>>25,E^=(n=B+C|0)<<9|n>>>23,P^=(n=E+B|0)<<13|n>>>19,C^=(n=P+E|0)<<18|n>>>14,S^=(n=K+N|0)<<7|n>>>25,O^=(n=S+K|0)<<9|n>>>23,N^=(n=O+S|0)<<13|n>>>19,K^=(n=N+O|0)<<18|n>>>14,A^=(n=_+S|0)<<7|n>>>25,E^=(n=A+_|0)<<9|n>>>23,S^=(n=E+A|0)<<13|n>>>19,_^=(n=S+E|0)<<18|n>>>14,P^=(n=k+T|0)<<7|n>>>25,O^=(n=P+k|0)<<9|n>>>23,T^=(n=O+P|0)<<13|n>>>19,k^=(n=T+O|0)<<18|n>>>14,N^=(n=C+I|0)<<7|n>>>25,U^=(n=N+C|0)<<9|n>>>23,I^=(n=U+N|0)<<13|n>>>19,C^=(n=I+U|0)<<18|n>>>14,x^=(n=K+B|0)<<7|n>>>25,R^=(n=x+K|0)<<9|n>>>23,B^=(n=R+x|0)<<13|n>>>19,K^=(n=B+R|0)<<18|n>>>14;e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=C>>>0&255,e[9]=C>>>8&255,e[10]=C>>>16&255,e[11]=C>>>24&255,e[12]=K>>>0&255,e[13]=K>>>8&255,e[14]=K>>>16&255,e[15]=K>>>24&255,e[16]=P>>>0&255,e[17]=P>>>8&255,e[18]=P>>>16&255,e[19]=P>>>24&255,e[20]=O>>>0&255,e[21]=O>>>8&255,e[22]=O>>>16&255,e[23]=O>>>24&255,e[24]=U>>>0&255,e[25]=U>>>8&255,e[26]=U>>>16&255,e[27]=U>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255}(e,t,r,i)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function A(e,t,r,i,n,s,o){var a,l,c=new Uint8Array(16),u=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=s[l];for(;n>=64;){for(w(u,c,o,_),l=0;l<64;l++)e[t+l]=r[i+l]^u[l];for(l=8,a=1;l<16;l++)a=a+(255&c[l])|0,c[l]=255&a,a>>>=8;n-=64,t+=64,i+=64}if(n>0)for(w(u,c,o,_),l=0;l<n;l++)e[t+l]=r[i+l]^u[l];return 0}function E(e,t,r,i,n){var s,o,a=new Uint8Array(16),l=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=i[o];for(;r>=64;){for(w(l,a,n,_),o=0;o<64;o++)e[t+o]=l[o];for(o=8,s=1;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(w(l,a,n,_),o=0;o<r;o++)e[t+o]=l[o];return 0}function S(e,t,r,i,n){var s=new Uint8Array(32);b(s,i,n,_);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=i[a+16];return E(e,t,r,o,s)}function T(e,t,r,i,n,s,o){var a=new Uint8Array(32);b(a,s,o,_);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=s[c+16];return A(e,t,r,i,n,l,a)}var k=function(e){var t,r,i,n,s,o,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|r<<3)&8191,i=255&e[4]|(255&e[5])<<8,this.r[2]=(r>>>10|i<<6)&7939,n=255&e[6]|(255&e[7])<<8,this.r[3]=(i>>>7|n<<9)&8191,s=255&e[8]|(255&e[9])<<8,this.r[4]=(n>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=(s>>>14|o<<2)&8191,a=255&e[12]|(255&e[13])<<8,this.r[7]=(o>>>11|a<<5)&8065,l=255&e[14]|(255&e[15])<<8,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function P(e,t,r,i,n,s){var o=new k(s);return o.update(r,i,n),o.finish(e,t),0}function O(e,t,r,i,n,s){var o=new Uint8Array(16);return P(o,0,r,i,n,s),m(e,t,o,0)}function U(e,t,r,i,n){var s;if(r<32)return -1;for(T(e,0,t,0,r,i,n),P(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function I(e,t,r,i,n){var s,o=new Uint8Array(32);if(r<32||(S(o,0,32,i,n),0!==O(t,16,t,32,r-32,o)))return -1;for(T(e,0,t,0,r,i,n),s=0;s<32;s++)e[s]=0;return 0}function C(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function N(e){var t,r,i=1;for(t=0;t<16;t++)i=Math.floor((r=e[t]+i+65535)/65536),e[t]=r-65536*i;e[0]+=i-1+37*(i-1)}function x(e,t,r){for(var i,n=~(r-1),s=0;s<16;s++)i=n&(e[s]^t[s]),e[s]^=i,t[s]^=i}function R(e,t){var r,n,s,o=i(),a=i();for(r=0;r<16;r++)a[r]=t[r];for(N(a),N(a),N(a),n=0;n<2;n++){for(r=1,o[0]=a[0]-65517;r<15;r++)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,x(a,o,1-s)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function B(e,t){var r=new Uint8Array(32),i=new Uint8Array(32);return R(r,e),R(i,t),g(r,0,i,0)}function K(e){var t=new Uint8Array(32);return R(t,e),1&t[0]}function M(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function q(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]+r[i]}function L(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]-r[i]}function D(e,t,r){var i,n,s=0,o=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,y=0,v=0,m=0,g=0,w=0,b=0,_=0,A=0,E=0,S=0,T=0,k=0,P=0,O=0,U=0,I=0,C=0,N=0,x=0,R=0,B=0,K=r[0],M=r[1],q=r[2],L=r[3],D=r[4],W=r[5],z=r[6],J=r[7],j=r[8],H=r[9],F=r[10],Y=r[11],G=r[12],V=r[13],$=r[14],X=r[15];s+=(i=t[0])*K,o+=i*M,a+=i*q,l+=i*L,c+=i*D,u+=i*W,h+=i*z,d+=i*J,f+=i*j,p+=i*H,y+=i*F,v+=i*Y,m+=i*G,g+=i*V,w+=i*$,b+=i*X,o+=(i=t[1])*K,a+=i*M,l+=i*q,c+=i*L,u+=i*D,h+=i*W,d+=i*z,f+=i*J,p+=i*j,y+=i*H,v+=i*F,m+=i*Y,g+=i*G,w+=i*V,b+=i*$,_+=i*X,a+=(i=t[2])*K,l+=i*M,c+=i*q,u+=i*L,h+=i*D,d+=i*W,f+=i*z,p+=i*J,y+=i*j,v+=i*H,m+=i*F,g+=i*Y,w+=i*G,b+=i*V,_+=i*$,A+=i*X,l+=(i=t[3])*K,c+=i*M,u+=i*q,h+=i*L,d+=i*D,f+=i*W,p+=i*z,y+=i*J,v+=i*j,m+=i*H,g+=i*F,w+=i*Y,b+=i*G,_+=i*V,A+=i*$,E+=i*X,c+=(i=t[4])*K,u+=i*M,h+=i*q,d+=i*L,f+=i*D,p+=i*W,y+=i*z,v+=i*J,m+=i*j,g+=i*H,w+=i*F,b+=i*Y,_+=i*G,A+=i*V,E+=i*$,S+=i*X,u+=(i=t[5])*K,h+=i*M,d+=i*q,f+=i*L,p+=i*D,y+=i*W,v+=i*z,m+=i*J,g+=i*j,w+=i*H,b+=i*F,_+=i*Y,A+=i*G,E+=i*V,S+=i*$,T+=i*X,h+=(i=t[6])*K,d+=i*M,f+=i*q,p+=i*L,y+=i*D,v+=i*W,m+=i*z,g+=i*J,w+=i*j,b+=i*H,_+=i*F,A+=i*Y,E+=i*G,S+=i*V,T+=i*$,k+=i*X,d+=(i=t[7])*K,f+=i*M,p+=i*q,y+=i*L,v+=i*D,m+=i*W,g+=i*z,w+=i*J,b+=i*j,_+=i*H,A+=i*F,E+=i*Y,S+=i*G,T+=i*V,k+=i*$,P+=i*X,f+=(i=t[8])*K,p+=i*M,y+=i*q,v+=i*L,m+=i*D,g+=i*W,w+=i*z,b+=i*J,_+=i*j,A+=i*H,E+=i*F,S+=i*Y,T+=i*G,k+=i*V,P+=i*$,O+=i*X,p+=(i=t[9])*K,y+=i*M,v+=i*q,m+=i*L,g+=i*D,w+=i*W,b+=i*z,_+=i*J,A+=i*j,E+=i*H,S+=i*F,T+=i*Y,k+=i*G,P+=i*V,O+=i*$,U+=i*X,y+=(i=t[10])*K,v+=i*M,m+=i*q,g+=i*L,w+=i*D,b+=i*W,_+=i*z,A+=i*J,E+=i*j,S+=i*H,T+=i*F,k+=i*Y,P+=i*G,O+=i*V,U+=i*$,I+=i*X,v+=(i=t[11])*K,m+=i*M,g+=i*q,w+=i*L,b+=i*D,_+=i*W,A+=i*z,E+=i*J,S+=i*j,T+=i*H,k+=i*F,P+=i*Y,O+=i*G,U+=i*V,I+=i*$,C+=i*X,m+=(i=t[12])*K,g+=i*M,w+=i*q,b+=i*L,_+=i*D,A+=i*W,E+=i*z,S+=i*J,T+=i*j,k+=i*H,P+=i*F,O+=i*Y,U+=i*G,I+=i*V,C+=i*$,N+=i*X,g+=(i=t[13])*K,w+=i*M,b+=i*q,_+=i*L,A+=i*D,E+=i*W,S+=i*z,T+=i*J,k+=i*j,P+=i*H,O+=i*F,U+=i*Y,I+=i*G,C+=i*V,N+=i*$,x+=i*X,w+=(i=t[14])*K,b+=i*M,_+=i*q,A+=i*L,E+=i*D,S+=i*W,T+=i*z,k+=i*J,P+=i*j,O+=i*H,U+=i*F,I+=i*Y,C+=i*G,N+=i*V,x+=i*$,R+=i*X,b+=(i=t[15])*K,_+=i*M,A+=i*q,E+=i*L,S+=i*D,T+=i*W,k+=i*z,P+=i*J,O+=i*j,U+=i*H,I+=i*F,C+=i*Y,N+=i*G,x+=i*V,R+=i*$,B+=i*X,s+=38*_,o+=38*A,a+=38*E,l+=38*S,c+=38*T,u+=38*k,h+=38*P,d+=38*O,f+=38*U,p+=38*I,y+=38*C,v+=38*N,m+=38*x,g+=38*R,w+=38*B,n=Math.floor((i=s+(n=1)+65535)/65536),s=i-65536*n,n=Math.floor((i=o+n+65535)/65536),o=i-65536*n,n=Math.floor((i=a+n+65535)/65536),a=i-65536*n,n=Math.floor((i=l+n+65535)/65536),l=i-65536*n,n=Math.floor((i=c+n+65535)/65536),c=i-65536*n,n=Math.floor((i=u+n+65535)/65536),u=i-65536*n,n=Math.floor((i=h+n+65535)/65536),h=i-65536*n,n=Math.floor((i=d+n+65535)/65536),d=i-65536*n,n=Math.floor((i=f+n+65535)/65536),f=i-65536*n,n=Math.floor((i=p+n+65535)/65536),p=i-65536*n,n=Math.floor((i=y+n+65535)/65536),y=i-65536*n,n=Math.floor((i=v+n+65535)/65536),v=i-65536*n,n=Math.floor((i=m+n+65535)/65536),m=i-65536*n,n=Math.floor((i=g+n+65535)/65536),g=i-65536*n,n=Math.floor((i=w+n+65535)/65536),w=i-65536*n,n=Math.floor((i=b+n+65535)/65536),b=i-65536*n,s+=n-1+37*(n-1),n=Math.floor((i=s+(n=1)+65535)/65536),s=i-65536*n,n=Math.floor((i=o+n+65535)/65536),o=i-65536*n,n=Math.floor((i=a+n+65535)/65536),a=i-65536*n,n=Math.floor((i=l+n+65535)/65536),l=i-65536*n,n=Math.floor((i=c+n+65535)/65536),c=i-65536*n,n=Math.floor((i=u+n+65535)/65536),u=i-65536*n,n=Math.floor((i=h+n+65535)/65536),h=i-65536*n,n=Math.floor((i=d+n+65535)/65536),d=i-65536*n,n=Math.floor((i=f+n+65535)/65536),f=i-65536*n,n=Math.floor((i=p+n+65535)/65536),p=i-65536*n,n=Math.floor((i=y+n+65535)/65536),y=i-65536*n,n=Math.floor((i=v+n+65535)/65536),v=i-65536*n,n=Math.floor((i=m+n+65535)/65536),m=i-65536*n,n=Math.floor((i=g+n+65535)/65536),g=i-65536*n,n=Math.floor((i=w+n+65535)/65536),w=i-65536*n,n=Math.floor((i=b+n+65535)/65536),b=i-65536*n,s+=n-1+37*(n-1),e[0]=s,e[1]=o,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=y,e[11]=v,e[12]=m,e[13]=g,e[14]=w,e[15]=b}function W(e,t){D(e,t,t)}function z(e,t){var r,n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)W(n,n),2!==r&&4!==r&&D(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function J(e,t){var r,n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)W(n,n),1!==r&&D(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function j(e,t,r){var n,s,o=new Uint8Array(32),a=new Float64Array(80),l=i(),u=i(),h=i(),d=i(),f=i(),p=i();for(s=0;s<31;s++)o[s]=t[s];for(o[31]=127&t[31]|64,o[0]&=248,M(a,r),s=0;s<16;s++)u[s]=a[s],d[s]=l[s]=h[s]=0;for(s=254,l[0]=d[0]=1;s>=0;--s)x(l,u,n=o[s>>>3]>>>(7&s)&1),x(h,d,n),q(f,l,h),L(l,l,h),q(h,u,d),L(u,u,d),W(d,f),W(p,l),D(l,h,l),D(h,u,f),q(f,l,h),L(l,l,h),W(u,l),L(h,d,p),D(l,h,c),q(l,l,d),D(h,h,l),D(l,d,p),D(d,u,a),W(u,f),x(l,u,n),x(h,d,n);for(s=0;s<16;s++)a[s+16]=l[s],a[s+32]=h[s],a[s+48]=u[s],a[s+64]=d[s];var y=a.subarray(32),v=a.subarray(16);return z(y,y),D(v,v,y),R(e,v),0}function H(e,t){return j(e,t,o)}function F(e,t){return n(t,32),H(e,t)}function Y(e,t,r){var i=new Uint8Array(32);return j(i,r,t),b(e,s,i,_)}k.prototype.blocks=function(e,t,r){for(var i,n,s,o,a,l,c,u,h,d,f,p,y,v,m,g,w,b,_,A=this.fin?0:2048,E=this.h[0],S=this.h[1],T=this.h[2],k=this.h[3],P=this.h[4],O=this.h[5],U=this.h[6],I=this.h[7],C=this.h[8],N=this.h[9],x=this.r[0],R=this.r[1],B=this.r[2],K=this.r[3],M=this.r[4],q=this.r[5],L=this.r[6],D=this.r[7],W=this.r[8],z=this.r[9];r>=16;)E+=8191&(i=255&e[t+0]|(255&e[t+1])<<8),S+=(i>>>13|(n=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,T+=(n>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,k+=(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,P+=(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,O+=a>>>1&8191,U+=(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,I+=(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,C+=(c>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,N+=u>>>5|A,h=(d=(h=0)+E*x+5*z*S+5*W*T+5*D*k+5*L*P)>>>13,d&=8191,d+=5*q*O+5*M*U+5*K*I+5*B*C+5*R*N,h+=d>>>13,d&=8191,h=(f=h+E*R+S*x+5*z*T+5*W*k+5*D*P)>>>13,f&=8191,f+=5*L*O+5*q*U+5*M*I+5*K*C+5*B*N,h+=f>>>13,f&=8191,h=(p=h+E*B+S*R+T*x+5*z*k+5*W*P)>>>13,p&=8191,p+=5*D*O+5*L*U+5*q*I+5*M*C+5*K*N,h+=p>>>13,p&=8191,h=(y=h+E*K+S*B+T*R+k*x+5*z*P)>>>13,y&=8191,y+=5*W*O+5*D*U+5*L*I+5*q*C+5*M*N,h+=y>>>13,y&=8191,h=(v=h+E*M+S*K+T*B+k*R+P*x)>>>13,v&=8191,v+=5*z*O+5*W*U+5*D*I+5*L*C+5*q*N,h+=v>>>13,v&=8191,h=(m=h+E*q+S*M+T*K+k*B+P*R)>>>13,m&=8191,m+=O*x+5*z*U+5*W*I+5*D*C+5*L*N,h+=m>>>13,m&=8191,h=(g=h+E*L+S*q+T*M+k*K+P*B)>>>13,g&=8191,g+=O*R+U*x+5*z*I+5*W*C+5*D*N,h+=g>>>13,g&=8191,h=(w=h+E*D+S*L+T*q+k*M+P*K)>>>13,w&=8191,w+=O*B+U*R+I*x+5*z*C+5*W*N,h+=w>>>13,w&=8191,h=(b=h+E*W+S*D+T*L+k*q+P*M)>>>13,b&=8191,b+=O*K+U*B+I*R+C*x+5*z*N,h+=b>>>13,b&=8191,h=(_=h+E*z+S*W+T*D+k*L+P*q)>>>13,_&=8191,_+=O*M+U*K+I*B+C*R+N*x,h+=_>>>13,_&=8191,d=8191&(h=(h=(h<<2)+h|0)+d|0),h>>>=13,f+=h,E=d,S=f,T=p,k=y,P=v,O=m,U=g,I=w,C=b,N=_,t+=16,r-=16;this.h[0]=E,this.h[1]=S,this.h[2]=T,this.h[3]=k,this.h[4]=P,this.h[5]=O,this.h[6]=U,this.h[7]=I,this.h[8]=C,this.h[9]=N},k.prototype.finish=function(e,t){var r,i,n,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,i=(1^r)-1,s=0;s<10;s++)o[s]&=i;for(s=0,i=~i;s<10;s++)this.h[s]=this.h[s]&i|o[s];for(s=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,n=this.h[0]+this.pad[0],this.h[0]=65535&n;s<8;s++)n=(this.h[s]+this.pad[s]|0)+(n>>>16)|0,this.h[s]=65535&n;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var i,n;if(this.leftover){for((n=16-this.leftover)>r&&(n=r),i=0;i<n;i++)this.buffer[this.leftover+i]=e[t+i];if(r-=n,t+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(n=r-r%16,this.blocks(e,t,n),t+=n,r-=n),r){for(i=0;i<r;i++)this.buffer[this.leftover+i]=e[t+i];this.leftover+=r}};var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(e,t,r,i){for(var n,s,o,a,l,c,u,h,d,f,p,y,v,m,g,w,b,_,A,E,S,T,k,P,O,U,I=new Int32Array(16),C=new Int32Array(16),N=e[0],x=e[1],R=e[2],B=e[3],K=e[4],M=e[5],q=e[6],L=e[7],D=t[0],W=t[1],z=t[2],J=t[3],j=t[4],H=t[5],F=t[6],Y=t[7],V=0;i>=128;){for(A=0;A<16;A++)E=8*A+V,I[A]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],C[A]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(A=0;A<80;A++)if(n=N,s=x,o=R,a=B,l=K,c=M,u=q,h=L,d=D,f=W,p=z,y=J,v=j,m=H,g=F,w=Y,S=L,k=65535&(T=Y),P=T>>>16,O=65535&S,U=S>>>16,S=(K>>>14|j<<18)^(K>>>18|j<<14)^(j>>>9|K<<23),k+=65535&(T=(j>>>14|K<<18)^(j>>>18|K<<14)^(K>>>9|j<<23)),P+=T>>>16,O+=65535&S,U+=S>>>16,S=K&M^~K&q,k+=65535&(T=j&H^~j&F),P+=T>>>16,O+=65535&S,U+=S>>>16,S=G[2*A],k+=65535&(T=G[2*A+1]),P+=T>>>16,O+=65535&S,U+=S>>>16,S=I[A%16],k+=65535&(T=C[A%16]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,b=65535&O|U<<16,_=65535&k|P<<16,S=b,k=65535&(T=_),P=T>>>16,O=65535&S,U=S>>>16,S=(N>>>28|D<<4)^(D>>>2|N<<30)^(D>>>7|N<<25),k+=65535&(T=(D>>>28|N<<4)^(N>>>2|D<<30)^(N>>>7|D<<25)),P+=T>>>16,O+=65535&S,U+=S>>>16,S=N&x^N&R^x&R,k+=65535&(T=D&W^D&z^W&z),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,h=65535&O|U<<16,w=65535&k|P<<16,S=a,k=65535&(T=y),P=T>>>16,O=65535&S,U=S>>>16,S=b,k+=65535&(T=_),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,a=65535&O|U<<16,y=65535&k|P<<16,x=n,R=s,B=o,K=a,M=l,q=c,L=u,N=h,W=d,z=f,J=p,j=y,H=v,F=m,Y=g,D=w,A%16==15)for(E=0;E<16;E++)S=I[E],k=65535&(T=C[E]),P=T>>>16,O=65535&S,U=S>>>16,S=I[(E+9)%16],k+=65535&(T=C[(E+9)%16]),P+=T>>>16,O+=65535&S,U+=S>>>16,S=((b=I[(E+1)%16])>>>1|(_=C[(E+1)%16])<<31)^(b>>>8|_<<24)^b>>>7,k+=65535&(T=(_>>>1|b<<31)^(_>>>8|b<<24)^(_>>>7|b<<25)),P+=T>>>16,O+=65535&S,U+=S>>>16,S=((b=I[(E+14)%16])>>>19|(_=C[(E+14)%16])<<13)^(_>>>29|b<<3)^b>>>6,k+=65535&(T=(_>>>19|b<<13)^(b>>>29|_<<3)^(_>>>6|b<<26)),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,I[E]=65535&O|U<<16,C[E]=65535&k|P<<16;S=N,k=65535&(T=D),P=T>>>16,O=65535&S,U=S>>>16,S=e[0],k+=65535&(T=t[0]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,e[0]=N=65535&O|U<<16,t[0]=D=65535&k|P<<16,S=x,k=65535&(T=W),P=T>>>16,O=65535&S,U=S>>>16,S=e[1],k+=65535&(T=t[1]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,e[1]=x=65535&O|U<<16,t[1]=W=65535&k|P<<16,S=R,k=65535&(T=z),P=T>>>16,O=65535&S,U=S>>>16,S=e[2],k+=65535&(T=t[2]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,e[2]=R=65535&O|U<<16,t[2]=z=65535&k|P<<16,S=B,k=65535&(T=J),P=T>>>16,O=65535&S,U=S>>>16,S=e[3],k+=65535&(T=t[3]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,e[3]=B=65535&O|U<<16,t[3]=J=65535&k|P<<16,S=K,k=65535&(T=j),P=T>>>16,O=65535&S,U=S>>>16,S=e[4],k+=65535&(T=t[4]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,e[4]=K=65535&O|U<<16,t[4]=j=65535&k|P<<16,S=M,k=65535&(T=H),P=T>>>16,O=65535&S,U=S>>>16,S=e[5],k+=65535&(T=t[5]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,e[5]=M=65535&O|U<<16,t[5]=H=65535&k|P<<16,S=q,k=65535&(T=F),P=T>>>16,O=65535&S,U=S>>>16,S=e[6],k+=65535&(T=t[6]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,e[6]=q=65535&O|U<<16,t[6]=F=65535&k|P<<16,S=L,k=65535&(T=Y),P=T>>>16,O=65535&S,U=S>>>16,S=e[7],k+=65535&(T=t[7]),P+=T>>>16,O+=65535&S,U+=S>>>16,P+=k>>>16,O+=P>>>16,U+=O>>>16,e[7]=L=65535&O|U<<16,t[7]=Y=65535&k|P<<16,V+=128,i-=128}return i}function $(e,t,r){var i,n=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(n[0]=1779033703,n[1]=3144134277,n[2]=1013904242,n[3]=2773480762,n[4]=1359893119,n[5]=2600822924,n[6]=528734635,n[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,V(n,s,t,r),r%=128,i=0;i<r;i++)o[i]=t[a-r+i];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,y(o,r-8,a/536870912|0,a<<3),V(n,s,o,r),i=0;i<8;i++)y(e,8*i,n[i],s[i]);return 0}function X(e,t){var r=i(),n=i(),s=i(),o=i(),a=i(),l=i(),c=i(),u=i(),d=i();L(r,e[1],e[0]),L(d,t[1],t[0]),D(r,r,d),q(n,e[0],e[1]),q(d,t[0],t[1]),D(n,n,d),D(s,e[3],t[3]),D(s,s,h),D(o,e[2],t[2]),q(o,o,o),L(a,n,r),L(l,o,s),q(c,o,s),q(u,n,r),D(e[0],a,l),D(e[1],u,c),D(e[2],c,l),D(e[3],a,u)}function Z(e,t,r){var i;for(i=0;i<4;i++)x(e[i],t[i],r)}function Q(e,t){var r=i(),n=i(),s=i();z(s,t[2]),D(r,t[0],s),D(n,t[1],s),R(e,n),e[31]^=K(r)<<7}function ee(e,t,r){var i,n;for(C(e[0],a),C(e[1],l),C(e[2],l),C(e[3],a),n=255;n>=0;--n)Z(e,t,i=r[n/8|0]>>(7&n)&1),X(t,e),X(e,e),Z(e,t,i)}function et(e,t){var r=[i(),i(),i(),i()];C(r[0],d),C(r[1],f),C(r[2],l),D(r[3],d,f),ee(e,r,t)}function er(e,t,r){var s,o=new Uint8Array(64),a=[i(),i(),i(),i()];for(r||n(t,32),$(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,et(a,o),Q(e,a),s=0;s<32;s++)t[s+32]=e[s];return 0}var ei=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function en(e,t){var r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)t[n]+=r-16*t[i]*ei[n-(i-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[i]=0}for(n=0,r=0;n<32;n++)t[n]+=r-(t[31]>>4)*ei[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*ei[n];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function es(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;en(e,r)}function eo(e,t,r,n){var s,o,a=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),h=[i(),i(),i(),i()];for($(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,s=0;s<r;s++)e[64+s]=t[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for($(c,e.subarray(32),r+32),es(c),et(h,c),Q(e,h),s=32;s<64;s++)e[s]=n[s];for($(l,e,r+64),es(l),s=0;s<64;s++)u[s]=0;for(s=0;s<32;s++)u[s]=c[s];for(s=0;s<32;s++)for(o=0;o<32;o++)u[s+o]+=l[s]*a[o];return en(e.subarray(32),u),r+64}function ea(e,t,r,n){var s,o,c,h,d,f,y,v,m=new Uint8Array(32),w=new Uint8Array(64),b=[i(),i(),i(),i()],_=[i(),i(),i(),i()];if(r<64||(s=i(),o=i(),c=i(),h=i(),d=i(),f=i(),y=i(),(C(_[2],l),M(_[1],n),W(c,_[1]),D(h,c,u),L(c,c,_[2]),q(h,_[2],h),W(d,h),W(f,d),D(y,f,d),D(s,y,c),D(s,s,h),J(s,s),D(s,s,c),D(s,s,h),D(s,s,h),D(_[0],s,h),W(o,_[0]),D(o,o,h),B(o,c)&&D(_[0],_[0],p),W(o,_[0]),D(o,o,h),B(o,c))?-1:(K(_[0])===n[31]>>7&&L(_[0],a,_[0]),D(_[3],_[0],_[1]),0)))return -1;for(v=0;v<r;v++)e[v]=t[v];for(v=0;v<32;v++)e[v+32]=n[v];if($(w,e,r),es(w),ee(b,_,w),et(_,t.subarray(32)),X(b,_),Q(m,b),r-=64,g(t,0,m,0)){for(v=0;v<r;v++)e[v]=0;return -1}for(v=0;v<r;v++)e[v]=t[v+64];return r}function el(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function ec(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function eu(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:T,crypto_stream:S,crypto_stream_salsa20_xor:A,crypto_stream_salsa20:E,crypto_onetimeauth:P,crypto_onetimeauth_verify:O,crypto_verify_16:m,crypto_verify_32:g,crypto_secretbox:U,crypto_secretbox_open:I,crypto_scalarmult:j,crypto_scalarmult_base:H,crypto_box_beforenm:Y,crypto_box_afternm:U,crypto_box:function(e,t,r,i,n,s){var o=new Uint8Array(32);return Y(o,n,s),U(e,t,r,i,o)},crypto_box_open:function(e,t,r,i,n,s){var o=new Uint8Array(32);return Y(o,n,s),I(e,t,r,i,o)},crypto_box_keypair:F,crypto_hash:$,crypto_sign:eo,crypto_sign_keypair:er,crypto_sign_open:ea,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:i,D:u,L:ei,pack25519:R,unpack25519:M,M:D,A:q,S:W,Z:L,pow2523:J,add:X,set25519:C,modL:en,scalarmult:ee,scalarbase:et},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){ec(e,t,r),el(r,t);for(var i=new Uint8Array(32+e.length),n=new Uint8Array(i.length),s=0;s<e.length;s++)i[s+32]=e[s];return U(n,i,i.length,t,r),n.subarray(16)},e.secretbox.open=function(e,t,r){ec(e,t,r),el(r,t);for(var i=new Uint8Array(16+e.length),n=new Uint8Array(i.length),s=0;s<e.length;s++)i[s+16]=e[s];return i.length<32||0!==I(n,i,i.length,t,r)?null:n.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(ec(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return j(r,e,t),r},e.scalarMult.base=function(e){if(ec(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,i,n){var s=e.box.before(i,n);return e.secretbox(t,r,s)},e.box.before=function(e,t){ec(e,t),function(e,t){if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return Y(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,i,n){var s=e.box.before(i,n);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return F(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(ec(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(ec(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return eo(r,e,e.length,t),r},e.sign.open=function(e,t){if(ec(e,t),32!==t.length)throw Error("bad public key size");var r=new Uint8Array(e.length),i=ea(r,e,e.length,t);if(i<0)return null;for(var n=new Uint8Array(i),s=0;s<n.length;s++)n[s]=r[s];return n},e.sign.detached=function(t,r){for(var i=e.sign(t,r),n=new Uint8Array(64),s=0;s<n.length;s++)n[s]=i[s];return n},e.sign.detached.verify=function(e,t,r){if(ec(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var i,n=new Uint8Array(64+e.length),s=new Uint8Array(64+e.length);for(i=0;i<64;i++)n[i]=t[i];for(i=0;i<e.length;i++)n[i+64]=e[i];return ea(s,n,n.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return er(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(ec(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(ec(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),i=0;i<32;i++)r[i]=e[i];return er(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){ec(e);var t=new Uint8Array(64);return $(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return ec(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===v(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},(t="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var i,n=new Uint8Array(r);for(i=0;i<r;i+=65536)t.getRandomValues(n.subarray(i,i+Math.min(r-i,65536)));for(i=0;i<r;i++)e[i]=n[i];eu(n)}):(t=r(39201))&&t.randomBytes&&e.setPRNG(function(e,r){var i,n=t.randomBytes(r);for(i=0;i<r;i++)e[i]=n[i];eu(n)})}(e.exports?e.exports:self.nacl=self.nacl||{})},26469:function(e,t,r){"use strict";var i=r(82595).Buffer;let n=r(67473),s=r(7529);class o extends n.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:n=1e3,max_reconnects:o=5,...a}={},l,c){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=n,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>++this.rpc_id),c?this.dataPack=c:this.dataPack=new s.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,i){return i||"object"!=typeof r||(i=r,r=null),new Promise((n,s)=>{if(!this.ready)return s(Error("socket not ready"));let o=this.generate_request_id(e,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t||void 0,id:o}),i,e=>{if(e)return s(e);this.queue[o]={promise:[n,s]},r&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,i)=>{if(!this.ready)return i(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t}),e=>{if(e)return i(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=i.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}}t.Z=o},58455:function(e,t,r){"use strict";let i=r(67473);class n extends i.EventEmitter{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){let i=r||t;try{this.socket.send(e),i()}catch(e){i(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}}t.Z=function(e,t){return new n(e,t)}},7529:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createError=t.DefaultDataPack=void 0;let r=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class i{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}}t.DefaultDataPack=i,t.createError=function(e,t){let i={code:e,message:r.get(e)||"Internal Server Error"};return t&&(i.data=t),i}},69359:function(e,t,r){"use strict";let i;r.d(t,{YN:function(){return tL},j_:function(){return eC}});var n,s,o,a,l,c=r(17160),u="4.0.0-alpha.12";function h(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})}function d(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)}"function"==typeof SuppressedError&&SuppressedError;var f=r(52044),p=r(3553),y=r(51156),v=r(82595).Buffer;let m=e=>v.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),g=()=>{let e=new Uint8Array(32);return crypto.getRandomValues(e),e.buffer};var w=r(5602);let b={AUTHENTICATOR_TRANSPORT_BLE:w.lfg.Ble,AUTHENTICATOR_TRANSPORT_HYBRID:w.lfg.Hybrid,AUTHENTICATOR_TRANSPORT_INTERNAL:w.lfg.Internal,AUTHENTICATOR_TRANSPORT_NFC:w.lfg.Nfc,AUTHENTICATOR_TRANSPORT_USB:w.lfg.Usb},_=e=>e.map(e=>b[e]);var A=r(36341);let E=["Turnkey error 16: expired api key","Turnkey error 16: could not find public key"],S=["The operation either timed out or was not allowed","The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.","Turnkey error 5: webauthn authenticator not found in organization or parent organization","The user cancelled the request"];class T extends A.Y{error(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];let[n]=r;(null==n?void 0:n.message)&&S.some(e=>n.message.includes(e))?this.warn(e,...r):(A.Y.events.emit("error",e),this.log(A.i.ERROR,e,...r))}constructor(e,t){super(e,t)}}let k=new T("Dynamic embedded wallets",A.i.INFO);var P=r(76764),O=r(89794),U=r(39583),I=r(82113);let C=()=>({createWebauthnStamper:e=>new U.S(e),getWebAuthnAttestation:I.lW});class N{static get implementation(){return d(s,s,"f",o)?d(s,s,"f",o):C()}static set implementation(e){!function(e,t,r,i,n){if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");n?n.value=r:t.set(e,r)}(s,s,e,"f",o)}static get getWebAuthnAttestation(){return s.implementation.getWebAuthnAttestation}static get createWebauthnStamper(){return s.implementation.createWebauthnStamper}}s=N,o={value:void 0};let x="https://api.turnkey.com";class R{get publicKey(){return this.__publicKey}get client(){return this.__client}get recoveryType(){return this.__recoveryType}get recoveryUserId(){return this.__turnkeyRecoveryUserId||""}set recoveryUserId(e){this.__turnkeyRecoveryUserId=e}clear(){var e;null===(e=this.__iframeStamper)||void 0===e||e.clear(),this.__recoveryType=void 0,this.__iframeStamper=void 0,this.__publicKey=void 0,this.__client=void 0,this.__turnkeyRecoveryUserId=void 0,this.__createdAt=void 0}initRecovery(e,t,r,i){return h(this,void 0,void 0,function*(){return this.__recoveryType&&this.clear(),this.__sessionExpiration=i,this.__recoveryType=e,this.__iframeStamper=new P.rr({iframeContainer:t,iframeElementId:r,iframeUrl:"passkey"===e?"https://recovery.turnkey.com":"https://auth.turnkey.com"}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),this.__publicKey})}verifyRecoveryCode(e,t){return h(this,void 0,void 0,function*(){if(!this.__iframeStamper)throw new y.kW("Cannot proceed with your request");try{if(yield this.__iframeStamper.injectCredentialBundle(e),this.__client=new O.TF({baseUrl:x},this.__iframeStamper),!t||!this.__turnkeyRecoveryUserId)throw new y.kW("Cannot proceed with your request");if(!(yield this.isValidCode(t)))throw new y.kW("The code is invalid or expired.")}catch(e){if(k.error("Error while verifying recovery code",e),e instanceof y.kW)throw e;throw new y.kW("The code is invalid or expired.")}})}completeRecovery(e){return h(this,arguments,void 0,function*(e){let{attestation:t,challenge:r,turnkeySubOrganizationId:i}=e;if(!this.__client||!this.__turnkeyRecoveryUserId)throw new y.kW("Cannot proceed with your request");try{return this.__client.recoverUser({organizationId:i,parameters:{authenticator:{attestation:t,authenticatorName:"Passkey",challenge:r},userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"})}catch(e){throw k.error("[TK] Error while completing recovery process",e),e}})}addPasskeyAuthenticator(e){return h(this,arguments,void 0,function*(e){let{attestation:t,challenge:r,turnkeySubOrganizationId:i}=e;if(!this.__client||!this.__turnkeyRecoveryUserId)throw new y.kW("Cannot proceed with your request");try{return this.__client.createAuthenticators({organizationId:i,parameters:{authenticators:[{attestation:t,authenticatorName:"Passkey",challenge:r}],userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"})}catch(e){throw k.error("[TK] Error while creating new authenticator",e),e}})}addEmailRecovery(e){return h(this,arguments,void 0,function*(e){let{organizationId:t,email:r,turnkeyUserId:i}=e,n=(0,y.KT)();n||(n=y.mi.getHostname());let s=N.createWebauthnStamper({rpId:n}),o=new O.TF({baseUrl:x},s);try{return{signedRequest:yield o.stampUpdateUser({organizationId:t,parameters:{userEmail:r,userId:i,userTagIds:[]},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"}),userId:i}}catch(e){throw k.error("Error while adding email recovery",e),e}})}constructor(){this.isSessionActive=()=>!!this.__createdAt&&"email"===this.__recoveryType&&(!this.isExpired(this.__createdAt,this.__sessionExpiration||1800)||(this.clear(),!1)),this.isValidCode=e=>h(this,void 0,void 0,function*(){var t,r,i,n;if(!e||!this.__turnkeyRecoveryUserId)throw new y.kW("Cannot proceed with your request");let s=yield null===(t=this.__client)||void 0===t?void 0:t.getUser({organizationId:e,userId:this.__turnkeyRecoveryUserId}),o={email:"CREDENTIAL_TYPE_API_KEY_P256",passkey:"CREDENTIAL_TYPE_RECOVER_USER_KEY_P256"},a=null===(n=null===(i=null===(r=null==s?void 0:s.user)||void 0===r?void 0:r.apiKeys)||void 0===i?void 0:i.filter(e=>e.credential.type===o[this.__recoveryType]))||void 0===n?void 0:n.pop();return!(!a||this.isExpired(parseInt(a.createdAt.seconds,10),900))&&(this.__createdAt=parseInt(a.createdAt.seconds,10),!0)}),this.isExpired=(e,t)=>{let r=new Date(1e3*(e+t));return new Date>=r}}}let B=new R,K="https://api.turnkey.com";class M{get publicKey(){return this.__publicKey}clear(){var e;null===(e=this.__iframeStamper)||void 0===e||e.clear(),this.__iframeStamper=void 0,this.__publicKey=void 0,this.__turnkeyClient=void 0}initExport(e,t){return h(this,void 0,void 0,function*(){if(this.__iframeStamper=new P.rr({iframeContainer:e,iframeElementId:t,iframeUrl:"https://export.turnkey.com"}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),B.isSessionActive())this.__turnkeyClient=B.client;else{let e=(0,y.KT)();e||(e=y.mi.getHostname());let t=N.createWebauthnStamper({rpId:e}),r=null==M?void 0:M.apiKeyStamper;this.__turnkeyClient=new O.TF({baseUrl:K},null!=r?r:t)}return this.__publicKey})}verifyExportWallet(e){return h(this,arguments,void 0,function*(e){let{exportBundle:t,organizationId:r}=e;if(!this.__iframeStamper)throw new y.kW("Cannot proceed with your request");try{return yield this.__iframeStamper.injectWalletExportBundle(t,r)}catch(e){throw k.error("Error while verifying export wallet",e),e}})}verifyExportPrivateKey(e){return h(this,arguments,void 0,function*(e){let{exportBundle:t,organizationId:r,chain:i}=e;if(!this.__iframeStamper)throw new y.kW("Cannot proceed with your request");let n="solana"===i||"SOL"===i?P.PX.Solana:P.PX.Hexadecimal;try{return yield this.__iframeStamper.injectKeyExportBundle(t,r,n)}catch(e){throw k.error("Error while verifying export private key",e),e}})}exportPrivateKey(e){return h(this,arguments,void 0,function*(e){let{privateKeyId:t,organizationId:r}=e,i=null==M?void 0:M.apiKeyStamper;if(i&&(this.__turnkeyClient=new O.TF({baseUrl:K},i)),!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!t)throw new y.kW("Cannot proceed with your request");try{return(yield this.__turnkeyClient.exportPrivateKey({organizationId:r,parameters:{privateKeyId:t,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"})).activity}catch(e){throw k.error("[TK] Error while completing export private key process",e),e}})}exportWallet(e){return h(this,arguments,void 0,function*(e){let{walletId:t,organizationId:r,address:i}=e,n=null==M?void 0:M.apiKeyStamper;if(n&&(this.__turnkeyClient=new O.TF({baseUrl:K},n)),!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!t)throw new y.kW("Cannot proceed with your request");try{if(i)return(yield this.__turnkeyClient.exportWalletAccount({organizationId:r,parameters:{address:i,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"})).activity;return(yield this.__turnkeyClient.exportWallet({organizationId:r,parameters:{targetPublicKey:this.__publicKey,walletId:t},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"})).activity}catch(e){throw k.error("[TK] Error while completing export wallet process",e),e}})}}class q extends p.VY{getWebAuthnAttestation(){return h(this,void 0,void 0,function*(){let e;let t=g(),r=g(),{email:i,passkeyIdentifier:n}=this;if(!i&&!n)throw Error("Email or passkeyIdentifier must be set to register a webauthn credential.");let s=i||"".concat(this.appName," - ").concat(n),o={publicKey:{authenticatorSelection:{authenticatorAttachment:void 0,requireResidentKey:!1,residentKey:"preferred",userVerification:"discouraged"},challenge:t,pubKeyCredParams:[{alg:-7,type:"public-key"}],rp:{id:(0,y.KT)(),name:this.appName},user:{displayName:s,id:r,name:i||"".concat(this.appName," - ").concat(n)}}};try{e=yield N.getWebAuthnAttestation(o)}catch(t){k.warn("Unable to register webauthn credential on the current page's TLD ".concat((0,y.KT)(),". Falling back to using hostname. ").concat(y.mi.getHostname()),t),o.publicKey.rp.id=y.mi.getHostname(),e=yield N.getWebAuthnAttestation(o)}return{attestation:{attestationObject:e.attestationObject,clientDataJson:e.clientDataJson,credentialId:e.credentialId,transports:_(e.transports)},challenge:m(t),displayName:s}})}getAuthenticatorHandler(){return this.__authenticatorMethodHandler}getExportHandler(){return this.__exportHandler}get email(){return this._email}setEmail(e){this._email=e}get phone(){return this._phone}setPhone(e){this._phone=e}get passkeyIdentifier(){return this._passkeyIdentifier}setPasskeyIdentifier(e){this._passkeyIdentifier=e}clearEmail(){this._email=null}getAddress(){return h(this,void 0,void 0,function*(){var e;return null===(e=this.verifiedCredential)||void 0===e?void 0:e.address})}getConnectedAccounts(){return h(this,void 0,void 0,function*(){return(this.verifiedCredentials||[]).map(e=>null==e?void 0:e.address).filter(e=>"string"==typeof e)})}get turnkeyAddress(){var e;let{address:t}=null!==(e=this.verifiedCredential)&&void 0!==e?e:{};return t}get walletProperties(){let{walletProperties:e}=this.verifiedCredential||{};return e}set verifiedCredentials(e){this._verifiedCredentials=e}get verifiedCredentials(){return this._verifiedCredentials}set verifiedCredential(e){this._verifiedCredential=e}get verifiedCredential(){return this._verifiedCredential}setSessionKeyFetcher(e){this.createOrRestoreSessionFetcherFunction=e}setSessionKeyRemoveFunction(e){this.removeSessionKeysFunction=e}createOrRestoreSession(){return h(this,arguments,void 0,function*(){let{ignoreRestore:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isSessionKeyCompatible()||q.isLoadingSession)return;if(!this.createOrRestoreSessionFetcherFunction)throw new y.kW("Cannot register session key to init provider");let{sessionKeys:t}=q;if((null==t?void 0:t.publicKey)&&!(new Date>=new Date(t.expirationDate)))return t.publicKey;try{q.isLoadingSession=!0;let t=yield this.createOrRestoreSessionFetcherFunction({ignoreRestore:e});return q.sessionKeys=t,q.apiKeyStamper=new f.z9({apiPrivateKey:t.privateKey,apiPublicKey:t.publicKey}),M.apiKeyStamper=q.apiKeyStamper,k.metaData.set("sessionApiPublicKey",t.publicKey),t.publicKey}catch(e){throw new y.kW("Failed to create or restore session")}finally{q.isLoadingSession=!1}})}isSessionKeyCompatible(){var e;let t=null===(e=this.verifiedCredential)||void 0===e?void 0:e.walletProperties;return!!(null==t?void 0:t.isSessionKeyCompatible)}isSessionActive(){return h(this,void 0,void 0,function*(){return!!((yield this.getAddress())&&q.sessionKeys&&q.apiKeyStamper)})}get sessionKeys(){return q.sessionKeys}setLoggerMetadata(){var e,t,r;k.metaData.set("turnkeySubOrganizationId",null===(t=null===(e=this._verifiedCredential)||void 0===e?void 0:e.walletProperties)||void 0===t?void 0:t.turnkeySubOrganizationId),k.metaData.set("walletId",null===(r=this._verifiedCredential)||void 0===r?void 0:r.id);let i="Unknown";this.isSessionKeyCompatible()?i="SessionKeys":"passkey"===this.__authenticatorMethodHandler.recoveryType?i="Passkey":"email"===this.__authenticatorMethodHandler.recoveryType&&(i="EmailAuth"),k.metaData.set("authMethod",i)}constructor(e,t){if(super(t),this.requiresNonDynamicEmailOtp=!1,this.isEmbeddedWallet=!0,this.removeSessionKeys=()=>h(this,void 0,void 0,function*(){q.sessionKeys=void 0,q.apiKeyStamper=void 0,M.apiKeyStamper=void 0}),!t.appName)throw Error("appName not set");this.name=e.name,this.overrideKey=e.key,this.appName=t.appName,this.__authenticatorMethodHandler=B,this.__exportHandler=new M}}q.isLoadingSession=!1;let L={TurnkeyHD:{key:"turnkeyhd",name:"Turnkey HD"}},D=(e,t)=>null==e?void 0:e.filter(e=>{let{walletName:r,chain:i}=e;return(null==r?void 0:r.startsWith("turnkey"))&&t===i});function W(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})}(0,c.J)("@dynamic-labs/embedded-wallet","4.0.0-alpha.12"),"function"==typeof SuppressedError&&SuppressedError;var z=r(99874),J=r(86436),j=r(82595).Buffer;class H{constructor(e){this.organizationId=e.organizationId,this.client=e.client}async signAllTransactions(e,t){let r=new J.nh(t),i=e.map(e=>this.getMessageToSign(e).toString("hex")),n=await this.signRawPayloads(i,t),s=n.signRawPayloadsResult?.signatures?.map(e=>`${e?.r}${e?.s}`);for(let t in e)e[t]?.addSignature(r,j.from(s[t],"hex"));return e}async addSignature(e,t){let r=new J.nh(t),i=this.getMessageToSign(e),n=await this.signRawPayload(i.toString("hex"),t),s=`${n.signRawPayloadResult?.r}${n.signRawPayloadResult?.s}`;e.addSignature(r,j.from(s,"hex"))}async signMessage(e,t){let r=await this.signRawPayload(j.from(e).toString("hex"),t);return j.from(`${r.signRawPayloadResult?.r}${r.signRawPayloadResult?.s}`,"hex")}async signRawPayload(e,t){let{id:r,status:i,type:n,result:s}=(await this.client.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:t,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}})).activity;if("ACTIVITY_STATUS_COMPLETED"!==i)throw new O.eM({message:`Expected COMPLETED status, got ${i}`,activityId:r,activityStatus:i,activityType:n});return s}async signRawPayloads(e,t){let{id:r,status:i,type:n,result:s}=(await this.client.signRawPayloads({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",organizationId:this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:t,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}})).activity;if("ACTIVITY_STATUS_COMPLETED"!==i)throw new O.eM({message:`Expected COMPLETED status, got ${i}`,activityId:r,activityStatus:i,activityType:n});return s}getMessageToSign(e){return"function"==typeof e.serializeMessage?e.serializeMessage():j.from(e.message.serialize())}}function F(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;var Y=r(78144);class G extends p.w5{getConnection(){return F(this,void 0,void 0,function*(){return this._connector.getWalletClient()})}getSigner(){return F(this,void 0,void 0,function*(){let e=yield this._connector.getSigner();if(!e)throw Error("unable to retrieve Solana signer");try{var t=this;return(0,y.fK)(e,{signAllTransactions:t=>F(this,void 0,void 0,function*(){return yield this.sync(),e.signAllTransactions(t)}),signAndSendTransaction:function(r){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return F(t,void 0,void 0,function*(){return yield this.sync(),e.signAndSendTransaction(r,...n)})},signMessage:function(r){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return F(t,void 0,void 0,function*(){return yield this.sync(),e.signMessage(r,...n)})},signTransaction:t=>F(this,void 0,void 0,function*(){return yield this.sync(),e.signTransaction(t)})})}catch(t){return p.kg.warn("Failed to add logic to auto-sync the wallet. Signer might be out of sync for wallet: ".concat(this._connector.name," (").concat(this.address,")"),t),e}})}}let V=e=>{let t=e.match(/Nonce: (.*)/);if(t&&2===t.length)return t[1]},$=e=>"".concat(e,"_").concat("genesis-hash");var X=r(82595).Buffer;let Z=new z.nh("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");class Q extends p.VY{getNetwork(){return F(this,void 0,void 0,function*(){let e=this.getWalletClient(),t=localStorage.getItem($(e.rpcEndpoint));return t||(t=yield e.getGenesisHash(),localStorage.setItem($(e.rpcEndpoint),t)),"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"===(t=t.substring(0,32))?"mainnet":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"===t?"devnet":"testnet"})}endSession(){return F(this,void 0,void 0,function*(){localStorage.removeItem($(this.getWalletClient().rpcEndpoint))})}getWalletClient(){var e;let[t]=this.solNetworks;if(!t)throw new y.kW("No enabled networks");let r=(null===(e=t.privateCustomerRpcUrls)||void 0===e?void 0:e[0])||t.rpcUrls[0];return new z.ew(r,"confirmed")}getPublicClient(){return F(this,void 0,void 0,function*(){var e;if(0===this.solNetworks.length)return;let t={cosmos:[],evm:void 0,solana:this.solNetworks,starknet:void 0};if(!this.chainRpcProviders)return;let r=this.chainRpcProviders.getProviders(t);return null===(e=this.chainRpcProviders.getSolanaProviderByChainId(r,"101"))||void 0===e?void 0:e.provider})}getBalance(e){return F(this,void 0,void 0,function*(){let t=new z.nh(e);return this.lamportsToSol((yield this.getWalletClient().getBalance(t))).toString()})}lamportsToSol(e){return e/1e9}canConnectWithHardwareWallet(){let e=(0,Y.IP)(this.walletBook,this.key);return!!e&&!!e.hardwareWallets&&e.hardwareWallets.includes("ledger")}signMessage(e){let t=Object.create(null,{signMessage:{get:()=>super.signMessage}});return F(this,void 0,void 0,function*(){if(this.isHardwareWalletEnabled)throw new y.B8("Message signing is currently not supported on ".concat(this.name," hardware wallet.\n          You can use signMessageViaTransaction instead to achieve similar functionality\n          by signing a transaction with a memo instruction.\n          You can read more about it here https://github.com/solana-labs/solana/issues/21366"));return t.signMessage.call(this,e)})}proveOwnership(e,t){let r=Object.create(null,{proveOwnership:{get:()=>super.proveOwnership}});return F(this,void 0,void 0,function*(){if(yield this.validateActiveWallet(e),this.isHardwareWalletEnabled){let e=V(t);if(!e)throw new y.kW("Nonce missing");return this.signMessageViaTransaction(e)}return r.proveOwnership.call(this,e,t)})}signMessageViaTransaction(e){return F(this,void 0,void 0,function*(){let t=yield this.getAddress();if(!t)throw new y.kW("Address missing");let r=this.buildAuthTx(e);r.feePayer=new z.nh(t),r.recentBlockhash=(yield this.getWalletClient().getLatestBlockhash()).blockhash;let i=yield this.getSigner();if(!i)throw new y.kW("Signer not found");return JSON.stringify({signedTransaction:{data:Array.from((yield i.signTransaction(r)).serialize()),type:"Buffer"}})})}buildAuthTx(e){let t=new z.YW;return t.add(new z.Sl({data:X.from(e,"utf8"),keys:[],programId:Z})),t}setVerifiedCredentials(e){this.verifiedCredentials=e}isLedgerAddress(e){return(0,y.XP)(e,this.verifiedCredentials)}constructor(e){var t;super(e),this.isHardwareWalletEnabled=!1,this.verifiedCredentials=[],this.ChainWallet=G,this.supportedChains=["SOL"],this.connectedChain="SOL",this.solNetworks=e.solNetworks,this.chainRpcProviders=e.chainRpcProviders,null===(t=this.chainRpcProviders)||void 0===t||t.registerSolanaProviders()}}var ee=r(17634);ee.lC.getSolanaProviderByChainId=(e,t)=>{var r;return null===(r=e.solana)||void 0===r?void 0:r.find(e=>e.chainId===t)},ee.lC.registerSolanaProviders=()=>{ee.lC.registerChainProviders(ee.r0.SOLANA,e=>{let t={};return(null==e?void 0:e.solana)&&(t.solana=e.solana.map(e=>{var t;let r=(null===(t=e.privateCustomerRpcUrls)||void 0===t?void 0:t[0])||e.rpcUrls[0],i=new z.ew(r);return{chainId:e.chainId.toString(),chainName:e.name,provider:i}})),t.solana})};var et=r(78181),er=r(85379);let ei=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var en=r(82595).Buffer;let es=e=>t=>{let r=(0,et.Ik)(e,t),{encode:i,decode:n}=ei(r);return r.decode=(e,t)=>{let r=n(e,t);return(0,er.oU)(en.from(r))},r.encode=(t,r,n)=>i((0,er.k$)(t,e),r,n),r},eo=e=>t=>{let r=(0,et.Ik)(e,t),{encode:i,decode:n}=ei(r);return r.decode=(e,t)=>{let r=n(e,t);return(0,er.Q5)(en.from(r))},r.encode=(t,r,n)=>i((0,er.zP)(t,e),r,n),r},ea=es(8);eo(8),es(16),eo(16),es(24),eo(24),es(32),eo(32);var el=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ec=Math.ceil,eu=Math.floor,eh="[BigNumber Error] ",ed=eh+"Number primitive has more than 15 significant digits: ",ef=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function ep(e){var t=0|e;return e>0||e===t?t:t-1}function ey(e){for(var t,r,i=1,n=e.length,s=e[0]+"";i<n;){for(r=14-(t=e[i++]+"").length;r--;t="0"+t);s+=t}for(n=s.length;48===s.charCodeAt(--n););return s.slice(0,n+1||1)}function ev(e,t){var r,i,n=e.c,s=t.c,o=e.s,a=t.s,l=e.e,c=t.e;if(!o||!a)return null;if(r=n&&!n[0],i=s&&!s[0],r||i)return r?i?0:-a:o;if(o!=a)return o;if(r=o<0,i=l==c,!n||!s)return i?0:!n^r?1:-1;if(!i)return l>c^r?1:-1;for(o=0,a=(l=n.length)<(c=s.length)?l:c;o<a;o++)if(n[o]!=s[o])return n[o]>s[o]^r?1:-1;return l==c?0:l>c^r?1:-1}function em(e,t,r,i){if(e<t||e>r||e!==eu(e))throw Error(eh+(i||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function eg(e){var t=e.c.length-1;return ep(e.e/14)==t&&e.c[t]%2!=0}function ew(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function eb(e,t,r){var i,n;if(t<0){for(n=r+".";++t;n+=r);e=n+e}else if(i=e.length,++t>i){for(n=r,t-=i;--t;n+=r);e+=n}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}new(function e(t){var r,i,n,s,o,a,l,c,u,h=T.prototype={constructor:T,toString:null,valueOf:null},d=new T(1),f=20,p=4,y=-7,v=21,m=-1e7,g=1e7,w=!1,b=1,_=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},E="0123456789abcdefghijklmnopqrstuvwxyz",S=!0;function T(e,t){var r,i,n,s,o,a,l,h,d=this;if(!(d instanceof T))return new T(e,t);if(null==t){if(e&&!0===e._isBigNumber){d.s=e.s,!e.c||e.e>g?d.c=d.e=null:e.e<m?d.c=[d.e=0]:(d.e=e.e,d.c=e.c.slice());return}if((a="number"==typeof e)&&0*e==0){if(d.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,o=e;o>=10;o/=10,s++);s>g?d.c=d.e=null:(d.e=s,d.c=[e]);return}h=String(e)}else{if(!el.test(h=String(e)))return u(d,h,a);d.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(s=h.indexOf("."))>-1&&(h=h.replace(".","")),(o=h.search(/e/i))>0?(s<0&&(s=o),s+=+h.slice(o+1),h=h.substring(0,o)):s<0&&(s=h.length)}else{if(em(t,2,E.length,"Base"),10==t&&S)return U(d=new T(e),f+d.e+1,p);if(h=String(e),a="number"==typeof e){if(0*e!=0)return u(d,h,a,t);if(d.s=1/e<0?(h=h.slice(1),-1):1,T.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(ed+e)}else d.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=E.slice(0,t),s=o=0,l=h.length;o<l;o++)if(0>r.indexOf(i=h.charAt(o))){if("."==i){if(o>s){s=l;continue}}else if(!n&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){n=!0,o=-1,s=0;continue}return u(d,String(e),a,t)}a=!1,(s=(h=c(h,t,10,d.s)).indexOf("."))>-1?h=h.replace(".",""):s=h.length}for(o=0;48===h.charCodeAt(o);o++);for(l=h.length;48===h.charCodeAt(--l););if(h=h.slice(o,++l)){if(l-=o,a&&T.DEBUG&&l>15&&(e>9007199254740991||e!==eu(e)))throw Error(ed+d.s*e);if((s=s-o-1)>g)d.c=d.e=null;else if(s<m)d.c=[d.e=0];else{if(d.e=s,d.c=[],o=(s+1)%14,s<0&&(o+=14),o<l){for(o&&d.c.push(+h.slice(0,o)),l-=14;o<l;)d.c.push(+h.slice(o,o+=14));o=14-(h=h.slice(o)).length}else o-=l;for(;o--;h+="0");d.c.push(+h)}}else d.c=[d.e=0]}function k(e,t,r,i){var n,s,o,a,l;if(null==r?r=p:em(r,0,8),!e.c)return e.toString();if(n=e.c[0],o=e.e,null==t)l=ey(e.c),l=1==i||2==i&&(o<=y||o>=v)?ew(l,o):eb(l,o,"0");else if(s=(e=U(new T(e),t,r)).e,a=(l=ey(e.c)).length,1==i||2==i&&(t<=s||s<=y)){for(;a<t;l+="0",a++);l=ew(l,s)}else if(t-=o,l=eb(l,s,"0"),s+1>a){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=s-a)>0)for(s+1==a&&(l+=".");t--;l+="0");return e.s<0&&n?"-"+l:l}function P(e,t){for(var r,i,n=1,s=new T(e[0]);n<e.length;n++)(i=new T(e[n])).s&&(r=ev(s,i))!==t&&(0!==r||s.s!==t)||(s=i);return s}function O(e,t,r){for(var i=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,i++);return(r=i+14*r-1)>g?e.c=e.e=null:r<m?e.c=[e.e=0]:(e.e=r,e.c=t),e}function U(e,t,r,i){var n,s,o,a,l,c,u,h=e.c;if(h){e:{for(n=1,a=h[0];a>=10;a/=10,n++);if((s=t-n)<0)s+=14,o=t,u=eu((l=h[c=0])/ef[n-o-1]%10);else if((c=ec((s+1)/14))>=h.length){if(i){for(;h.length<=c;h.push(0));l=u=0,n=1,s%=14,o=s-14+1}else break e}else{for(n=1,l=a=h[c];a>=10;a/=10,n++);s%=14,u=(o=s-14+n)<0?0:eu(l/ef[n-o-1]%10)}if(i=i||t<0||null!=h[c+1]||(o<0?l:l%ef[n-o-1]),i=r<4?(u||i)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||i||6==r&&(s>0?o>0?l/ef[n-o]:0:h[c-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,i?(t-=e.e+1,h[0]=ef[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=c,a=1,c--):(h.length=c+1,a=ef[14-s],h[c]=o>0?eu(l/ef[n-o]%ef[o])*a:0),i)for(;;){if(0==c){for(s=1,o=h[0];o>=10;o/=10,s++);for(o=h[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(e.e++,1e14==h[0]&&(h[0]=1));break}if(h[c]+=a,1e14!=h[c])break;h[c--]=0,a=1}for(s=h.length;0===h[--s];h.pop());}e.e>g?e.c=e.e=null:e.e<m&&(e.c=[e.e=0])}return e}function I(e){var t,r=e.e;return null===r?e.toString():(t=ey(e.c),t=r<=y||r>=v?ew(t,r):eb(t,r,"0"),e.s<0?"-"+t:t)}return T.clone=e,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(em(r=e[t],0,1e9,t),f=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(em(r=e[t],0,8,t),p=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(em(r[0],-1e9,0,t),em(r[1],0,1e9,t),y=r[0],v=r[1]):(em(r,-1e9,1e9,t),y=-(v=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)em(r[0],-1e9,-1,t),em(r[1],1,1e9,t),m=r[0],g=r[1];else if(em(r,-1e9,1e9,t),r)m=-(g=r<0?-r:r);else throw Error(eh+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))w=r;else throw w=!r,Error(eh+"crypto unavailable")}else w=r}else throw Error(eh+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(em(r=e[t],0,9,t),b=r),e.hasOwnProperty(t="POW_PRECISION")&&(em(r=e[t],0,1e9,t),_=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))A=r;else throw Error(eh+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(eh+t+" invalid: "+r);S="0123456789"==r.slice(0,10),E=r}}else throw Error(eh+"Object expected: "+e)}return{DECIMAL_PLACES:f,ROUNDING_MODE:p,EXPONENTIAL_AT:[y,v],RANGE:[m,g],CRYPTO:w,MODULO_MODE:b,POW_PRECISION:_,FORMAT:A,ALPHABET:E}},T.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!T.DEBUG)return!0;var t,r,i=e.c,n=e.e,s=e.s;e:if("[object Array]"==({}).toString.call(i)){if((1===s||-1===s)&&n>=-1e9&&n<=1e9&&n===eu(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break e}if((t=(n+1)%14)<1&&(t+=14),String(i[0]).length==t){for(t=0;t<i.length;t++)if((r=i[t])<0||r>=1e14||r!==eu(r))break e;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===s||1===s||-1===s))return!0;throw Error(eh+"Invalid BigNumber: "+e)},T.maximum=T.max=function(){return P(arguments,-1)},T.minimum=T.min=function(){return P(arguments,1)},T.random=(r=9007199254740992*Math.random()&2097151?function(){return eu(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,i,n,s,o,a=0,l=[],c=new T(d);if(null==e?e=f:em(e,0,1e9),s=ec(e/14),w){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));a<s;)(o=131072*t[a]+(t[a+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[a]=i[0],t[a+1]=i[1]):(l.push(o%1e14),a+=2);a=s/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(s*=7);a<s;)(o=(31&t[a])*281474976710656+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(l.push(o%1e14),a+=7);a=s/7}else throw w=!1,Error(eh+"crypto unavailable")}if(!w)for(;a<s;)(o=r())<9e15&&(l[a++]=o%1e14);for(s=l[--a],e%=14,s&&e&&(o=ef[14-e],l[a]=eu(s/o)*o);0===l[a];l.pop(),a--);if(a<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=14);for(a=1,o=l[0];o>=10;o/=10,a++);a<14&&(n-=14-a)}return c.e=n,c.c=l,c}),T.sum=function(){for(var e=1,t=arguments,r=new T(t[0]);e<t.length;)r=r.plus(t[e++]);return r},c=function(){var e="0123456789";function t(e,t,r,i){for(var n,s,o=[0],a=0,l=e.length;a<l;){for(s=o.length;s--;o[s]*=t);for(o[0]+=i.indexOf(e.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(r,i,n,s,o){var a,c,u,h,d,y,v,m,g=r.indexOf("."),w=f,b=p;for(g>=0&&(h=_,_=0,r=r.replace(".",""),y=(m=new T(i)).pow(r.length-g),_=h,m.c=t(eb(ey(y.c),y.e,"0"),10,n,e),m.e=m.c.length),u=h=(v=t(r,i,n,o?(a=E,e):(a=e,E))).length;0==v[--h];v.pop());if(!v[0])return a.charAt(0);if(g<0?--u:(y.c=v,y.e=u,y.s=s,v=(y=l(y,m,w,b,n)).c,d=y.r,u=y.e),g=v[c=u+w+1],h=n/2,d=d||c<0||null!=v[c+1],d=b<4?(null!=g||d)&&(0==b||b==(y.s<0?3:2)):g>h||g==h&&(4==b||d||6==b&&1&v[c-1]||b==(y.s<0?8:7)),c<1||!v[0])r=d?eb(a.charAt(1),-w,a.charAt(0)):a.charAt(0);else{if(v.length=c,d)for(--n;++v[--c]>n;)v[c]=0,c||(++u,v=[1].concat(v));for(h=v.length;!v[--h];);for(g=0,r="";g<=h;r+=a.charAt(v[g++]));r=eb(r,u,a.charAt(0))}return r}}(),l=function(){function e(e,t,r){var i,n,s,o,a=0,l=e.length,c=t%1e7,u=t/1e7|0;for(e=e.slice();l--;)i=u*(s=e[l]%1e7)+(o=e[l]/1e7|0)*c,a=((n=c*s+i%1e7*1e7+a)/r|0)+(i/1e7|0)+u*o,e[l]=n%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,i){var n,s;if(r!=i)s=r>i?1:-1;else for(n=s=0;n<r;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,n,s,o,a){var l,c,u,h,d,f,p,y,v,m,g,w,b,_,A,E,S,k=i.s==n.s?1:-1,P=i.c,O=n.c;if(!P||!P[0]||!O||!O[0])return new T(i.s&&n.s&&(P?!O||P[0]!=O[0]:O)?P&&0==P[0]||!O?0*k:k/0:NaN);for(v=(y=new T(k)).c=[],k=s+(c=i.e-n.e)+1,a||(a=1e14,c=ep(i.e/14)-ep(n.e/14),k=k/14|0),u=0;O[u]==(P[u]||0);u++);if(O[u]>(P[u]||0)&&c--,k<0)v.push(1),h=!0;else{for(_=P.length,E=O.length,u=0,k+=2,(d=eu(a/(O[0]+1)))>1&&(O=e(O,d,a),P=e(P,d,a),E=O.length,_=P.length),b=E,g=(m=P.slice(0,E)).length;g<E;m[g++]=0);S=[0].concat(S=O.slice()),A=O[0],O[1]>=a/2&&A++;do{if(d=0,(l=t(O,m,E,g))<0){if(w=m[0],E!=g&&(w=w*a+(m[1]||0)),(d=eu(w/A))>1)for(d>=a&&(d=a-1),p=(f=e(O,d,a)).length,g=m.length;1==t(f,m,p,g);)d--,r(f,E<p?S:O,p,a),p=f.length,l=1;else 0==d&&(l=d=1),p=(f=O.slice()).length;if(p<g&&(f=[0].concat(f)),r(m,f,g,a),g=m.length,-1==l)for(;1>t(O,m,E,g);)d++,r(m,E<g?S:O,g,a),g=m.length}else 0===l&&(d++,m=[0]);v[u++]=d,m[0]?m[g++]=P[b]||0:(m=[P[b]],g=1)}while((b++<_||null!=m[0])&&k--);h=null!=m[0],v[0]||v.splice(0,1)}if(1e14==a){for(u=1,k=v[0];k>=10;k/=10,u++);U(y,s+(y.e=u+14*c-1)+1,o,h)}else y.e=c,y.r=+h;return y}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,n=/^([^.]+)\.$/,s=/^\.([^.]+)$/,o=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g,u=function(e,t,r,l){var c,u=r?t:t.replace(a,"");if(o.test(u))e.s=isNaN(u)?null:u<0?-1:1;else{if(!r&&(u=u.replace(i,function(e,t,r){return c="x"==(r=r.toLowerCase())?16:"b"==r?2:8,l&&l!=c?e:t}),l&&(c=l,u=u.replace(n,"$1").replace(s,"0.$1")),t!=u))return new T(u,c);if(T.DEBUG)throw Error(eh+"Not a"+(l?" base "+l:"")+" number: "+t);e.s=null}e.c=e.e=null},h.absoluteValue=h.abs=function(){var e=new T(this);return e.s<0&&(e.s=1),e},h.comparedTo=function(e,t){return ev(this,new T(e,t))},h.decimalPlaces=h.dp=function(e,t){var r,i,n;if(null!=e)return em(e,0,1e9),null==t?t=p:em(t,0,8),U(new T(this),e+this.e+1,t);if(!(r=this.c))return null;if(i=((n=r.length-1)-ep(this.e/14))*14,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},h.dividedBy=h.div=function(e,t){return l(this,new T(e,t),f,p)},h.dividedToIntegerBy=h.idiv=function(e,t){return l(this,new T(e,t),0,1)},h.exponentiatedBy=h.pow=function(e,t){var r,i,n,s,o,a,l,c,u,h=this;if((e=new T(e)).c&&!e.isInteger())throw Error(eh+"Exponent not an integer: "+I(e));if(null!=t&&(t=new T(t)),a=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return u=new T(Math.pow(+I(h),a?e.s*(2-eg(e)):+I(e))),t?u.mod(t):u;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new T(NaN);(i=!l&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||a&&h.c[1]>=24e7:h.c[0]<8e13||a&&h.c[0]<=9999975e7)))return s=h.s<0&&eg(e)?-0:0,h.e>-1&&(s=1/s),new T(l?1/s:s);_&&(s=ec(_/14+2))}for(a?(r=new T(.5),l&&(e.s=1),c=eg(e)):c=(n=Math.abs(+I(e)))%2,u=new T(d);;){if(c){if(!(u=u.times(h)).c)break;s?u.c.length>s&&(u.c.length=s):i&&(u=u.mod(t))}if(n){if(0===(n=eu(n/2)))break;c=n%2}else if(U(e=e.times(r),e.e+1,1),e.e>14)c=eg(e);else{if(0==(n=+I(e)))break;c=n%2}h=h.times(h),s?h.c&&h.c.length>s&&(h.c.length=s):i&&(h=h.mod(t))}return i?u:(l&&(u=d.div(u)),t?u.mod(t):s?U(u,_,p,o):u)},h.integerValue=function(e){var t=new T(this);return null==e?e=p:em(e,0,8),U(t,t.e+1,e)},h.isEqualTo=h.eq=function(e,t){return 0===ev(this,new T(e,t))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(e,t){return ev(this,new T(e,t))>0},h.isGreaterThanOrEqualTo=h.gte=function(e,t){return 1===(t=ev(this,new T(e,t)))||0===t},h.isInteger=function(){return!!this.c&&ep(this.e/14)>this.c.length-2},h.isLessThan=h.lt=function(e,t){return 0>ev(this,new T(e,t))},h.isLessThanOrEqualTo=h.lte=function(e,t){return -1===(t=ev(this,new T(e,t)))||0===t},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(e,t){var r,i,n,s,o=this.s;if(t=(e=new T(e,t)).s,!o||!t)return new T(NaN);if(o!=t)return e.s=-t,this.plus(e);var a=this.e/14,l=e.e/14,c=this.c,u=e.c;if(!a||!l){if(!c||!u)return c?(e.s=-t,e):new T(u?this:NaN);if(!c[0]||!u[0])return u[0]?(e.s=-t,e):new T(c[0]?this:3==p?-0:0)}if(a=ep(a),l=ep(l),c=c.slice(),o=a-l){for((s=o<0)?(o=-o,n=c):(l=a,n=u),n.reverse(),t=o;t--;n.push(0));n.reverse()}else for(i=(s=(o=c.length)<(t=u.length))?o:t,o=t=0;t<i;t++)if(c[t]!=u[t]){s=c[t]<u[t];break}if(s&&(n=c,c=u,u=n,e.s=-e.s),(t=(i=u.length)-(r=c.length))>0)for(;t--;c[r++]=0);for(t=1e14-1;i>o;){if(c[--i]<u[i]){for(r=i;r&&!c[--r];c[r]=t);--c[r],c[i]+=1e14}c[i]-=u[i]}for(;0==c[0];c.splice(0,1),--l);return c[0]?O(e,c,l):(e.s=3==p?-1:1,e.c=[e.e=0],e)},h.modulo=h.mod=function(e,t){var r,i;return(e=new T(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==b?(i=e.s,e.s=1,r=l(this,e,0,3),e.s=i,r.s*=i):r=l(this,e,0,b),(e=this.minus(r.times(e))).c[0]||1!=b||(e.s=this.s),e):new T(this):new T(NaN)},h.multipliedBy=h.times=function(e,t){var r,i,n,s,o,a,l,c,u,h,d,f,p,y=this.c,v=(e=new T(e,t)).c;if(!y||!v||!y[0]||!v[0])return this.s&&e.s&&(!y||y[0]||v)&&(!v||v[0]||y)?(e.s*=this.s,y&&v?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(i=ep(this.e/14)+ep(e.e/14),e.s*=this.s,(l=y.length)<(h=v.length)&&(p=y,y=v,v=p,n=l,l=h,h=n),n=l+h,p=[];n--;p.push(0));for(n=h;--n>=0;){for(r=0,d=v[n]%1e7,f=v[n]/1e7|0,s=n+(o=l);s>n;)a=f*(c=y[--o]%1e7)+(u=y[o]/1e7|0)*d,r=((c=d*c+a%1e7*1e7+p[s]+r)/1e14|0)+(a/1e7|0)+f*u,p[s--]=c%1e14;p[s]=r}return r?++i:p.splice(0,1),O(e,p,i)},h.negated=function(){var e=new T(this);return e.s=-e.s||null,e},h.plus=function(e,t){var r,i=this.s;if(t=(e=new T(e,t)).s,!i||!t)return new T(NaN);if(i!=t)return e.s=-t,this.minus(e);var n=this.e/14,s=e.e/14,o=this.c,a=e.c;if(!n||!s){if(!o||!a)return new T(i/0);if(!o[0]||!a[0])return a[0]?e:new T(o[0]?this:0*i)}if(n=ep(n),s=ep(s),o=o.slice(),i=n-s){for(i>0?(s=n,r=a):(i=-i,r=o),r.reverse();i--;r.push(0));r.reverse()}for((i=o.length)-(t=a.length)<0&&(r=a,a=o,o=r,t=i),i=0;t;)i=(o[--t]=o[t]+a[t]+i)/1e14|0,o[t]=1e14===o[t]?0:o[t]%1e14;return i&&(o=[i].concat(o),++s),O(e,o,s)},h.precision=h.sd=function(e,t){var r,i,n;if(null!=e&&!!e!==e)return em(e,1,1e9),null==t?t=p:em(t,0,8),U(new T(this),e,t);if(!(r=this.c))return null;if(i=14*(n=r.length-1)+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return e&&this.e+1>i&&(i=this.e+1),i},h.shiftedBy=function(e){return em(e,-9007199254740991,9007199254740991),this.times("1e"+e)},h.squareRoot=h.sqrt=function(){var e,t,r,i,n,s=this.c,o=this.s,a=this.e,c=f+4,u=new T("0.5");if(1!==o||!s||!s[0])return new T(!o||o<0&&(!s||s[0])?NaN:s?this:1/0);if(0==(o=Math.sqrt(+I(this)))||o==1/0?(((t=ey(s)).length+a)%2==0&&(t+="0"),o=Math.sqrt(+t),a=ep((a+1)/2)-(a<0||a%2),r=new T(t=o==1/0?"5e"+a:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new T(o+""),r.c[0]){for((o=(a=r.e)+c)<3&&(o=0);;)if(n=r,r=u.times(n.plus(l(this,n,c,1))),ey(n.c).slice(0,o)===(t=ey(r.c)).slice(0,o)){if(r.e<a&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(U(r,r.e+f+2,1),e=!r.times(r).eq(this));break}if(!i&&(U(n,n.e+f+2,0),n.times(n).eq(this))){r=n;break}c+=4,o+=4,i=1}}return U(r,r.e+f+1,p,e)},h.toExponential=function(e,t){return null!=e&&(em(e,0,1e9),e++),k(this,e,t,1)},h.toFixed=function(e,t){return null!=e&&(em(e,0,1e9),e=e+this.e+1),k(this,e,t)},h.toFormat=function(e,t,r){var i;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=A;else if("object"!=typeof r)throw Error(eh+"Argument not an object: "+r);if(i=this.toFixed(e,t),this.c){var n,s=i.split("."),o=+r.groupSize,a=+r.secondaryGroupSize,l=r.groupSeparator||"",c=s[0],u=s[1],h=this.s<0,d=h?c.slice(1):c,f=d.length;if(a&&(n=o,o=a,a=n,f-=n),o>0&&f>0){for(n=f%o||o,c=d.substr(0,n);n<f;n+=o)c+=l+d.substr(n,o);a>0&&(c+=l+d.slice(n)),h&&(c="-"+c)}i=u?c+(r.decimalSeparator||"")+((a=+r.fractionGroupSize)?u.replace(RegExp("\\d{"+a+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):u):c}return(r.prefix||"")+i+(r.suffix||"")},h.toFraction=function(e){var t,r,i,n,s,o,a,c,u,h,f,y,v=this.c;if(null!=e&&(!(a=new T(e)).isInteger()&&(a.c||1!==a.s)||a.lt(d)))throw Error(eh+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+I(a));if(!v)return new T(this);for(t=new T(d),u=r=new T(d),i=c=new T(d),y=ey(v),s=t.e=y.length-this.e-1,t.c[0]=ef[(o=s%14)<0?14+o:o],e=!e||a.comparedTo(t)>0?s>0?t:u:a,o=g,g=1/0,a=new T(y),c.c[0]=0;h=l(a,t,0,1),1!=(n=r.plus(h.times(i))).comparedTo(e);)r=i,i=n,u=c.plus(h.times(n=u)),c=n,t=a.minus(h.times(n=t)),a=n;return n=l(e.minus(r),i,0,1),c=c.plus(n.times(u)),r=r.plus(n.times(i)),c.s=u.s=this.s,s*=2,f=1>l(u,i,s,p).minus(this).abs().comparedTo(l(c,r,s,p).minus(this).abs())?[u,i]:[c,r],g=o,f},h.toNumber=function(){return+I(this)},h.toPrecision=function(e,t){return null!=e&&em(e,1,1e9),k(this,e,t,2)},h.toString=function(e){var t,r=this,i=r.s,n=r.e;return null===n?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=n<=y||n>=v?ew(ey(r.c),n):eb(ey(r.c),n,"0"):10===e&&S?t=eb(ey((r=U(new T(r),f+n+1,p)).c),r.e,"0"):(em(e,2,E.length,"Base"),t=c(eb(ey(r.c),n,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},h.valueOf=h.toJSON=function(){return I(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=t&&T.set(t),T}())("1e+18");let e_=e=>{let t=(0,et.Ik)(32,e),{encode:r,decode:i}=ei(t);return t.decode=(e,t)=>{let r=i(e,t);return new J.nh(r)},t.encode=(e,t,i)=>r(e.toBuffer(),t,i),t},eA=new z.nh("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new z.nh("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");let eE=new z.nh("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new z.nh("So11111111111111111111111111111111111111112"),new z.nh("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class eS extends Error{constructor(e){super(e)}}class eT extends eS{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}async function ek(e,t,r=!1,i=eA,n=eE){if(!r&&!z.nh.isOnCurve(t.toBuffer()))throw new eT;let[s]=await z.nh.findProgramAddress([t.toBuffer(),i.toBuffer(),e.toBuffer()],n);return s}r(82595).Buffer,(0,et.n_)([(0,et.Jq)("mintAuthorityOption"),e_("mintAuthority"),ea("supply"),(0,et.u8)("decimals"),(e=>{let t=(0,et.u8)(e),{encode:r,decode:i}=ei(t);return t.decode=(e,t)=>!!i(e,t),t.encode=(e,t,i)=>r(Number(e),t,i),t})("isInitialized"),(0,et.Jq)("freezeAuthorityOption"),e_("freezeAuthority")]).span;var eP=r(82595).Buffer;(n=a||(a={}))[n.InitializeMint=0]="InitializeMint",n[n.InitializeAccount=1]="InitializeAccount",n[n.InitializeMultisig=2]="InitializeMultisig",n[n.Transfer=3]="Transfer",n[n.Approve=4]="Approve",n[n.Revoke=5]="Revoke",n[n.SetAuthority=6]="SetAuthority",n[n.MintTo=7]="MintTo",n[n.Burn=8]="Burn",n[n.CloseAccount=9]="CloseAccount",n[n.FreezeAccount=10]="FreezeAccount",n[n.ThawAccount=11]="ThawAccount",n[n.TransferChecked=12]="TransferChecked",n[n.ApproveChecked=13]="ApproveChecked",n[n.MintToChecked=14]="MintToChecked",n[n.BurnChecked=15]="BurnChecked",n[n.InitializeAccount2=16]="InitializeAccount2",n[n.SyncNative=17]="SyncNative",n[n.InitializeAccount3=18]="InitializeAccount3",n[n.InitializeMultisig2=19]="InitializeMultisig2",n[n.InitializeMint2=20]="InitializeMint2",n[n.GetAccountDataSize=21]="GetAccountDataSize",n[n.InitializeImmutableOwner=22]="InitializeImmutableOwner",n[n.AmountToUiAmount=23]="AmountToUiAmount",n[n.UiAmountToAmount=24]="UiAmountToAmount",n[n.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",n[n.TransferFeeExtension=26]="TransferFeeExtension",n[n.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",n[n.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",n[n.Reallocate=29]="Reallocate",n[n.MemoTransferExtension=30]="MemoTransferExtension",n[n.CreateNativeMint=31]="CreateNativeMint",n[n.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",n[n.InterestBearingMintExtension=33]="InterestBearingMintExtension",n[n.CpiGuardExtension=34]="CpiGuardExtension",n[n.InitializePermanentDelegate=35]="InitializePermanentDelegate",n[n.TransferHookExtension=36]="TransferHookExtension",n[n.MetadataPointerExtension=39]="MetadataPointerExtension",n[n.GroupPointerExtension=40]="GroupPointerExtension",n[n.GroupMemberPointerExtension=41]="GroupMemberPointerExtension";var eO=r(82595).Buffer;let eU=(0,et.n_)([(0,et.u8)("instruction"),ea("amount")]);class eI{parse(e){return BigInt(Math.round(1e9*parseFloat(e)))}parseNonNativeToken(e,t){return BigInt(Math.floor(Number(e)*Math.pow(10,t)))}format(e){let{precision:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(Number(e)/1e9).toLocaleString("fullwide",{maximumFractionDigits:20,minimumFractionDigits:0,useGrouping:!1});return(0,y.EZ)(r,{precision:t})}submit(){return F(this,void 0,void 0,function*(){let e=yield this.createTransaction();return this.onSubmit(e)})}getBalance(){return F(this,void 0,void 0,function*(){let e=new z.nh(this.from);return BigInt((yield this.connection.getBalance(e)))})}validateAddressFormat(e){return"dyn_send_transaction.multiple_recipients"===e||/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(e)}fetchFee(){return F(this,void 0,void 0,function*(){let e;if(this.fee.gas)return;let t=yield this.createTransactionSafe();if(!t)return;if(!(e="version"in t?t.message:t.compileMessage()))throw Error("Invalid transaction");let r=yield this.connection.getFeeForMessage(e),i=0;for(;null===r.value&&i<5;)r=yield this.connection.getFeeForMessage(e),i++;this.fee.gas=r.value?BigInt(r.value):void 0,!this.feeDeducted&&this.fee.gas&&this.value&&(this.value=this.value-this.fee.gas,this.feeDeducted=!0)})}createTransaction(){return F(this,void 0,void 0,function*(){var e;let{value:t,to:r,nonNativeAddress:i,nonNativeValue:n}=this;if(!r)throw Error("Destination is required");if(this.originalTransaction)return this.originalTransaction;let s=new z.YW,o=new z.nh(this.from),l=new z.nh(r);if(i&&n){let t;let r=new z.nh(i),c=null===(e=(yield this.connection.getTokenAccountsByOwner(o,{mint:r})).value[0])||void 0===e?void 0:e.pubkey;if(!c)throw Error("Source token account not found");try{t=yield ek(r,l),yield this.connection.getTokenAccountBalance(t)}catch(e){t=yield ek(r,l),s.add(function(e,t,r,i,n=eA,s=eE){return function(e,t,r,i,n,s=eA,o=eE){let a=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:z.yc.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new z.Sl({keys:a,programId:o,data:n})}(e,t,r,i,eP.alloc(0),n,s)}(o,t,l,r))}s.add(function(e,t,r,i,n=[],s=eA){let o=function(e,t,r){if(r.length)for(let i of(e.push({pubkey:t,isSigner:!1,isWritable:!1}),r))e.push({pubkey:i instanceof z.nh?i:i.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],r,n),l=eO.alloc(eU.span);return eU.encode({instruction:a.Transfer,amount:BigInt(i)},l),new z.Sl({keys:o,programId:s,data:l})}(c,t,o,n))}else{let e=null!=t?t:BigInt(0);s.add(z.yc.transfer({fromPubkey:o,lamports:e,toPubkey:l}))}let{blockhash:c}=yield this.connection.getLatestBlockhash();return s.feePayer=new z.nh(this.from),s.recentBlockhash=c,s})}createTransactionSafe(){return F(this,void 0,void 0,function*(){try{return yield this.createTransaction()}catch(e){return}})}constructor({onSubmit:e,from:t,connection:r,originalTransaction:i}){this.chain="SOL",this.data=void 0,this.fee={gas:void 0},this.feeDeducted=!1,this.formatNonNativeToken=(e,t)=>(Number(e)/Number(Math.pow(10,t))).toString(),this.from=t,this.onSubmit=e,this.connection=r,this.originalTransaction=i}}r(82595).Buffer,r(82595).Buffer;let eC=e=>"SOL"===e.chain;(0,c.J)("@dynamic-labs/solana-core","4.0.0-alpha.12");let eN=(e,t)=>{if(!e)throw Error("rpcUrl is required");return new z.ew(e,t)};var ex=r(82595).Buffer;let eR=(e,t,r)=>W(void 0,void 0,void 0,function*(){var i,n,s,o,a,l,c,u,h,d;let f,y;"version"in e?([y]=e.message.staticAccountKeys,f=yield t.simulateTransaction(e,{accounts:{addresses:y.toBase58()&&y.toBase58()!==r?[y.toBase58(),r]:[r],encoding:"base64"},replaceRecentBlockhash:!0})):(y=e.feePayer||e.instructions[0].keys[0].pubkey,f=yield t.simulateTransaction(e,void 0,y.toBase58()&&y.toBase58()!==r?[y,new z.nh(r)]:[new z.nh(r)]));let v=yield t.getBalance(new z.nh(r));if(!(null===(s=null===(n=null===(i=null==f?void 0:f.value)||void 0===i?void 0:i.accounts)||void 0===n?void 0:n[0])||void 0===s?void 0:s.lamports)){p.kg.debug("Transaction simulation failed",f);let e=JSON.stringify({InstructionError:[0,{Custom:1}]}),t=JSON.stringify({InsufficientFundsForRent:{account_index:0}});if(JSON.stringify(null==f?void 0:f.value.err)===e||JSON.stringify(null==f?void 0:f.value.err)===t)throw Error("Insufficient funds");return}return BigInt(v-(null!==(c=null===(l=null===(a=null===(o=null==f?void 0:f.value)||void 0===o?void 0:o.accounts)||void 0===a?void 0:a[1])||void 0===l?void 0:l.lamports)&&void 0!==c?c:null===(d=null===(h=null===(u=null==f?void 0:f.value)||void 0===u?void 0:u.accounts)||void 0===h?void 0:h[0])||void 0===d?void 0:d.lamports))}),eB=(e,t,r)=>W(void 0,void 0,void 0,function*(){var i;if(!e)throw new y.kW("Transaction is required");try{let n=[];if("version"in e){let r=e.message.addressTableLookups.map(e=>new z.nh(e.accountKey));if(r.length>0){let i=(yield Promise.all(r.map(e=>t.getAddressLookupTable(e)))).filter(e=>null!==e).map(e=>e.value);i.length>0&&(n=z.$Z.decompile(e.message,{addressLookupTableAccounts:i}).instructions)}else n=z.$Z.decompile(e.message).instructions}else n=e.instructions?e.instructions:null===(i=z.YW.from(ex.from(e.serialize())))||void 0===i?void 0:i.instructions;if(!(null==n?void 0:n.length))throw new y.kW("Bad formatted instruction");let s=n.filter(e=>e.programId.equals(z.yc.programId));if(s.length>0)return s.map(e=>{let t;try{t=z.vU.decodeTransfer(e)}catch(e){return{from:r,to:"Unknown"}}return{from:null==t?void 0:t.fromPubkey.toBase58(),to:null==t?void 0:t.toPubkey.toBase58()}});let o=yield Promise.all(n.map(e=>W(void 0,void 0,void 0,function*(){var i,n,s,o,a,l,c;if(e.programId.equals(eA)){let{source:u,destination:h}=function({programId:e,keys:[t,r,i,...n],data:s}){return{programId:e,keys:{source:t,destination:r,owner:i,multiSigners:n},data:eU.decode(s)}}(e).keys;if(h){if((null==h?void 0:h.pubkey.toBase58())===r)return{from:r,to:null==u?void 0:u.pubkey.toBase58()};let e=yield t.getParsedAccountInfo(h.pubkey),d=((null===(s=null===(n=null===(i=e.value)||void 0===i?void 0:i.data)||void 0===n?void 0:n.parsed)||void 0===s?void 0:s.type)==="account"?null===(c=null===(l=null===(a=null===(o=e.value)||void 0===o?void 0:o.data)||void 0===a?void 0:a.parsed)||void 0===l?void 0:l.info)||void 0===c?void 0:c.owner:null)||(null==h?void 0:h.pubkey.toBase58());return{from:r,to:d}}}return null})));if(null==(o=o.filter(e=>null!==e))?void 0:o.length)return o;let a=n.map(e=>({from:r,to:e.programId.toBase58()}));if(a.length)return a;return[{from:r,to:"Unknown"}]}catch(e){return p.kg.warn("[decodeTransaction]",e),[{from:r,to:"Unknown"}]}}),eK=e=>{let t=new Set;return e.forEach(e=>{e&&e.to&&t.add(e.to)}),1===t.size?t.values().next().value:"Multiple"},eM=new A.Y("DynamicSDK"),eq=()=>{var e,t,r,i;let n=null!==(e=y.V1.getItem("dynamic_store"))&&void 0!==e?e:y.V1.getItem("dynamic_store_demo");if(!(n=null===(t=null==n?void 0:n.settings)||void 0===t?void 0:t.security))return!1;let s=((null===(r=n.auth)||void 0===r?void 0:r.storage)||[]).includes(w.EEP.Cookie),o=!!(null===(i=n.externalAuth)||void 0===i?void 0:i.cookieName);return s||o},eL=e=>{var t;if(!e)return;let r=null===(t=e.split(".")[1])||void 0===t?void 0:t.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(r&&decodeURIComponent(atob(r).split("").map(e=>"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))).join("")))},eD=e=>{try{let t=eL(e);if(!t)return;return(0,w.fU_)(t)}catch(e){eM.error(e);return}},eW=()=>{var e;if("undefined"==typeof window)return;let t=null!==(e=y.V1.getItem("dynamic_min_authentication_token",{priority:["secureStorage","localStorage"]}))&&void 0!==e?e:y.V1.getItem("dynamic_min_authentication_token_demo",{priority:["secureStorage","localStorage"]});if(!(!t||ez(t)))return t},ez=e=>eJ(eD(e)),eJ=e=>{if(!e||!e.exp)return!0;let t=new Date(1e3*e.exp).getTime();return new Date().getTime()>=t};class ej{}ej.getBaseUrl=()=>{if(!ej.__defined__)throw Error("ApiEndpoint Base URL has not been initialized");return ej.__baseUrl__},ej.setBaseUrl=e=>{if(ej.__defined__){if(!e&&ej.__defined__)return;if(ej.__baseUrl__!==e)throw Error("ApiEndpoint baseUrl is already set to ".concat(ej.__baseUrl__,", cannot change it to ").concat(e))}else e?ej.__baseUrl__=e:ej.__baseUrl__=new w.VKt().basePath,ej.__defined__=!0;Object.freeze(ej)};let eH={"@dynamic-labs/sdk-api-core":"0.0.547","@dynamic-labs/utils":"4.0.0-alpha.12","@dynamic-labs/logger":"4.0.0-alpha.12","@dynamic-labs/types":"4.0.0-alpha.12",eventemitter3:"5.0.1","@solana/spl-token":"0.4.6","@solana/web3.js":"1.92.1","@turnkey/http":"2.12.2","@turnkey/iframe-stamper":"2.0.0","@turnkey/solana":"0.3.9","@turnkey/webauthn-stamper":"0.5.0"}["@dynamic-labs/sdk-api-core"];var eF=r(28070);let eY=()=>{let e=eF.env.API_BASE_URL||eF.env.NX_API_BASE_URL||"https://app.dynamic.xyz/api/v0";ej.setBaseUrl(e);let t={basePath:ej.getBaseUrl(),headers:{"Content-Type":"application/json"}},r=eW();r&&(t.headers.Authorization="Bearer ".concat(r));let i=eq()?"include":void 0;return t.headers["x-dyn-version"]="WalletKit/".concat(u),t.headers["x-dyn-api-version"]="API/".concat(eH),new w.Pzx(new w.VKt(Object.assign(Object.assign({},t),{credentials:i,fetchApi:y.rX.fetch})))};var eG=r(82595).Buffer;let eV=e=>e instanceof z.GS?eG.from(e.serialize()).toString("base64"):eG.from(e.serialize({verifySignatures:!1})).toString("base64"),e$=e=>{let t=eG.from(e,"base64");return z.GS.deserialize(t)},eX=(e,t,r)=>W(void 0,void 0,void 0,function*(){let i=eV(t);return e$((yield eY().optimizeTransaction({environmentId:e,solanaTransactionOptimizationRequest:{address:r,transaction:i}})).transaction)});class eZ{signMessage(e){return W(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signUint8ArrayMessage(e)}})}signTransaction(e){return W(this,void 0,void 0,function*(){return this.walletConnector.signTransaction(e)})}signAllTransactions(e){return W(this,void 0,void 0,function*(){return this.walletConnector.signAllTransactions(e)})}signAndSendTransaction(e,t){return W(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signAndSendTransaction(e,t)}})}connect(e){return W(this,void 0,void 0,function*(){return{address:this.turnkeyAddress,publicKey:this.publicKey}})}disconnect(){return W(this,void 0,void 0,function*(){})}constructor({walletConnector:e}){this.isConnected=!0,this.providers=[this],this.walletConnector=e,this.turnkeyAddress=this.walletConnector.turnkeyAddress,this.publicKey=this.turnkeyAddress?new z.nh(this.turnkeyAddress):void 0}}var eQ=r(82595).Buffer;class e0 extends q{getRpcUrl(){var e;let[t]=this.solNetworks;if(!t)throw new y.kW("No enabled networks");return(null===(e=t.privateCustomerRpcUrls)||void 0===e?void 0:e[0])||t.rpcUrls[0]}getConnection(e){if(!this._connectionClient){let t=this.getRpcUrl();if(!t)throw new y.kW("No rpcUrl");this._connectionClient=eN(t,e)}return this._connectionClient}getWalletClient(){return this.getConnection()}getNetwork(){return W(this,void 0,void 0,function*(){let e=this.getConnection(),t=localStorage.getItem($(e.rpcEndpoint));return(t||(t=yield e.getGenesisHash(),localStorage.setItem($(e.rpcEndpoint),t)),"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"===(t=t.substring(0,32)))?"mainnet":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"===t?"devnet":"testnet"})}getPublicClient(){return W(this,void 0,void 0,function*(){var e;if(0===this.solNetworks.length)return;let t={cosmos:[],evm:void 0,solana:this.solNetworks,starknet:void 0};if(!this.chainRpcProviders)return;let r=this.chainRpcProviders.getProviders(t);return null===(e=this.chainRpcProviders.getSolanaProviderByChainId(r,"101"))||void 0===e?void 0:e.provider})}supportsNetworkSwitching(){return!1}setVerifiedCredentials(e){let t=D(e,ee.r0.SOLANA),[r]=t;JSON.stringify(this.verifiedCredentials)!==JSON.stringify(t)&&(this.verifiedCredential=r,this.verifiedCredentials=t,this.refreshTurnkeyAccount())}validateActiveWallet(e){return W(this,void 0,void 0,function*(){var t,r;let i=(null===(t=this.verifiedCredential)||void 0===t?void 0:t.address)||"";if(!(0,p.Wr)(i,e,this.connectedChain)){let t=null===(r=this.verifiedCredentials)||void 0===r?void 0:r.find(t=>(null==t?void 0:t.address)===e);if(!t)throw new y.kW("Account not found");this.verifiedCredential=t,this.refreshTurnkeyAccount()}})}getAccount(){return this.turnkeyAddress}endSession(){return W(this,void 0,void 0,function*(){localStorage.removeItem($(this.getRpcUrl()))})}refreshTurnkeyAccount(){return W(this,void 0,void 0,function*(){return this._turnkeyAccount=void 0,this.getTurnkeyAccount()})}getTurnkeyClient(){var e;let t=(0,y.KT)();t||(t=y.mi.getHostname());let r=N.createWebauthnStamper({rpId:t}),i=null==q?void 0:q.apiKeyStamper;return this.__turnkeyClient=null!==(e=this.getAuthenticatorHandler().client)&&void 0!==e?e:new O.TF({baseUrl:"https://api.turnkey.com"},null!=i?i:r),this.__turnkeyClient}createTurnkeyAccount(e){return W(this,arguments,void 0,function*(e){let{organizationId:t}=e;return new H({client:this.getTurnkeyClient(),organizationId:t})})}getTurnkeyAccount(){return W(this,void 0,void 0,function*(){var e,t,r,i;if(this._turnkeyAccount&&("passkey"===this.getAuthenticatorHandler().recoveryType&&(null===(e=this.__turnkeyClient)||void 0===e?void 0:e.stamper)instanceof U.S||"email"===this.getAuthenticatorHandler().recoveryType&&(null===(t=this.__turnkeyClient)||void 0===t?void 0:t.stamper)instanceof P.rr)&&this.__turnkeyClient===this.getAuthenticatorHandler().client)return this._turnkeyAccount;let{turnkeySubOrganizationId:n}=null!==(r=this.walletProperties)&&void 0!==r?r:{},{address:s}=null!==(i=this.verifiedCredential)&&void 0!==i?i:{};if(n&&s)return this._turnkeyAccount=yield this.createTurnkeyAccount({organizationId:n}),this.setLoggerMetadata(),this._turnkeyAccount})}getSigner(){return W(this,void 0,void 0,function*(){return new eZ({walletConnector:this})})}getBalance(e){return W(this,void 0,void 0,function*(){let t=this.getConnection(),r=new z.nh(e),i=yield t.getBalance(r);return this.lamportsToSol(i).toString()})}signUint8ArrayMessage(e){return W(this,void 0,void 0,function*(){let t;if(!this.turnkeyAddress)throw new y.kW("No turnkey account");let r=this.turnkeyAddress;if(yield this.createOrRestoreSession(),yield this.walletUiUtils.signMessage({handler:()=>W(this,void 0,void 0,function*(){let i=yield this.getTurnkeyAccount();try{t=yield null==i?void 0:i.signMessage(e,r)}catch(n){yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),i=yield this.getTurnkeyAccount(),t=yield null==i?void 0:i.signMessage(e,r)}return(0,y.h$)(t||eQ.from([]))}),message:new TextDecoder().decode(e)}),!t)throw Error("Failed to sign message");return t})}signMessage(e){return W(this,void 0,void 0,function*(){let t=new TextEncoder().encode(e),r=yield this.signUint8ArrayMessage(t);return(0,y.h$)(r)})}signTransaction(e){return W(this,void 0,void 0,function*(){yield this.createOrRestoreSession();let t=yield this.getTurnkeyAccount(),r=this.turnkeyAddress;if(!t||!r)throw Error("No turnkey account");try{yield t.addSignature(e,r)}catch(i){if(E.some(e=>i.message.includes(e)))yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),t=yield this.getTurnkeyAccount(),yield t.addSignature(e,r);else throw k.error("[TK] failed to perform SignTransaction activity",i),i}return e})}signAllTransactions(e){return W(this,void 0,void 0,function*(){yield this.createOrRestoreSession();let t=yield this.getTurnkeyAccount(),r=this.turnkeyAddress;if(!t||!r)throw Error("No turnkey account");try{return yield t.signAllTransactions(e,r)}catch(i){if(E.some(e=>i.message.includes(e)))return yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),t=yield this.getTurnkeyAccount(),yield t.signAllTransactions(e,r);throw k.error("[TK] failed to perform SignAllTransactions activity",i),i}})}internalSignAndSendTransaction(e,t){return W(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new y.kW("Solana wallet not found");let r=this.getConnection("confirmed"),i=yield this.signTransaction(e),n=yield r.sendRawTransaction(i.serialize(),t);return new Promise((e,t)=>{let i=setTimeout(()=>{t(new y.kW("Transaction timed out"))},6e4);r.onSignature(n,r=>{clearTimeout(i),r.err?t(new y.kW("Transaction failed")):e(n)},"confirmed")})})}signAndSendTransaction(e,t){return W(this,void 0,void 0,function*(){var r;let i;if(!this.turnkeyAddress)throw new y.kW("Solana wallet not found");let n=e,s=!1;s="version"in e?e.signatures.some(e=>!e.every(e=>0===e)):e.signatures.some(e=>e.signature);try{(yield this.getNetwork())!=="mainnet"||s||(n=yield eX(this.getEnvId(),e,null!==(r=this.turnkeyAddress)&&void 0!==r?r:""))}catch(e){k.warn("Failed to optimize transaction",e)}let o=yield eB(n,this.getConnection(),this.turnkeyAddress);if(!(null==o?void 0:o.length))throw new y.kW("Incorrectly formatted transaction instructions");let a=!1;try{i=yield eR(n,this.getConnection(),this.turnkeyAddress)}catch(e){"Insufficient funds"===e.message&&(a=!0)}let l=eK(o),c=new eI({connection:this.getConnection(),from:this.turnkeyAddress,onSubmit:()=>W(this,void 0,void 0,function*(){return this.internalSignAndSendTransaction(n,t)}),originalTransaction:n});return c.to=l,c.value=i,a&&(c.notEnoughFundsError=!0),this.walletUiUtils.sendTransaction(this,c)})}sendTransaction(e,t){return W(this,arguments,void 0,function*(e,t){var r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.turnkeyAddress)throw new y.kW("Solana wallet not found");if(!e||!t)throw new y.kW("Transaction and connection are required");let{signers:n}=i,s=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}(i,["signers"]),o=yield t.getLatestBlockhash({commitment:i.preflightCommitment,minContextSlot:i.minContextSlot});"version"in e?(null==n?void 0:n.length)&&e.sign(n):(e.feePayer=e.feePayer||new z.nh(this.turnkeyAddress),e.recentBlockhash=e.recentBlockhash||o.blockhash,(null==n?void 0:n.length)&&e.partialSign(...n)),s.preflightCommitment=s.preflightCommitment||t.commitment;let a=yield t.sendRawTransaction(e.serialize(),i),l={blockhash:o.blockhash,lastValidBlockHeight:o.lastValidBlockHeight,signature:a},c=yield null==t?void 0:t.confirmTransaction(l);return(null===(r=null==c?void 0:c.value)||void 0===r?void 0:r.err)?JSON.stringify(c.value.err):a})}lamportsToSol(e){return e/z.j5}createUiTransaction(e){return W(this,void 0,void 0,function*(){yield this.validateActiveWallet(e);let t=new eI({connection:this.getConnection(),from:e,onSubmit:e=>W(this,void 0,void 0,function*(){return this.internalSignAndSendTransaction(e)})});return t.feeDeducted=!0,t})}constructor(e,t){var r;super(e,t),this.ChainWallet=G,this.connectedChain="SOL",this.supportedChains=["SOL"],this.verifiedCredentialChain="solana",this.getEnvId=()=>{let e=localStorage.getItem("dynamic_nonce");if(e){let t=JSON.parse(e);if(t&&t.environmentId)return t.environmentId}let t=localStorage.getItem("dynamic_nonce_demo");if(t){let e=JSON.parse(t);if(e&&e.environmentId)return e.environmentId}throw Error("Failed to get environment id")},this.stampCreateWalletAccountRequest=e=>W(this,[e],void 0,function*(e){let{request:t}=e;return yield this.createOrRestoreSession(),this.getTurnkeyClient().stampCreateWalletAccounts(t)}),this.solNetworks=t.solNetworks,this.walletUiUtils=t.walletUiUtils,this._turnkeyAccount=void 0,this._connectionClient=void 0,this.chainRpcProviders=t.chainRpcProviders,null===(r=this.chainRpcProviders)||void 0===r||r.registerSolanaProviders(),this.__turnkeyClient=this.getTurnkeyClient()}}let e1=e=>{var t;return(null===(t=e.apiProviders)||void 0===t?void 0:t.turnkey)?[e0.bind(null,L.TurnkeyHD)]:[]};function e5(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})}(0,c.J)("@dynamic-labs/embedded-wallet-solana",u),"function"==typeof SuppressedError&&SuppressedError;var e2=r(6856),e6=r(53044);let e3=(e,t)=>"https://phantom.app/ul/v1/".concat(e,"?").concat(t.toString()),e4=new A.Y("solana");var e8=r(82595).Buffer;let e9=(e,t)=>{let r="Failed to decrypt phantom redirect payload: ".concat(e," was invalid (").concat(t,")");throw e4.error(r),Error(r)},e7=(e,t,r)=>{e||e9("data",e),t||e9("nonce",t),r||e9("sharedSecret",r);let i=e6.box.open.after(e2.decode(e),e2.decode(t),r);if(!i)throw Error("Unable to decrypt data");return JSON.parse(e8.from(i).toString("utf8"))};var te=r(82595).Buffer;let tt=(e,t)=>{let r=e6.randomBytes(24),i=e6.box.after(te.from(JSON.stringify(e)),r,t);return[r,i]},tr={"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3zQawwpjk2NsNY":"testnet","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdpKuc147dw2N9d":"mainnet-beta",EtWTRABZaYq6iMfeYKouRu166VU2xqa1wcaWoxPkrZBG:"devnet"},ti=e=>e5(void 0,void 0,void 0,function*(){try{let{result:t}=yield(yield fetch(e,{body:JSON.stringify({id:1,jsonrpc:"2.0",method:"getGenesisHash"}),headers:{"Content-Type":"application/json"},method:"POST"})).json();return tr[t]}catch(e){return"mainnet-beta"}}),tn={address:{get:()=>{var e;return null!==(e=localStorage.getItem("dynamic_phantom_wallet_address"))&&void 0!==e?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_wallet_address")},set:e=>{localStorage.setItem("dynamic_phantom_wallet_address",e.toString())}},encryptionPublicKey:{get:()=>{let e=localStorage.getItem("dynamic_phantom_public_key");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_public_key")},set:e=>{localStorage.setItem("dynamic_phantom_public_key",JSON.stringify([...e]))}},encryptionSecretKey:{get:()=>{let e=localStorage.getItem("dynamic_phantom_secret_key");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_secret_key")},set:e=>{localStorage.setItem("dynamic_phantom_secret_key",JSON.stringify([...e]))}},message:{get:()=>{var e;return null!==(e=localStorage.getItem("dynamic_phantom_message_to_sign"))&&void 0!==e?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_message_to_sign")},set:e=>{localStorage.setItem("dynamic_phantom_message_to_sign",e)}},method:{get:()=>{var e;return null!==(e=localStorage.getItem("dynamic_phantom_method"))&&void 0!==e?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_method")},set:e=>{localStorage.setItem("dynamic_phantom_method",e)}},session:{get:()=>{var e;return null!==(e=localStorage.getItem("dynamic_phantom_session"))&&void 0!==e?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_session")},set:e=>{localStorage.setItem("dynamic_phantom_session",e)}},sharedSecret:{get:()=>{let e=localStorage.getItem("dynamic_phantom_shared_secret");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_shared_secret")},set:e=>{localStorage.setItem("dynamic_phantom_shared_secret",JSON.stringify([...e]))}}},ts=()=>{for(let e in tn)tn[e].remove()};var to=r(82595).Buffer;class ta extends Q{getMethod(){throw Error("Method not implemented.")}getAddress(){return e5(this,void 0,void 0,function*(){let e=tn.address.get();if(e)return e;yield this.connect()})}connect(){return e5(this,void 0,void 0,function*(){var e,t;let r=e6.box.keyPair();tn.encryptionPublicKey.set(r.publicKey),tn.encryptionSecretKey.set(r.secretKey);let i=window.location.href.includes("localhost")||window.location.href.includes("0.0.0.0")||window.location.href.includes("127.0.0.1"),n=null!==(t=null===(e=this.solNetworks[0].privateCustomerRpcUrls)||void 0===e?void 0:e[0])&&void 0!==t?t:this.solNetworks[0].rpcUrls[0],s=e3("connect",new URLSearchParams({app_url:i?"https://demo.dynamic.xyz":window.location.href,cluster:yield ti(n),dapp_encryption_public_key:e2.encode(r.publicKey),redirect_link:window.location.href}));window.location.href=s})}getSession(){return e5(this,void 0,void 0,function*(){let e=new URLSearchParams(window.location.search),{data:t,nonce:r,phantom_encryption_public_key:i,encryptionSecretKey:n}=this.getInputsOrThrow("getSession",["data","nonce","phantom_encryption_public_key"],["encryptionSecretKey"]),s=e6.box.before(e2.decode(i),n);tn.sharedSecret.set(s);let o=e7(t,r,s);return tn.session.set(o.session),tn.address.set(new z.nh(o.public_key)),e.delete("phantom_encryption_public_key"),e.delete("data"),e.delete("nonce"),history.replaceState(null,"","".concat(window.location.origin).concat(window.location.pathname,"?").concat(e.toString())),o.public_key})}signMessage(e){return e5(this,void 0,void 0,function*(){let{session:t,sharedSecret:r,encryptionPublicKey:i}=this.getInputsOrThrow("signMessage",[],["session","sharedSecret","encryptionPublicKey"]);tn.message.set(e);let[n,s]=tt({message:e2.encode(to.from(e)),session:t},r),o=e3("signMessage",new URLSearchParams({dapp_encryption_public_key:e2.encode(i),nonce:e2.encode(n),payload:e2.encode(s),redirect_link:window.location.href}));throw tn.method.set("signMessage"),window.location.href=o,Error("ignore")})}extractSignature(){let e=new URLSearchParams(window.location.search),{data:t,nonce:r,sharedSecret:i,message:n}=this.getInputsOrThrow("extractSignature",["data","nonce"],["sharedSecret","message"]),s=e7(t,r,i);return e.delete("data"),e.delete("nonce"),history.replaceState(null,"","".concat(window.location.origin).concat(window.location.pathname,"?").concat(e.toString())),{message:n,signature:s.signature}}extractTransactions(){let e=new URLSearchParams(window.location.search),{data:t,nonce:r,sharedSecret:i}=this.getInputsOrThrow("extractTransactions",["data","nonce"],["sharedSecret"]),n=e7(t,r,i).transactions.map(e=>z.YW.from(e2.decode(e)));return e.delete("data"),e.delete("nonce"),history.replaceState(null,"","".concat(window.location.origin).concat(window.location.pathname,"?").concat(e.toString())),n}extractTransaction(){let e=new URLSearchParams(window.location.search),{data:t,nonce:r,sharedSecret:i}=this.getInputsOrThrow("extractTransaction",["data","nonce"],["sharedSecret"]),n=e7(t,r,i),s=z.YW.from(e2.decode(n.transaction));return e.delete("data"),e.delete("nonce"),history.replaceState(null,"","".concat(window.location.origin).concat(window.location.pathname,"?").concat(e.toString())),s}consumeMethod(){let e=tn.method.get();return tn.method.remove(),e}getSigner(){return e5(this,void 0,void 0,function*(){let e=tn.address.get();if(e)return{addListener:()=>{throw Error("Not implemented")},connect:()=>{throw Error("Not implemented")},disconnect:()=>{throw Error("Not implemented")},emit:()=>{throw Error("Not implemented")},eventNames:()=>{throw Error("Not implemented")},isBackpack:!1,isBraveWallet:!1,isConnected:!0,isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!0,isSolflare:!1,listenerCount:()=>{throw Error("Not implemented")},listeners:()=>{throw Error("Not implemented")},off:()=>{throw Error("Not implemented")},on:()=>{throw Error("Not implemented")},once:()=>{throw Error("Not implemented")},providers:[],publicKey:new z.nh(e),removeAllListeners:()=>{throw Error("Not implemented")},removeListener:()=>{throw Error("Not implemented")},signAllTransactions:e=>e5(this,void 0,void 0,function*(){let t=e.map(e=>e2.encode(e.serialize({requireAllSignatures:!1}))),{session:r,sharedSecret:i,encryptionPublicKey:n}=this.getInputsOrThrow("signAllTransactions",[],["session","sharedSecret","encryptionPublicKey"]),[s,o]=tt({session:r,transactions:t},i),a=e3("signAllTransactions",new URLSearchParams({dapp_encryption_public_key:e2.encode(n),nonce:e2.encode(s),payload:e2.encode(o),redirect_link:window.location.href}));return window.location.href=a,[]}),signAndSendTransaction:(e,t)=>e5(this,void 0,void 0,function*(){let{session:r,sharedSecret:i,encryptionPublicKey:n}=this.getInputsOrThrow("signAndSendTransaction",[],["session","sharedSecret","encryptionPublicKey"]),[s,o]=tt({options:t,session:r,transaction:e2.encode(e.serialize({requireAllSignatures:!1}))},i),a=e3("signAndSendTransaction",new URLSearchParams({dapp_encryption_public_key:e2.encode(n),nonce:e2.encode(s),payload:e2.encode(o),redirect_link:window.location.href}));return tn.method.set("signAndSendTransaction"),window.location.href=a,{signature:""}}),signMessage:e=>e5(this,void 0,void 0,function*(){let{session:t,sharedSecret:r,encryptionPublicKey:i}=this.getInputsOrThrow("signMessage",[],["session","sharedSecret","encryptionPublicKey"]),[n,s]=tt({message:e2.encode(to.from(e)),session:t},r),o=e3("signMessage",new URLSearchParams({dapp_encryption_public_key:e2.encode(i),nonce:e2.encode(n),payload:e2.encode(s),redirect_link:window.location.href}));return window.location.href=o,{signature:to.from("")}}),signTransaction:e=>e5(this,void 0,void 0,function*(){let t=e2.encode(e.serialize({requireAllSignatures:!1})),{session:r,sharedSecret:i,encryptionPublicKey:n}=this.getInputsOrThrow("signTransaction",[],["session","sharedSecret","encryptionPublicKey"]),[s,o]=tt({session:r,transaction:t},i),a=e3("signTransaction",new URLSearchParams({dapp_encryption_public_key:e2.encode(n),nonce:e2.encode(s),payload:e2.encode(o),redirect_link:window.location.href}));return window.location.href=a,e})}})}getConnectedAccounts(){return e5(this,void 0,void 0,function*(){let e=tn.address.get();return e?[e]:[]})}endSession(){return e5(this,void 0,void 0,function*(){let e=tn.address.get(),t=tn.session.get(),r=tn.sharedSecret.get(),i=tn.encryptionPublicKey.get();if(ts(),!e||!t||!i||!r)return;let[n,s]=tt({session:t},r),o=e3("disconnect",new URLSearchParams({dapp_encryption_public_key:e2.encode(i),nonce:e2.encode(n),payload:e2.encode(s),redirect_link:window.location.href}));window.location.href=o})}getInputsOrThrow(e,t,r){let i={},n=new URLSearchParams(window.location.search);return t.forEach(t=>{let r=n.get(t);if(!r)throw Error("[PhantomRedirect] ".concat(e," called, but required input '").concat(t,"' not found in query params"));i[t]=r}),r.forEach(t=>{let r=tn[t].get();if(!r)throw Error("[PhantomRedirect] ".concat(e," called, but required input '").concat(t,"' not found in local storage"));i[t]=r}),i}constructor(e){super(Object.assign({},e)),this.name="Phantom",this.overrideKey="phantom"}}let tl=e=>!!e&&void 0!==e.signature;var tc=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},tu=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};let th=new Set,td={};function tf(){if(i||(i=Object.freeze({register:tp,get:ty,on:tv}),"undefined"==typeof window))return i;let e=Object.freeze({register:tp});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new tg(e))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return i}function tp(...e){return(e=e.filter(e=>!th.has(e))).length?(e.forEach(e=>th.add(e)),td.register?.forEach(t=>tm(()=>t(...e))),function(){e.forEach(e=>th.delete(e)),td.unregister?.forEach(t=>tm(()=>t(...e)))}):()=>{}}function ty(){return[...th]}function tv(e,t){return td[e]?.push(t)||(td[e]=[t]),function(){td[e]=td[e]?.filter(e=>t!==e)}}function tm(e){try{e()}catch(e){console.error(e)}}class tg extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),l.set(this,void 0),tc(this,l,e,"f")}get detail(){return tu(this,l,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}l=new WeakMap;let tw=e=>{let{walletStandardLocators:t}=e;if(!t||0===t.length)return;let r=tf().get();return t.reduce((e,t)=>{if(e)return e;let i=r.find(e=>e.name===t.name);if(i)return(0,y.U2)(i,t.locator)},void 0)};class tb{getInjectedConfig(){if(!this.wallet||!this.wallet.injectedConfig)return;let{injectedConfig:e}=this.wallet;return e.find(e=>"sol"===e.chain)}getInstalledProvider(){let e=this.getInjectedConfig();if(e&&e.extensionLocators)return this.installedProviderLookup(e.extensionLocators)}installedProviders(){var e,t;let r=this.getInjectedConfig();if(!r)return[];let i=[];if(r.windowLocations)for(let e of r.windowLocations){let t=(0,y.vj)(e);t&&t.length&&i.push(...t)}if(0!==r.extensionLocators.length&&window.solana&&(window.solana.providers?window.solana.providers.forEach(e=>i.push(e)):i.push(window.solana)),(null!==(t=null===(e=r.walletStandardLocators)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0){let e=tw(r);e&&i.push(e)}return i}installedProviderLookup(e){let t=this.installedProviders();return 0===e.length?t[0]:(0,p.VN)(t,e)}findProvider(){return this.getInstalledProvider()}isInstalledHelper(){return void 0!==this.findProvider()}getAddress(){return e5(this,void 0,void 0,function*(){var e;let t=this.findProvider();if(t)return yield t.connect(),null===(e=t.publicKey)||void 0===e?void 0:e.toString()})}connect(){return e5(this,void 0,void 0,function*(){let e=this.findProvider();if(e)try{return e.isConnected||(yield e.connect()),e}catch(e){return}})}signMessage(e){return e5(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;let t=this.findProvider();if(!t)return;let r=new TextEncoder().encode(e),i=yield t.signMessage(r,"utf8");if(i)return(0,y.h$)(tl(i)?i.signature:i)})}handleAccountChange(e,t,r){return e5(this,void 0,void 0,function*(){var i;if(!r){yield null==t?void 0:t.connect(),(null===(i=null==t?void 0:t.publicKey)||void 0===i?void 0:i.toString())&&e.emit("accountChange",{accounts:[t.publicKey.toString()]});return}r.toString()&&e.emit("accountChange",{accounts:[r.toString()]})})}_setupEventListeners(e){let t=this.findProvider();if(!t){p.kg.warn("Provider not found",{connector:e});return}if(!("on"in t)){p.kg.warn("Provider does not support event listeners",{connector:e,provider:t});return}t.on("accountChanged",r=>this.handleAccountChange(e,t,r)),t.on("disconnect",()=>e.emit("disconnect"))}_teardownEventListeners(){let e=this.findProvider();e&&e.removeAllListeners()}getConnectedAccounts(){return e5(this,void 0,void 0,function*(){var e,t;let r;let i=this.findProvider();if(!i)return[];try{i.isConnected||(r=yield i.connect({onlyIfTrusted:!0}))}catch(e){return[]}let n=null==r?void 0:r.address,s=null!==(e=null==r?void 0:r.publicKey)&&void 0!==e?e:null===(t=i.publicKey)||void 0===t?void 0:t.toString();return n?[n]:s?[null==s?void 0:s.toString()]:[]})}constructor(e){this.wallet=e}}class t_ extends y.B8{constructor(e){super("Message signing is currently not supported on ".concat(e," hardware wallet.\n    You can use signMessageViaTransaction instead to achieve similar functionality\n    by signing a transaction with a memo instruction.\n    You can read more about it here https://github.com/solana-labs/solana/issues/21366"))}}class tA extends Q{getSolProviderHelper(){return this.wallet||(this.wallet=(0,Y.IP)(this.walletBook,this.key)),this.wallet&&!this.solProviderHelper&&(this.solProviderHelper=new tb(this.wallet)),this.solProviderHelper}getProvider(){var e;return null===(e=this.getSolProviderHelper())||void 0===e?void 0:e.getInstalledProvider()}setupEventListeners(){var e;null===(e=this.getSolProviderHelper())||void 0===e||e._setupEventListeners(this)}teardownEventListeners(){var e;null===(e=this.getSolProviderHelper())||void 0===e||e._teardownEventListeners()}connect(){return e5(this,void 0,void 0,function*(){var e;yield null===(e=this.getSolProviderHelper())||void 0===e?void 0:e.connect()})}getSigner(){return e5(this,void 0,void 0,function*(){var e;return null===(e=this.getSolProviderHelper())||void 0===e?void 0:e.connect()})}createUiTransaction(e){return e5(this,void 0,void 0,function*(){yield this.validateActiveWallet(e);let t=new eI({connection:this.getWalletClient(),from:e,onSubmit:e=>e5(this,void 0,void 0,function*(){var t;let r=yield this.getSigner();if(!r)throw Error("Signer not found");let i=yield this.getWalletClient().getLatestBlockhash();if("version"in e)e.message.recentBlockhash=i.blockhash;else{let r=yield this.getAddress();if(!r)throw Error("User address not found");e.recentBlockhash=i.blockhash,e.feePayer=null!==(t=e.feePayer)&&void 0!==t?t:new z.nh(r)}return(yield r.signAndSendTransaction(e)).signature})});return t.feeDeducted=!0,t})}isInstalledOnBrowser(){var e;return!!(null===(e=this.getSolProviderHelper())||void 0===e?void 0:e.isInstalledHelper())}getAddress(){return e5(this,void 0,void 0,function*(){var e,t;if(!this.isInstalledOnBrowser()){if((0,y.tq)()&&(null===(e=this.wallet)||void 0===e?void 0:e.mobile)&&this.wallet.mobile.inAppBrowser&&"in-app-browser"===this.mobileExperience){let e=(0,y.XK)(this.wallet.mobile.inAppBrowser)({encodedDappURI:encodeURIComponent(window.location.toString())});window.location.assign(e)}return}return null===(t=this.getSolProviderHelper())||void 0===t?void 0:t.getAddress()})}signMessage(e){return e5(this,void 0,void 0,function*(){var t,r;let i=yield null===(t=this.getSolProviderHelper())||void 0===t?void 0:t.getAddress();if(i&&this.isLedgerAddress(i))throw new t_(this.name);return null===(r=this.getSolProviderHelper())||void 0===r?void 0:r.signMessage(e)})}getConnectedAccounts(){return e5(this,void 0,void 0,function*(){var e,t;return null!==(t=null===(e=this.getSolProviderHelper())||void 0===e?void 0:e.getConnectedAccounts())&&void 0!==t?t:[]})}}class tE extends tA{getAddress(){let e=Object.create(null,{getAddress:{get:()=>super.getAddress}});return e5(this,void 0,void 0,function*(){if(this.isInstalledOnBrowser())return e.getAddress.call(this);(0,y.tq)()&&(0,y.Rc)({nativeLink:"phantom://browse",universalLink:"https://phantom.app/ul/browse"})})}canGetChainAddress(){var e,t;return(null===(t=null===(e=this.getSolProviderHelper())||void 0===e?void 0:e.findProvider())||void 0===t?void 0:t.publicKey)!==null}constructor(e){super(e),this.name="Phantom",this.overrideKey="phantom",this.wallet=(0,Y.IP)(this.walletBook,this.key)}}class tS extends Q{connect(){return e5(this,void 0,void 0,function*(){yield this.getMobileOrInstalledWallet().connect()})}getSigner(){return e5(this,void 0,void 0,function*(){return this.getMobileOrInstalledWallet().getSigner()})}getMobileOrInstalledWallet(){let e=new tE(this.constructorProps);return!(0,y.tq)()||e.isInstalledOnBrowser()?e:"redirect"===this.mobileExperience?new ta(this.constructorProps):new tE(this.constructorProps)}constructor(e){super(e),this.name="Phantom",this.overrideKey="phantom",this.wallet=(0,Y.IP)(this.walletBook,this.key)}}class tT extends tA{getSigner(){return e5(this,void 0,void 0,function*(){var e;return null===(e=this.getSolProviderHelper())||void 0===e?void 0:e.connect()})}signMessage(e){return e5(this,void 0,void 0,function*(){let t=yield this.getAddress();if(!t)return;let r=yield this.getSigner();if(!r)return;let i=new TextEncoder().encode(e),n=yield r.signMessage(i,t);if(n)return(0,y.h$)(tl(n)?n.signature:n)})}constructor(e){super(e),this.name="CoinbaseSolana",this.overrideKey="coinbasesolana",this.wallet=(0,Y.IP)(this.walletBook,this.key)}}class tk extends tA{getAddress(){return e5(this,void 0,void 0,function*(){var e,t,r,i,n;if((0,y.tq)()&&!this.isInstalledOnBrowser()){(0,y.Rc)({nativeLink:(null===(t=null===(e=this.wallet)||void 0===e?void 0:e.mobile)||void 0===t?void 0:t.native)||"solflare://ul/v1/browse",universalLink:(null===(i=null===(r=this.wallet)||void 0===r?void 0:r.mobile)||void 0===i?void 0:i.universal)||"https://solflare.com/ul/v1/browse"});return}return null===(n=this.getSolProviderHelper())||void 0===n?void 0:n.getAddress()})}signMessage(e){return e5(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;let t=yield this.getSigner();if(!t)return;let r=new TextEncoder().encode(e);yield t.connect(),yield new Promise(e=>{setTimeout(e,100)});let i=yield t.signMessage(r,"utf8");return void 0!==i.signature?(0,y.h$)(i.signature):void 0})}constructor(e){super(e),this.name="Solflare",this.overrideKey="solflare",this.wallet=(0,Y.IP)(this.walletBook,this.key)}}let tP=e=>!("instructions"in e),tO=(e,t)=>{let r=e.features,i=()=>e5(void 0,void 0,void 0,function*(){let r=yield t.getAddress(),i=e.accounts.find(e=>e.address===r);if(!i)throw Error("Account not found");return i}),n=()=>e5(void 0,void 0,void 0,function*(){var e,r;let i=null!==(r=null===(e=t.solNetworks[0].privateCustomerRpcUrls)||void 0===e?void 0:e[0])&&void 0!==r?r:t.solNetworks[0].rpcUrls[0],n=yield ti(i);return"solana:".concat(n)}),s=e=>e5(void 0,void 0,void 0,function*(){let t=yield i(),s=yield r["solana:signTransaction"].signTransaction({account:t,chain:yield n(),transaction:e.serialize({requireAllSignatures:!1})});return tP(e)?z.GS.deserialize(s[0].signedTransaction):z.YW.from(s[0].signedTransaction)});return{addListener:()=>{throw Error("Not implemented")},connect:()=>{throw Error("Not implemented")},disconnect:()=>t.endSession(),emit:()=>{throw Error("Not implemented")},eventNames:()=>{throw Error("Not implemented")},isBackpack:!1,isBraveWallet:!1,isConnected:!0,isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!1,isSolflare:!1,listenerCount:()=>{throw Error("Not implemented")},listeners:()=>{throw Error("Not implemented")},off:()=>{throw Error("Not implemented")},on:()=>{throw Error("Not implemented")},once:()=>{throw Error("Not implemented")},providers:[],get publicKey(){return new z.nh(e.accounts[0].publicKey)},removeAllListeners:()=>{throw Error("Not implemented")},removeListener:()=>{throw Error("Not implemented")},send:()=>{throw Error("Not implemented")},signAllTransactions:e=>e5(void 0,void 0,void 0,function*(){return Promise.all(e.map(s))}),signAndSendTransaction:e=>e5(void 0,void 0,void 0,function*(){let t=yield i(),[{signature:s}]=yield r["solana:signAndSendTransaction"].signAndSendTransaction({account:t,chain:yield n(),transaction:e.serialize()});return{signature:new TextDecoder().decode(s)}}),signMessage:e=>e5(void 0,void 0,void 0,function*(){let t=yield i();return{signature:(yield r["solana:signMessage"].signMessage({account:t,message:e}))[0].signature}}),signTransaction:s}};var tU=r(82595).Buffer;let tI=new TextEncoder;class tC extends Q{get wallet(){let e=tC.getWallet(this.walletBook,this.key);if(!e)throw Error("Wallet not found");return e}get walletFeatures(){return this.wallet.features}connect(){return e5(this,void 0,void 0,function*(){yield this.walletFeatures["standard:connect"].connect()})}endSession(){return e5(this,void 0,void 0,function*(){yield this.walletFeatures["standard:disconnect"].disconnect()})}isInstalledOnBrowser(){return!0}getAddress(){return e5(this,void 0,void 0,function*(){yield this.connect();let[e]=yield this.getConnectedAccounts();return e})}getConnectedAccounts(){return e5(this,void 0,void 0,function*(){return this.wallet.accounts.map(e=>e.address)})}signMessage(e){return e5(this,void 0,void 0,function*(){let t=yield this.getSigner();if(!t)throw Error("Signer not found");let r=tI.encode(e),{signature:i}=yield t.signMessage(r);if(!(i instanceof Uint8Array))throw Error("Signature not found");return tU.from(i).toString("base64")})}getSigner(){return e5(this,void 0,void 0,function*(){let{wallet:e}=this;return tO(e,this)})}static getWallet(e,t){var r,i;let n=tf().get(),s=null===(r=e.wallets[t].injectedConfig)||void 0===r?void 0:r.find(e=>"sol"===e.chain);if(!s)return;let{features:o}=null!==(i=s.walletStandard)&&void 0!==i?i:{};if(o)return n.find(e=>{var t;return e.name===(null===(t=s.walletStandard)||void 0===t?void 0:t.name)&&o.reduce((t,r)=>{let i=Object.keys(e.features);return!!t&&i.includes(r)},!0)})}constructor(e){super(e),this.connectedChain="SOL",this.supportedChains=["SOL"]}}var tN=r(82595).Buffer;class tx extends tA{getSigner(){return e5(this,void 0,void 0,function*(){var e;return null===(e=this.getSolProviderHelper())||void 0===e?void 0:e.connect()})}signMessage(e){return e5(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;let t=yield this.getSigner();if(!t)return;let r=yield t.signMessage(tN.from(e,"utf8"));return r?"object"==typeof r&&"signature"in r?(0,y.h$)(r.signature):(0,y.h$)(r):void 0})}constructor(e){super(e),this.name="Backpack",this.overrideKey="backpacksol",this.wallet=(0,Y.IP)(this.walletBook,this.key)}}let tR=[tT,tx,tk],tB=["coinbasesolana","phantom","phantomledger","backpacksol","solflare"],tK=e=>{var t;let{walletBook:r}=e;return Object.entries(null!==(t=null==r?void 0:r.wallets)&&void 0!==t?t:{}).filter(e=>{var t;let[r,i]=e,n=!!(null===(t=i.injectedConfig)||void 0===t?void 0:t.find(e=>"sol"===e.chain)),s=tB.includes(r);return n&&!s}).map(e=>{var t;let[i,n]=e,{shortName:s}=n,o=s||n.name;return(null===(t=n.injectedConfig)||void 0===t?void 0:t.find(e=>e.walletStandard))&&tC.getWallet(r,i)?class extends tC{constructor(e){super(Object.assign({},e)),this.name=o,this.overrideKey=i}}:class extends tA{constructor(e){super(Object.assign({},e)),this.name=o,this.wallet=n,this.overrideKey=i}}})};class tM extends tA{isInstalledOnBrowser(){return!1}constructor(e){super(e),this.name="Unknown",this.overrideKey="unknown",this.wallet=(0,Y.IP)(this.walletBook,this.key)}}class tq extends tA{isInstalledOnBrowser(){return!1}constructor(e){super(e),this.name="Fallback Connector",this.overrideKey="fallbackconnector",this.isAvailable=!1,this.wallet=(0,Y.IP)(this.walletBook,this.key)}}(0,c.J)("@dynamic-labs/solana","4.0.0-alpha.12");let tL=e=>[...tR,...tK(e),...e1(e),tS,tM,tq]},82113:function(e,t,r){"use strict";r.d(t,{lW:function(){return w}});var i=r(17160);class n extends Error{constructor(){super("Webauthn is not supported on this device")}}function s(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})}function o(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function a(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,i=atob(t.padEnd(t.length+r,"=")),n=new ArrayBuffer(i.length),s=new Uint8Array(n);for(let e=0;e<i.length;e++)s[e]=i.charCodeAt(e);return n}function l(){return window?.PublicKeyCredential!==void 0&&"function"==typeof window.PublicKeyCredential}function c(e){let{id:t}=e;return{...e,id:a(t),transports:e.transports}}"function"==typeof SuppressedError&&SuppressedError;class u extends Error{constructor({message:e,code:t,cause:r,name:i}){super(e,{cause:r}),this.name=i??r.name,this.code=t}}class h{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}let d=new h,f=["cross-platform","platform"];async function p(e){var t;let r,i,n,s,h;if(!l())throw Error("WebAuthn is not supported in this browser");let p={publicKey:{...e,challenge:a(e.challenge),user:{...e.user,id:(t=e.user.id,new TextEncoder().encode(t))},excludeCredentials:e.excludeCredentials?.map(c)}};p.signal=d.createNewAbortSignal();try{r=await navigator.credentials.create(p)}catch(e){throw function({error:e,options:t}){let{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new u({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(r.authenticatorSelection?.requireResidentKey===!0)return new u({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(r.authenticatorSelection?.userVerification==="required")return new u({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new u({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new u({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new u(0===r.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!("localhost"===t||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)))return new u({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rp.id!==t)return new u({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new u({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new u({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return e}({error:e,options:p})}if(!r)throw Error("Registration was not completed");let{id:v,rawId:m,response:g,type:w}=r;if("function"==typeof g.getTransports&&(n=g.getTransports()),"function"==typeof g.getPublicKeyAlgorithm)try{s=g.getPublicKeyAlgorithm()}catch(e){y("getPublicKeyAlgorithm()",e)}if("function"==typeof g.getPublicKey)try{let e=g.getPublicKey();null!==e&&(h=o(e))}catch(e){y("getPublicKey()",e)}if("function"==typeof g.getAuthenticatorData)try{i=o(g.getAuthenticatorData())}catch(e){y("getAuthenticatorData()",e)}return{id:v,rawId:o(m),response:{attestationObject:o(g.attestationObject),clientDataJSON:o(g.clientDataJSON),transports:n,publicKeyAlgorithm:s,publicKey:h,authenticatorData:i},type:w,clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:function(e){if(!(!e||0>f.indexOf(e)))return e}(r.authenticatorAttachment)}}function y(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}let v=new(r(36341)).Y("Webauthn"),m=e=>s(void 0,void 0,void 0,function*(){let t;if(!l())throw new n;try{t=yield p(e)}catch(e){throw v.debug("Failed to create webauthn credential",e),e}return t}),g=e=>{switch(e){case"internal":return"AUTHENTICATOR_TRANSPORT_INTERNAL";case"usb":return"AUTHENTICATOR_TRANSPORT_USB";case"nfc":return"AUTHENTICATOR_TRANSPORT_NFC";case"ble":return"AUTHENTICATOR_TRANSPORT_BLE";case"hybrid":return"AUTHENTICATOR_TRANSPORT_HYBRID";default:throw Error("unsupported transport format "+e)}},w=e=>s(void 0,void 0,void 0,function*(){var t,r;if(!e.publicKey)throw Error("Invalid options. Public key attribute must be defined");let i=Object.assign(Object.assign({},e.publicKey),{challenge:b(e.publicKey.challenge),excludeCredentials:null===(t=e.publicKey.excludeCredentials)||void 0===t?void 0:t.map(e=>Object.assign(Object.assign({},e),{id:b(e.id)})),user:Object.assign(Object.assign({},e.publicKey.user),{id:b(e.publicKey.user.id)})}),n=yield m(i);return{attestationObject:n.response.attestationObject,clientDataJson:n.response.clientDataJSON,credentialId:n.rawId,transports:(null===(r=n.response.transports)||void 0===r?void 0:r.map(g))||[]}}),b=e=>e instanceof ArrayBuffer?o(e):o(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));(0,i.J)("@dynamic-labs/webauthn","4.0.0-alpha.12")},52044:function(e,t,r){"use strict";r.d(t,{z9:function(){return l}});var i=r(88516),n=r(28070);let s="undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof crypto&&void 0!==crypto.subtle,o=void 0!==n&&null!=n.versions&&null!=n.versions.node,a=async e=>s?(await r.e(310).then(r.bind(r,80310)).then(e=>e.signWithApiKey))(e):o?(await r.e(2780).then(r.bind(r,62780)).then(e=>e.signWithApiKey))(e):(await r.e(8339).then(r.bind(r,8339)).then(e=>e.signWithApiKey))(e);class l{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey}async stamp(e){let t=await a({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e}),r={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:t};return{stampHeaderName:"X-Stamp",stampHeaderValue:(0,i.To)(JSON.stringify(r))}}}},88516:function(e,t,r){"use strict";r.d(t,{HS:function(){return i},To:function(){return n},bN:function(){return s},fv:function(){return o},q8:function(){return a}});let i=32;function n(e){return(function(e){let t;if(0==arguments.length)throw TypeError("1 argument required, but only 0 present.");for(t=0,e=`${e}`;t<e.length;t++)if(e.charCodeAt(t)>255)throw Error(`InvalidCharacterError: found code point greater than 255:${e.charCodeAt(t)} at position ${t}`);let r="";for(t=0;t<e.length;t+=3){let i=[void 0,void 0,void 0,void 0];i[0]=e.charCodeAt(t)>>2,i[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(i[1]|=e.charCodeAt(t+1)>>4,i[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(i[2]|=e.charCodeAt(t+2)>>6,i[3]=63&e.charCodeAt(t+2));for(let e=0;e<i.length;e++)void 0===i[e]?r+="=":r+=function(e){if(e>=0&&e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}(i[e])}return r})(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function s(e,t){return n(a(e.padStart(2*Math.ceil(e.length/2),"0"),t).reduce((e,t)=>e+String.fromCharCode(t),""))}function o(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}let a=(e,t)=>{if(!e||e.length%2!=0||!/^[0-9A-Fa-f]+$/.test(e))throw Error(`cannot create uint8array from invalid hex string: "${e}"`);let r=new Uint8Array(e.match(/../g).map(e=>parseInt(e,16)));if(!t)return r;if(e.length/2>t)throw Error("hex value cannot fit in a buffer of "+t+" byte(s)");let i=new Uint8Array(t);return i.set(r,t-r.length),i}},89794:function(e,t,r){"use strict";r.d(t,{eM:function(){return d},TF:function(){return h}}),r(52044);let i=r(14746).fetch,n="copy",s="convert";function o(e,t){return{required:!0,schema:e,derive:t}}function a(e){return{required:!0,schema:e}}function l(e){return{required:!1,schema:e}}let c={appid:l(n),appidExclude:l(n),credProps:l(n)};a(n),a(n),a(s),l(n),a({clientDataJSON:a(s),attestationObject:a(s),transports:o(n,e=>e.getTransports?.()||[])}),o(c,e=>e.getClientExtensionResults()),a(n),a(n),a(s),l(n),a({clientDataJSON:a(s),authenticatorData:a(s),signature:a(s),userHandle:a(s)}),o(c,e=>e.getClientExtensionResults()),r(82595).Buffer;class u extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}class h{constructor(e,t){if(this.getActivity=async e=>this.request("/public/v1/query/get_activity",e),this.stampGetActivity=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",e),this.stampGetApiKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKeys=async e=>this.request("/public/v1/query/get_api_keys",e),this.stampGetApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAttestationDocument=async e=>this.request("/public/v1/query/get_attestation",e),this.stampGetAttestationDocument=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_attestation",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",e),this.stampGetAuthenticator=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",e),this.stampGetAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOauthProviders=async e=>this.request("/public/v1/query/get_oauth_providers",e),this.stampGetOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganization=async e=>this.request("/public/v1/query/get_organization",e),this.stampGetOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganizationConfigs=async e=>this.request("/public/v1/query/get_organization_configs",e),this.stampGetOrganizationConfigs=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization_configs",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",e),this.stampGetPolicy=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",e),this.stampGetPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",e),this.stampGetUser=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",e),this.stampGetWallet=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getActivities=async e=>this.request("/public/v1/query/list_activities",e),this.stampGetActivities=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicies=async e=>this.request("/public/v1/query/list_policies",e),this.stampGetPolicies=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",e),this.stampListPrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKeys=async e=>this.request("/public/v1/query/list_private_keys",e),this.stampGetPrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getSubOrgIds=async e=>this.request("/public/v1/query/list_suborgs",e),this.stampGetSubOrgIds=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_suborgs",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listUserTags=async e=>this.request("/public/v1/query/list_user_tags",e),this.stampListUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUsers=async e=>this.request("/public/v1/query/list_users",e),this.stampGetUsers=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",e),this.stampGetWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallets=async e=>this.request("/public/v1/query/list_wallets",e),this.stampGetWallets=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWhoami=async e=>this.request("/public/v1/query/whoami",e),this.stampGetWhoami=async e=>{let t=this.config.baseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.approveActivity=async e=>this.request("/public/v1/submit/approve_activity",e),this.stampApproveActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiKeys=async e=>this.request("/public/v1/submit/create_api_keys",e),this.stampCreateApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiOnlyUsers=async e=>this.request("/public/v1/submit/create_api_only_users",e),this.stampCreateApiOnlyUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createAuthenticators=async e=>this.request("/public/v1/submit/create_authenticators",e),this.stampCreateAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createInvitations=async e=>this.request("/public/v1/submit/create_invitations",e),this.stampCreateInvitations=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createOauthProviders=async e=>this.request("/public/v1/submit/create_oauth_providers",e),this.stampCreateOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicies=async e=>this.request("/public/v1/submit/create_policies",e),this.stampCreatePolicies=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policies",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicy=async e=>this.request("/public/v1/submit/create_policy",e),this.stampCreatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeyTag=async e=>this.request("/public/v1/submit/create_private_key_tag",e),this.stampCreatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeys=async e=>this.request("/public/v1/submit/create_private_keys",e),this.stampCreatePrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadOnlySession=async e=>this.request("/public/v1/submit/create_read_only_session",e),this.stampCreateReadOnlySession=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_read_only_session",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadWriteSession=async e=>this.request("/public/v1/submit/create_read_write_session",e),this.stampCreateReadWriteSession=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_read_write_session",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createSubOrganization=async e=>this.request("/public/v1/submit/create_sub_organization",e),this.stampCreateSubOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUserTag=async e=>this.request("/public/v1/submit/create_user_tag",e),this.stampCreateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUsers=async e=>this.request("/public/v1/submit/create_users",e),this.stampCreateUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWallet=async e=>this.request("/public/v1/submit/create_wallet",e),this.stampCreateWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWalletAccounts=async e=>this.request("/public/v1/submit/create_wallet_accounts",e),this.stampCreateWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteApiKeys=async e=>this.request("/public/v1/submit/delete_api_keys",e),this.stampDeleteApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteAuthenticators=async e=>this.request("/public/v1/submit/delete_authenticators",e),this.stampDeleteAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteInvitation=async e=>this.request("/public/v1/submit/delete_invitation",e),this.stampDeleteInvitation=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteOauthProviders=async e=>this.request("/public/v1/submit/delete_oauth_providers",e),this.stampDeleteOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePolicy=async e=>this.request("/public/v1/submit/delete_policy",e),this.stampDeletePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeyTags=async e=>this.request("/public/v1/submit/delete_private_key_tags",e),this.stampDeletePrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_private_key_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUserTags=async e=>this.request("/public/v1/submit/delete_user_tags",e),this.stampDeleteUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_user_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUsers=async e=>this.request("/public/v1/submit/delete_users",e),this.stampDeleteUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.emailAuth=async e=>this.request("/public/v1/submit/email_auth",e),this.stampEmailAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportPrivateKey=async e=>this.request("/public/v1/submit/export_private_key",e),this.stampExportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWallet=async e=>this.request("/public/v1/submit/export_wallet",e),this.stampExportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWalletAccount=async e=>this.request("/public/v1/submit/export_wallet_account",e),this.stampExportWalletAccount=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importPrivateKey=async e=>this.request("/public/v1/submit/import_private_key",e),this.stampImportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/import_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importWallet=async e=>this.request("/public/v1/submit/import_wallet",e),this.stampImportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/import_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportPrivateKey=async e=>this.request("/public/v1/submit/init_import_private_key",e),this.stampInitImportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_import_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportWallet=async e=>this.request("/public/v1/submit/init_import_wallet",e),this.stampInitImportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_import_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initUserEmailRecovery=async e=>this.request("/public/v1/submit/init_user_email_recovery",e),this.stampInitUserEmailRecovery=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.oauth=async e=>this.request("/public/v1/submit/oauth",e),this.stampOauth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/oauth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.recoverUser=async e=>this.request("/public/v1/submit/recover_user",e),this.stampRecoverUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.rejectActivity=async e=>this.request("/public/v1/submit/reject_activity",e),this.stampRejectActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.removeOrganizationFeature=async e=>this.request("/public/v1/submit/remove_organization_feature",e),this.stampRemoveOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.setOrganizationFeature=async e=>this.request("/public/v1/submit/set_organization_feature",e),this.stampSetOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayload=async e=>this.request("/public/v1/submit/sign_raw_payload",e),this.stampSignRawPayload=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayloads=async e=>this.request("/public/v1/submit/sign_raw_payloads",e),this.stampSignRawPayloads=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payloads",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signTransaction=async e=>this.request("/public/v1/submit/sign_transaction",e),this.stampSignTransaction=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePolicy=async e=>this.request("/public/v1/submit/update_policy",e),this.stampUpdatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePrivateKeyTag=async e=>this.request("/public/v1/submit/update_private_key_tag",e),this.stampUpdatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateRootQuorum=async e=>this.request("/public/v1/submit/update_root_quorum",e),this.stampUpdateRootQuorum=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUser=async e=>this.request("/public/v1/submit/update_user",e),this.stampUpdateUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUserTag=async e=>this.request("/public/v1/submit/update_user_tag",e),this.stampUpdateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},!e.baseUrl)throw Error("Missing base URL. Please verify env vars.");this.config=e,this.stamper=t}async request(e,t){let r=this.config.baseUrl+e,n=JSON.stringify(t),s=await this.stamper.stamp(n),o=await i(r,{method:"POST",headers:{[s.stampHeaderName]:s.stampHeaderValue,"X-Client-Version":"@turnkey/http@2.12.2"},body:n,redirect:"follow"});if(!o.ok){let e;try{e=await o.json()}catch(e){throw Error(`${o.status} ${o.statusText}`)}throw new u(e)}return await o.json()}}class d extends Error{constructor(e){let{message:t,cause:r,activityId:i,activityStatus:n,activityType:s}=e;super(t),this.name="TurnkeyActivityError",this.activityId=i??null,this.activityStatus=n??null,this.activityType=s??null,this.cause=r??null}}},76764:function(e,t,r){"use strict";var i,n,s,o;r.d(t,{PX:function(){return n},rr:function(){return a}}),(s=i||(i={})).PublicKeyReady="PUBLIC_KEY_READY",s.InjectCredentialBundle="INJECT_CREDENTIAL_BUNDLE",s.InjectKeyExportBundle="INJECT_KEY_EXPORT_BUNDLE",s.InjectWalletExportBundle="INJECT_WALLET_EXPORT_BUNDLE",s.InjectImportBundle="INJECT_IMPORT_BUNDLE",s.ExtractWalletEncryptedBundle="EXTRACT_WALLET_ENCRYPTED_BUNDLE",s.ExtractKeyEncryptedBundle="EXTRACT_KEY_ENCRYPTED_BUNDLE",s.ApplySettings="APPLY_SETTINGS",s.BundleInjected="BUNDLE_INJECTED",s.EncryptedBundleExtracted="ENCRYPTED_BUNDLE_EXTRACTED",s.SettingsApplied="SETTINGS_APPLIED",s.StampRequest="STAMP_REQUEST",s.Stamp="STAMP",s.Error="ERROR",(o=n||(n={})).Hexadecimal="HEXADECIMAL",o.Solana="SOLANA";class a{constructor(e){if("undefined"==typeof window)throw Error("Cannot initialize iframe in non-browser environment");if(!e.iframeContainer)throw Error("Iframe container cannot be found");if(this.container=e.iframeContainer,this.container.querySelector(`#${e.iframeElementId}`))throw Error(`Iframe element with ID ${e.iframeElementId} already exists`);let t=window.document.createElement("iframe");t.setAttribute("sandbox","allow-scripts allow-same-origin"),t.id=e.iframeElementId,t.src=e.iframeUrl,this.iframe=t;let r=new URL(e.iframeUrl);this.iframeOrigin=r.origin,this.iframePublicKey=null}async init(){return this.container.appendChild(this.iframe),new Promise((e,t)=>{window.addEventListener("message",t=>{t.origin===this.iframeOrigin&&t.data?.type===i.PublicKeyReady&&(this.iframePublicKey=t.data.value,e(t.data.value))},!1)})}clear(){this.iframe.remove()}publicKey(){return this.iframePublicKey}async injectCredentialBundle(e){return new Promise((t,r)=>{this.iframe.contentWindow?.postMessage({type:i.InjectCredentialBundle,value:e},"*"),window.addEventListener("message",e=>{e.origin===this.iframeOrigin&&(e.data?.type===i.BundleInjected&&t(e.data.value),e.data?.type===i.Error&&r(e.data.value))},!1)})}async injectKeyExportBundle(e,t,r){return this.iframe.contentWindow?.postMessage({type:i.InjectKeyExportBundle,value:e,keyFormat:r,organizationId:t},"*"),new Promise((e,t)=>{window.addEventListener("message",r=>{r.origin===this.iframeOrigin&&(r.data?.type===i.BundleInjected&&e(r.data.value),r.data?.type===i.Error&&t(r.data.value))},!1)})}async injectWalletExportBundle(e,t){return this.iframe.contentWindow?.postMessage({type:i.InjectWalletExportBundle,value:e,organizationId:t},"*"),new Promise((e,t)=>{window.addEventListener("message",r=>{r.origin===this.iframeOrigin&&(r.data?.type===i.BundleInjected&&e(r.data.value),r.data?.type===i.Error&&t(r.data.value))},!1)})}async injectImportBundle(e,t,r){return this.iframe.contentWindow?.postMessage({type:i.InjectImportBundle,value:e,organizationId:t,userId:r},"*"),new Promise((e,t)=>{window.addEventListener("message",r=>{r.origin===this.iframeOrigin&&(r.data?.type===i.BundleInjected&&e(r.data.value),r.data?.type===i.Error&&t(r.data.value))},!1)})}async extractWalletEncryptedBundle(){return this.iframe.contentWindow?.postMessage({type:i.ExtractWalletEncryptedBundle},"*"),new Promise((e,t)=>{window.addEventListener("message",r=>{r.origin===this.iframeOrigin&&(r.data?.type===i.EncryptedBundleExtracted&&e(r.data.value),r.data?.type===i.Error&&t(r.data.value))},!1)})}async extractKeyEncryptedBundle(e){return this.iframe.contentWindow?.postMessage({type:i.ExtractKeyEncryptedBundle,keyFormat:e},"*"),new Promise((e,t)=>{window.addEventListener("message",r=>{r.origin===this.iframeOrigin&&(r.data?.type===i.EncryptedBundleExtracted&&e(r.data.value),r.data?.type===i.Error&&t(r.data.value))},!1)})}async applySettings(e){let t=JSON.stringify(e);return this.iframe.contentWindow?.postMessage({type:i.ApplySettings,value:t},"*"),new Promise((e,t)=>{window.addEventListener("message",r=>{r.origin===this.iframeOrigin&&(r.data?.type===i.SettingsApplied&&e(r.data.value),r.data?.type===i.Error&&t(r.data.value))},!1)})}async stamp(e){if(null===this.iframePublicKey)throw Error("null iframe public key. Have you called/awaited .init()?");let t=this.iframeOrigin;return this.iframe.contentWindow?.postMessage({type:i.StampRequest,value:e},"*"),new Promise(function(e,r){window.addEventListener("message",n=>{n.origin===t&&(n.data?.type===i.Stamp&&e({stampHeaderName:"X-Stamp",stampHeaderValue:n.data.value}),n.data?.type===i.Error&&r(n.data.value))},!1)})}}},39583:function(e,t,r){"use strict";function i(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}r.d(t,{S:function(){return d}});let n="copy",s="convert";function o(e){return{required:!0,schema:e}}function a(e){return{required:!1,schema:e}}let l={appid:a(n),appidExclude:a(n),credProps:a(n)},c={type:o(n),id:o(n),rawId:o(s),authenticatorAttachment:a(n),response:o({clientDataJSON:o(s),authenticatorData:o(s),signature:o(s),userHandle:o(s)}),clientExtensionResults:{required:!0,schema:l,derive:e=>e.getClientExtensionResults()}};async function u(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>(function e(t,r,i){if(r===n)return i;if(r===s)return t(i);if(r instanceof Array)return i.map(i=>e(t,r[0],i));if(r instanceof Object){let n={};for(let[s,o]of Object.entries(r)){if(o.derive){let e=o.derive(i);void 0!==e&&(i[s]=e)}if(!(s in i)){if(o.required)throw Error(`Missing key: ${s}`);continue}if(null==i[s]){n[s]=null;continue}n[s]=e(t,o.schema,i[s])}return n}})(i,c,t),t}var h=r(67429);class d{constructor(e){this.rpId=e.rpId,this.timeout=e.timeout||3e5,this.userVerification=e.userVerification||"preferred",this.allowCredentials=e.allowCredentials||[]}async stamp(e){let t=function(e){let t=(0,h.j)().update(e).digest("hex");return new TextEncoder().encode(t)}(e),r={publicKey:{rpId:this.rpId,challenge:t,allowCredentials:this.allowCredentials,timeout:this.timeout,userVerification:this.userVerification}},i=(await u(r)).toJSON();return{stampHeaderName:"X-Stamp-Webauthn",stampHeaderValue:JSON.stringify({authenticatorData:i.response.authenticatorData,clientDataJson:i.response.clientDataJSON,credentialId:i.id,signature:i.response.signature})}}}},67429:function(e,t,r){"use strict";let i;r.d(t,{j:function(){return o}});let n=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],s={sha256:1};function o(e){if(e&&!s[e]&&!s[e.toLowerCase()])throw Error("Digest method not supported");return new a}class a{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!i||c>=8e3)&&(i=new ArrayBuffer(8e3),c=0),this._byte=new Uint8Array(i,c,80),this._word=new Int32Array(i,c,20),c+=80}update(e){if("string"==typeof e)return this._utf8(e);if(null==e)throw TypeError("Invalid type: "+typeof e);let t=e.byteOffset,r=e.byteLength,i=r/64|0,n=0;if(i&&!(3&t)&&!(this._size%64)){let r=new Int32Array(e.buffer,t,16*i);for(;i--;)this._int32(r,n>>2),n+=64;this._size+=n}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){let i=new Uint8Array(e.buffer,t+n,r-n);return this._uint8(i)}return n===r?this:this._uint8(e,n)}_uint8(e,t){let{_byte:r,_word:i}=this,n=e.length;for(t|=0;t<n;){let s=this._size%64,o=s;for(;t<n&&o<64;)r[o++]=e[t++];o>=64&&this._int32(i),this._size+=o-s}return this}_utf8(e){let{_byte:t,_word:r}=this,i=e.length,n=this._sp;for(let s=0;s<i;){let o=this._size%64,a=o;for(;s<i&&a<64;){let r=0|e.charCodeAt(s++);r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<55296||r>57343?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):n?(r=((1023&n)<<10)+(1023&r)+65536,t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r,n=0):n=r}a>=64&&(this._int32(r),r[0]=r[16]),this._size+=a-o}return this._sp=n,this}_int32(e,t){let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:g}=this,w=0;for(t|=0;w<16;)l[w++]=h(e[t++]);for(w=16;w<64;w++)l[w]=m(l[w-2])+l[w-7]+v(l[w-15])+l[w-16]|0;for(w=0;w<64;w++){let e=g+y(a)+d(a,c,u)+n[w]+l[w]|0,t=p(r)+f(r,i,s)|0;g=u,u=c,c=a,a=o+e|0,o=s,s=i,i=r,r=e+t|0}this.A=r+this.A|0,this.B=i+this.B|0,this.C=s+this.C|0,this.D=o+this.D|0,this.E=a+this.E|0,this.F=c+this.F|0,this.G=u+this.G|0,this.H=g+this.H|0}digest(e){let{_byte:t,_word:r}=this,i=this._size%64|0;for(t[i++]=128;3&i;)t[i++]=0;if((i>>=2)>14){for(;i<16;)r[i++]=0;i=0,this._int32(r)}for(;i<16;)r[i++]=0;let n=8*this._size,s=(4294967295&n)>>>0,o=(n-s)/4294967296;return o&&(r[14]=h(o)),s&&(r[15]=h(s)),this._int32(r),"hex"===e?this._hex():this._bin()}_hex(){let{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return u(e)+u(t)+u(r)+u(i)+u(n)+u(s)+u(o)+u(a)}_bin(){let{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a,_byte:l,_word:c}=this;return c[0]=h(e),c[1]=h(t),c[2]=h(r),c[3]=h(i),c[4]=h(n),c[5]=h(s),c[6]=h(o),c[7]=h(a),l.slice(0,32)}}let l=new Int32Array(64),c=0,u=e=>(e+4294967296).toString(16).substr(-8),h=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,d=(e,t,r)=>r^e&(t^r),f=(e,t,r)=>e&t|r&(e|t),p=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),y=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),v=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,m=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10},39414:function(e,t,r){"use strict";r.d(t,{AG:function(){return m},G0:function(){return S},IM:function(){return b},IX:function(){return f},O7:function(){return p},Rx:function(){return g},Ue:function(){return c},Yj:function(){return d},Z_:function(){return _},_4:function(){return T},bc:function(){return A},dt:function(){return E},eE:function(){return y},i0:function(){return v},jt:function(){return w},oQ:function(){return k}});class i extends TypeError{constructor(e,t){let r;let{message:i,explanation:n,...s}=e,{path:o}=e,a=0===o.length?i:`At path: ${o.join(".")} -- ${i}`;super(n??a),null!=n&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function n(e){return"object"==typeof e&&null!=e}function s(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*o(e,t,r,i){var o;for(let a of(n(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:n,branch:o}=t,{type:a}=r,{refinement:l,message:c=`Expected a value of type \`${a}\`${l?` with refinement \`${l}\``:""}, but received: \`${s(i)}\``}=e;return{value:i,type:a,refinement:l,key:n[n.length-1],path:n,branch:o,...e,message:c}}(a,t,r,i);e&&(yield e)}}function*a(e,t,r={}){let{path:i=[],branch:s=[e],coerce:o=!1,mask:l=!1}=r,c={path:i,branch:s};if(o&&(e=t.coercer(e,c),l&&"type"!==t.type&&n(t.schema)&&n(e)&&!Array.isArray(e)))for(let r in e)void 0===t.schema[r]&&delete e[r];let u="valid";for(let i of t.validator(e,c))i.explanation=r.message,u="not_valid",yield[i,void 0];for(let[h,d,f]of t.entries(e,c))for(let t of a(d,f,{path:void 0===h?i:[...i,h],branch:void 0===h?s:[...s,d],coerce:o,mask:l,message:r.message}))t[0]?(u=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):o&&(d=t[1],void 0===h?e=d:e instanceof Map?e.set(h,d):e instanceof Set?e.add(d):n(e)&&(void 0!==d||h in e)&&(e[h]=d));if("not_valid"!==u)for(let i of t.refiner(e,c))i.explanation=r.message,u="not_refined",yield[i,void 0];"valid"===u&&(yield[void 0,e])}class l{constructor(e){let{type:t,schema:r,validator:i,refiner:n,coercer:s=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(e,t)=>o(i(e,t),t,this,e):this.validator=()=>[],n?this.refiner=(e,t)=>o(n(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return function(e,t,r){let i=u(e,t,{message:r});if(i[0])throw i[0]}(e,this,t)}create(e,t){return c(e,this,t)}is(e){return!u(e,this)[0]}mask(e,t){return function(e,t,r){let i=u(e,t,{coerce:!0,mask:!0,message:r});if(!i[0])return i[1];throw i[0]}(e,this,t)}validate(e,t={}){return u(e,this,t)}}function c(e,t,r){let i=u(e,t,{coerce:!0,message:r});if(!i[0])return i[1];throw i[0]}function u(e,t,r={}){let n=a(e,t,r),s=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);return s[0]?[new i(s[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,s[1]]}function h(e,t){return new l({type:e,schema:null,validator:t})}function d(){return h("any",()=>!0)}function f(e){return new l({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,i]of t.entries())yield[r,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${s(e)}`})}function p(){return h("boolean",e=>"boolean"==typeof e)}function y(e){return h("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${s(t)}`)}function v(e){let t=s(e),r=typeof e;return new l({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${s(r)}`})}function m(e){return new l({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function g(){return h("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${s(e)}`)}function w(e){return new l({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function b(e,t){return new l({type:"record",schema:null,*entries(r){if(n(r))for(let i in r){let n=r[i];yield[i,i,e],yield[i,n,t]}},validator:e=>n(e)||`Expected an object, but received: ${s(e)}`})}function _(){return h("string",e=>"string"==typeof e||`Expected a string, but received: ${s(e)}`)}function A(e){let t=h("never",()=>!1);return new l({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let i=Math.max(e.length,r.length);for(let n=0;n<i;n++)yield[n,r[n],e[n]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${s(e)}`})}function E(e){let t=Object.keys(e);return new l({type:"type",schema:e,*entries(r){if(n(r))for(let i of t)yield[i,r[i],e[i]]},validator:e=>n(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>n(e)?{...e}:e})}function S(e){let t=e.map(e=>e.type).join(" | ");return new l({type:"union",schema:null,coercer(t){for(let r of e){let[e,i]=r.validate(t,{coerce:!0});if(!e)return i}return t},validator(r,i){let n=[];for(let t of e){let[...e]=a(r,t,i),[s]=e;if(!s[0])return[];for(let[t]of e)t&&n.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${s(r)}`,...n]}})}function T(){return h("unknown",()=>!0)}function k(e,t,r){return new l({...e,coercer:(i,n)=>u(i,t)[0]?e.coercer(i,n):e.coercer(r(i,n),n)})}}}]);