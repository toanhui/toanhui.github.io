!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="be93f2d6-bdc0-4493-af6b-9e9ffc334684",t._sentryDebugIdIdentifier="sentry-dbid-be93f2d6-bdc0-4493-af6b-9e9ffc334684")}catch(t){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6130],{88089:function(t,e,n){n.d(e,{QE:function(){return _},aV:function(){return w},my:function(){return v}});var r=n(85893),i=n(67294),o=n(1922),a=n(204),l=n(23100),s=n(82649),c=n(10234),u=n(10362),d=n(25395),m=n(13717),f=n(84196),p=n(36426),y=n(33750),g=n(72331),x=n(85736),h=n(81319);let w=new s.x,v=new s.x,_=12e4,A=new Map,S={};e.ZP=function(){let{t}=(0,o.$G)(),e=(0,c.qr)(t=>t.connection),n=(0,c.qr)(t=>t.explorerUrl);(0,i.useEffect)(()=>{if(!e)return;let i=w.asObservable().subscribe(i=>{var o,l;let{txId:s,status:f,title:p,txHistoryTitle:y,description:g,txHistoryDesc:w="",txValues:v,mintInfo:S=[],hideResultToast:I,update:k,skipWatchSignature:b,signedTx:q,duration:B,isSwap:E,onConfirmed:F,onError:C,onSent:T,onClose:M}=i,P=null===(o=c.qr.getState().publicKey)||void 0===o?void 0:o.toBase58(),Z=(null===(l=c.qr.getState().wallet)||void 0===l?void 0:l.adapter.name)==="SquadsX",R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Z?null:(0,r.jsxs)(a.k,{gap:"1",alignItems:"center",onClick:()=>window.open("".concat(n,"/tx/").concat(s)),cursor:"pointer",opacity:e?1:.5,"data-sentry-element":"Flex","data-sentry-component":"renderDetail","data-sentry-source-file":"useTxStatus.tsx",children:[t("transaction.view_detail"),(0,r.jsx)(u.Z,{cursor:"pointer","data-sentry-element":"ExternalLink","data-sentry-source-file":"useTxStatus.tsx"})]})};if(m.w.next({id:s,title:p||"".concat(t("transaction.title")," ").concat(t("transaction.sent")),description:Z?(0,r.jsxs)(r.Fragment,{children:[g," ",t("transaction.multisig_wallet_initiation")]}):g||"".concat(n,"/tx/").concat(s),detail:R(),status:f||"info",duration:null!=B?B:_,update:k,onClose:M}),null==T||T(),(0,d.g)({status:f||"info",title:y||"transaction.title",description:w||"",txId:s,owner:P,mintInfo:S,txValues:v,isMultiSig:Z}),A.has(s)||!s||b)return;let L=!1,H=0,O=e.onSignature(s,(e,i)=>{if((0,h.kz)(s),L=!0,clearTimeout(H),A.delete(s),e.err){if(null==C||C(e,i),I)return;let o=E&&(0,x.a)(e);m.w.next({id:s,update:!0,title:o?t("error.swap_slippage_error_title"):(Z?(0,r.jsxs)(r.Fragment,{children:[p," ",t("transaction.multisig_wallet_initiation")]}):p)+" ".concat(t("transaction.failed")),status:"error",description:o?t("error.swap_slippage_error_desc"):g||"".concat(n,"/tx/").concat(s),detail:R("error"),onClose:M}),(0,d.g)({status:"error",title:y||"transaction.title",description:w||"",txId:s,owner:P,mintInfo:S,txValues:v,isMultiSig:Z})}else{if(null==F||F(e,i),I)return;m.w.next({id:s,update:!0,title:Z?t("transaction.multisig_wallet_initiated"):"".concat(p||t("transaction.title")," ").concat(t("transaction.confirmed")),description:Z?t("transaction.multisig_wallet_desc"):g||"".concat(n,"/tx/").concat(s),detail:R("success"),status:"success",onClose:M}),(0,d.g)({status:"success",title:y||"transaction.title",description:w||"",txId:s,owner:P,mintInfo:S,txValues:v,isMultiSig:Z})}},"confirmed");A.set(s,O),e.getSignatureStatuses([s]),q&&(0,h.ZP)({id:s,tx:q}),H=window.setTimeout(()=>{L||(m.w.next({id:s,close:!0}),(0,h.kz)(s),e.removeSignatureListener(O),m.w.next({title:t("transaction.send_timeout"),description:g,status:"warning",duration:8e3,onClose:M}),null==C||C())},_)});return()=>{null==i||i.unsubscribe()}},[e]),(0,i.useEffect)(()=>{if(!e)return;let i=v.asObservable().subscribe(i=>{var o,s;let{toastId:w,subTxIds:v,status:I,title:k,txHistoryTitle:b,description:q,txHistoryDesc:B="",txValues:E,mintInfo:F=[],update:C,duration:T,skipWatchSignature:M,isSwap:P,onError:Z,onSent:R,onClose:L}=i,H=null===(o=c.qr.getState().publicKey)||void 0===o?void 0:o.toBase58(),O=(null===(s=c.qr.getState().wallet)||void 0===s?void 0:s.adapter.name)==="SquadsX";v.forEach(t=>{t.status&&(S[t.txId]=t.status)});let D=()=>(0,r.jsx)(a.k,{flexDirection:"column",gap:"3","data-sentry-element":"Flex","data-sentry-component":"renderDetail","data-sentry-source-file":"useTxStatus.tsx",children:v.map((e,i)=>{let{txId:o,title:s=t("transaction.title")}=e;return(0,r.jsxs)(l.xu,{bg:f.O9.backgroundDark,borderRadius:"8px",p:3,ml:"-30px",cursor:o?"pointer":"default",opacity:o?1:.5,onClick:o?()=>window.open("".concat(n,"/tx/").concat(o)):void 0,children:[(0,r.jsxs)(a.k,{alignItems:"center",gap:"2",children:["error"===S[o]?(0,r.jsx)(y.Z,{width:"16px",height:"16px"}):"info"===S[o]?(0,r.jsx)(g.Z,{width:"16px",height:"16px"}):(0,r.jsx)(p.Z,{fill:f.O9.secondary}),(0,r.jsxs)(l.xu,{fontSize:14,fontWeight:400,color:f.O9.textSecondary,textOverflow:"ellipsis",whiteSpace:"pre-wrap",overflow:"hidden",children:[s||t("transaction.title"),O?"success"===S[o]?"".concat(t("transaction.multisig_wallet_initiated")," ").concat(t("transaction.multisig_wallet_desc")):t("transaction.multisig_wallet_initiation"):null]})]}),O?null:(0,r.jsxs)(a.k,{gap:"1",alignItems:"center",opacity:"0.5",children:[t("transaction.view_detail"),(0,r.jsx)(u.Z,{cursor:"pointer"})]})]},o||"".concat(w,"-").concat(i))})});m.w.next({id:w,update:C,title:k||"".concat(t("transaction.title")," ").concat(t("transaction.sent")),description:q,detail:D(),status:I||"info",duration:T||_,onClose:L}),(0,d.g)({status:I||"info",title:b||"transaction.title",description:B,txId:w,owner:H,mintInfo:F,txValues:E,subTx:v.map(t=>{let{txId:e,txHistoryTitle:n,status:r}=t;return{txId:e,name:n||"",status:null!=r?r:"info",date:Date.now()}}),isMultiSig:O}),A.has(w)||window.setTimeout(()=>{!0!==A.get(w)&&(m.w.next({id:w,close:!0}),v.forEach(t=>{let{txId:e}=t;return(0,h.kz)(e)}),m.w.next({title:t("transaction.send_timeout"),detail:D(),status:"warning",duration:5e3,onClose:L})),A.delete(w)},_),A.set(w,"success"===I||"error"===I),M||v.forEach(n=>{let{txId:i,signedTx:o}=n;if(A.has(i))return;let a=e.onSignature(i,(e,n)=>{if((0,h.kz)(i),A.delete(i),S[i]=e.err?"error":"success",e.err){A.set(w,!0);let o=P&&(0,x.a)(e);m.w.next({id:w,update:!0,title:o?t("error.swap_slippage_error_title"):(O?(0,r.jsxs)(r.Fragment,{children:[k," ",t("transaction.multisig_wallet_initiation")]}):k||t("transaction.title"))+t("transaction.failed"),status:"error",description:o?t("error.swap_slippage_error_desc"):q,detail:D(),onClose:L}),null==Z||Z(e,n),(0,d.g)({status:"error",title:b||"transaction.failed",description:B,txId:w,owner:H,mintInfo:F,txValues:E,subTx:v.map(t=>{let{txId:e,txHistoryTitle:n}=t;return{txId:e,name:n||"",status:i===e?"error":"success",date:Date.now()}}),isMultiSig:O})}else{let e=Object.values(S),n=e.length===v.length,r=n&&e.filter(t=>"success"===t).length===v.length;A.set(w,r),m.w.next({id:w,update:!0,title:O?t("transaction.multisig_wallet_initiated"):k?"".concat(k," ").concat(t("transaction.confirmed")):"".concat(t("transaction.title")," ").concat(t("transaction.confirmed")),description:q,detail:D(),status:r?"success":"info",onClose:L}),n&&(null==R||R()),(0,d.g)({status:r?"success":"info",title:b||"transaction.failed",description:B,txId:w,owner:H,mintInfo:F,txValues:E,subTx:v.map(t=>{let{txId:e,txHistoryTitle:n}=t;return{txId:e,name:n||"",status:"success",date:Date.now()}}),isMultiSig:O})}},"confirmed");A.set(i,a),e.getSignatureStatuses([i]),o&&(0,h.ZP)({tx:o,id:i})})});return()=>{null==i||i.unsubscribe()}},[e])}},10362:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(85893),i=n(29683);function o(t){let{width:e=14,height:n=14,color:o=i.O9.secondary}=t;return(0,r.jsxs)("svg",{width:e,height:n,viewBox:"0 0 14 14",fill:"none",stroke:o,strokeWidth:"1.16667",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"ExternalLink","data-sentry-source-file":"ExternalLink.tsx",children:[(0,r.jsx)("path",{d:"M10.5 7.58333V11.0833C10.5 11.3928 10.3771 11.6895 10.1583 11.9083C9.9395 12.1271 9.64275 12.25 9.33333 12.25H2.91667C2.60725 12.25 2.3105 12.1271 2.09171 11.9083C1.87292 11.6895 1.75 11.3928 1.75 11.0833V4.66667C1.75 4.35725 1.87292 4.0605 2.09171 3.84171C2.3105 3.62292 2.60725 3.5 2.91667 3.5H6.41667","data-sentry-element":"path","data-sentry-source-file":"ExternalLink.tsx"}),(0,r.jsx)("path",{d:"M8.75 1.75H12.25V5.25","data-sentry-element":"path","data-sentry-source-file":"ExternalLink.tsx"}),(0,r.jsx)("path",{d:"M5.83203 8.16667L12.2487 1.75","data-sentry-element":"path","data-sentry-source-file":"ExternalLink.tsx"})]})}},96364:function(t,e,n){n.d(e,{Bs:function(){return m},Sw:function(){return u},gq:function(){return d},k_:function(){return c},uc:function(){return s}});var r=n(20474);n(51758);var i=n(19527),o=n(19879);let a="_ray_favorite_pool_",l=new Set(JSON.parse(localStorage.getItem(a)||"[]")),s=()=>l,c=t=>{if((0,r.C5)())return Array.isArray(t)?t.forEach(t=>{l.has(t)?l.delete(t):l.add(t)}):l.has(t)?l.delete(t):l.add(t),localStorage.setItem(a,JSON.stringify(Array.from(l))),l},u=t=>(0,o.a)([t.mintA,t.mintB]),d=(t,e)=>t>999.99?">999.99%":(0,i.ZP)(t,{decimals:2,...e}),m={default:"default",liquidity:"liquidity",volume:"volume",fee:"fee",apr:"apr"}},33703:function(t,e,n){n.d(e,{XG:function(){return i},ZP:function(){return p},bf:function(){return m}});var r,i,o=n(67294),a=n(95591),l=n(60374),s=n(45808),c=n(55791),u=n(89065);(r=i||(i={})).Clmm="concentrated",r.Standard="standard",r.All="all";let d=Date.now(),m=()=>d=Date.now(),f=t=>{let[e]=t;return s.ZP.get(e,{skipError:!0})};function p(t){let{owner:e,shouldFetch:n=!0,refreshInterval:r=18e4}=t||{},s=!!e&&(0,u.g)(e),[m,p]=(0,c.qr)(t=>[t.urlConfigs.OWNER_BASE_HOST,t.urlConfigs.OWNER_CREATED_FARM],l.Z),y=s&&n?m+p.replace("{owner}",e.toString()):null,{data:g,isLoading:x,error:h,...w}=(0,a.ZP)(y?[y,d]:y,f,{dedupingInterval:r,focusThrottleInterval:r,refreshInterval:r}),v=(0,o.useMemo)(()=>{let t=(null==g?void 0:g.data)||{clmm:[],farm:[]};return t.clmm.map(t=>({...t,type:i.Clmm})).concat(t.farm.map(t=>({...t,type:i.Standard})))},[g]);return{data:(null==g?void 0:g.data)||{farm:[],clmm:[]},formattedData:v,isLoading:x,error:h,isEmptyResult:!x&&!(g&&!h),...w}}},39777:function(t,e,n){n.d(e,{Yi:function(){return c},r4:function(){return u},xl:function(){return s}});var r=n(46072),i=n(88089),o=n(57632);let a=new Set(["success","error","info"]),l=t=>Array(t).fill({txId:"",status:"info"}),s=t=>{let{txLength:e,...n}=t;return{processedId:l(e),toastId:(0,o.Z)(),handler:d({transactionLength:e,...n})}},c=t=>{let{data:e,processedId:n}=t;return n.map((t,n)=>{var r;return{txId:(null===(r=e[n])||void 0===r?void 0:r.txId)||t.txId,status:e[n]&&a.has(e[n].status)?e[n].status:"info"}})},u=t=>{var e;let{toastId:n,txLength:o,processedId:a,meta:l,skipWatchSignature:s,isSwap:c,getSubTxTitle:u,handler:d,...m}=t;if(o<=1){a[0].txId&&(i.aV.next({status:a[0].status,skipWatchSignature:s,txId:a[0].txId,update:!0,isSwap:c,...l,onSent:m.onSent,onError:m.onError,onConfirmed:m.onConfirmed,onClose:m.onCloseToast}),d(a));return}let f=a.some(t=>"error"===t.status),p=a.filter(t=>"success"===t.status).length>=(null!==(e=t.txLength)&&void 0!==e?e:t.processedId.length);i.my.next({toastId:n,skipWatchSignature:!0,update:!0,status:f?"error":p?"success":"info",...l,isSwap:c,title:l.title+(f&&!c?" ".concat(r.ZP.t("transaction.failed")):""),duration:f||p?8e3:void 0,subTxIds:a.map((t,e)=>{let n=u(e);return{txId:t.txId,status:t.status,title:r.ZP.t(n),txHistoryTitle:n}})}),d(a)},d=t=>{let{transactionLength:e,...n}=t,[r,i,o,a]=[!1,!1,!1,!1];return t=>{var l,s,c,u,d;if(t.some(t=>"error"===t.status)){i||null==n||null===(l=n.onError)||void 0===l||l.call(n),o||null==n||null===(s=n.onFinally)||void 0===s||s.call(n),i=!0,o=!0;return}t.length===e&&(r||null==n||null===(c=n.onSent)||void 0===c||c.call(n),o||null==n||null===(u=n.onFinally)||void 0===u||u.call(n),r=!0,o=!0),t.filter(t=>"success"===t.status).length===e&&(a||null==n||null===(d=n.onConfirmed)||void 0===d||d.call(n),a=!0)}}},81319:function(t,e,n){n.d(e,{WH:function(){return m},ZP:function(){return u},kz:function(){return d}});var r=n(59917),i=n(85518),o=n(20474),a=n(55791),l=n(45808),s=n(17638);let c=new Map;function u(t){let{tx:e,id:n}=t,{connection:u,urlConfigs:d}=a.qr.getState();if(c.has(n))return;let m=(0,i.rQ)(window.navigator.userAgent),f=()=>{try{var t;l.ZP.post("".concat(d.SERVICE_1_BASE_HOST,"/send-tx"),{data:(0,s.Lj)(e),walletName:(null===(t=a.qr.getState().wallet)||void 0===t?void 0:t.adapter.name)||"",deviceType:m.device.type||"pc"},{skipError:!0}).catch(t=>{console.error("send tx to be error",t.message)})}catch(t){console.error("send tx to be error")}};f(),u&&(c.set(n,{done:!1}),(0,o.XD)(async()=>{if(c.get(n).done)return!0;try{e instanceof r.YW?await u.sendRawTransaction(e.serialize(),{skipPreflight:!0,maxRetries:0}):await u.sendTransaction(e,{skipPreflight:!0,maxRetries:0})}catch(t){console.error("send tx to rpc error")}throw f(),Error("sending")},{id:n,retryCount:60,interval:2e3,sleepTime:2e3}).catch(t=>{console.error("retry failed",t.message)}))}let d=t=>{(0,o._u)(o.Ok.get(t)),c.set(t,{done:!0})},m=t=>{t.forEach(t=>{if("sent"===t.status&&t.txId){u({tx:t.signedTx,id:t.txId});return}d(t.txId)})}},55791:function(t,e,n){n.d(e,{OX:function(){return r.OX},r0:function(){return i.r},pO:function(){return r.pO},MT:function(){return c.Z},hv:function(){return l.hv},Yb:function(){return r.Yb},qr:function(){return r.qr},VE:function(){return m.V},Fh:function(){return P},GX:function(){return a.G},HN:function(){return i.H},EN:function(){return l.EN},uM:function(){return o.uM}});var r=n(10234),i=n(87785),o=n(31912),a=n(64473),l=n(72817),s=n(20474),c=n(72827);let u="_ray_chain_id_",d={chainId:Number((0,s.C5)()&&localStorage.getItem(u)||1)};(0,c.Z)(t=>({...d,setChainIdAct:e=>{t({chainId:e},!1,{type:"setChainIdAct"}),(0,s.C5)()&&localStorage.setItem(u,e.toString())},reset:()=>t(d)}),"useEVMStore");var m=n(78207),f=n(17638),p=n(59917),y=n(58467),g=n(13717),x=n(89065),h=n(56373),w=n(85893),v=n(1922),_=n(88911),A=n(46072),S=n(84196);let I={create:{title:"create_market.title",desc:"create_market.desc",txHistoryTitle:"create_market.title",txHistoryDesc:"create_market.desc",components:{sub:(0,w.jsx)(_.x,{as:"span",color:S.O9.textSecondary,fontWeight:"700"})}},createPool:{title:"transaction_history.create_pool",desc:"liquidity.create_pool_tx_desc",txHistoryTitle:"transaction_history.create_pool",txHistoryDesc:"liquidity.create_pool_tx_desc",components:{sub:(0,w.jsx)(_.x,{as:"span",color:S.O9.textSecondary,fontWeight:"700"})}}},k=t=>{let{action:e,values:n}=t,r=I[e];return{title:A.ZP.t(r.title,n),description:(0,w.jsx)(v.cC,{i18nKey:r.desc,values:n,components:r.components}),txHistoryTitle:r.txHistoryTitle||r.title,txHistoryDesc:r.txHistoryDesc||r.desc,txValues:n}};var b=n(39777),q=n(81319),B=n(69745),E=n(84617),F=n(13550),C=n.n(F),T=n(86221),M=n(57632);let P=(0,c.Z)(()=>({checkMarketAct:async t=>{var e;if(!(0,x.g)(t))return g.w.next({status:"error",title:"error",description:"invalid market id: ".concat(t)}),{isValid:!1};let{raydium:n,connection:i,programIdConfig:a}=r.qr.getState(),s=l.EN.getState().getTokenBalanceUiAmount,c=o.uM.getState().tokenMap;if(!n||!i)return{isValid:!1};let{isVerifiedToken:u,getTokenDecimal:d}=o.uM.getState();(0,B.Z)("rpc: get market info");let m=await i.getAccountInfo(new p.nh(t),{commitment:r.qr.getState().commitment});if(!(null==m?void 0:m.data))return g.w.next({status:"error",title:"error",description:"can't find market ".concat(t)}),{isValid:!1};if(!m.owner.equals(a.OPEN_BOOK_PROGRAM))return g.w.next({status:"error",title:"error",description:"market program id is not OpenBook program id"}),{isValid:!1};let{baseMint:y,quoteMint:w,baseLotSize:v,quoteLotSize:_}=f.SsU.decode(m.data),[A,S]=[await d(y),await d(w)],{id:I}=(0,f.u10)({version:4,marketVersion:3,baseMint:y,quoteMint:w,baseDecimals:A,quoteDecimals:S,marketId:new p.nh(t),programId:a.AMM_V4,marketProgramId:a.OPEN_BOOK_PROGRAM});if(!I)return g.w.next({status:"error",title:"error",description:"can't find associated poolKeys for market"}),{isValid:!1};if(!u({mint:y,tokenInfo:c.get(y.toString())}))return g.w.next({status:"error",title:"error",description:"base token freeze authority enabled"}),{isValid:!1};if(!u({mint:w,tokenInfo:c.get(w.toString())}))return g.w.next({status:"error",title:"error",description:"quote token freeze authority enabled"}),{isValid:!1};if(v.isZero())return g.w.next({status:"error",title:"error",description:"Base lot size is zero"}),{isValid:!1};if(_.isZero())return g.w.next({status:"error",title:"error",description:"Quote lot size is zero"}),{isValid:!1};if(s({mint:(0,h.eI)(y.toString()),decimals:A}).isZero)return g.w.next({status:"error",title:"error",description:"user wallet has no base token"}),{isValid:!1};if(s({mint:(0,h.eI)(w.toString()),decimals:S}).isZero)return g.w.next({status:"error",title:"error",description:"user wallet has no quote token"}),{isValid:!1};let k=!!(null===(e=await i.getAccountInfo(new p.nh(I),{commitment:r.qr.getState().commitment}))||void 0===e?void 0:e.data.length);return k?(g.w.next({status:"error",title:"error",description:"has already init this pool"}),{isValid:!1}):{isValid:!0,mintA:y.toString(),mintB:w.toString()}},createMarketAct:async t=>{let{baseToken:e,quoteToken:n,orderSize:i,priceTick:o,...a}=t,{raydium:l,programIdConfig:s,connection:c,txVersion:u}=r.qr.getState();if(!l||!c)return{txId:[],marketId:""};let{execute:d,transactions:m,extInfo:f}=await l.marketV2.create({baseInfo:{mint:new p.nh((0,h.B0)(e.address)),decimals:e.decimals},quoteInfo:{mint:new p.nh((0,h.B0)(n.address)),decimals:n.decimals},lotSize:Number(i),tickSize:Number(o),dexProgramId:s.OPEN_BOOK_PROGRAM,txVersion:u}),y=k({action:"create",values:{pair:"".concat((0,h.l_)(e.symbol)," - ").concat((0,h.l_)(n.symbol))}}),x=m.length,{toastId:w,processedId:v,handler:_}=(0,b.xl)({txLength:x,...a}),A=t=>t!==m.length-1?"transaction_history.set_up":"create_market.create";return d({sequentially:!0,onTxUpdate:t=>{(0,q.WH)(t),(0,b.r4)({toastId:w,processedId:(0,b.Yi)({processedId:v,data:t}),txLength:x,meta:y,handler:_,getSubTxTitle:A})}}).then(t=>((0,b.r4)({toastId:w,processedId:(0,b.Yi)({processedId:v,data:[]}),txLength:x,meta:y,handler:_,getSubTxTitle:A}),{txId:t.txIds,marketId:f.address.marketId.toString()||""})).catch(t=>{var e;return null===(e=a.onError)||void 0===e||e.call(a),g.w.next({txError:t,...y}),{txId:[],marketId:""}}).finally(a.onFinally)},createMarketAndPoolAct:async t=>{let{baseToken:e,quoteToken:n,baseAmount:i,quoteAmount:o,startTime:a,...l}=t,{raydium:s,connection:c,txVersion:u,publicKey:d}=r.qr.getState();if(!s||!c||!d)return{txId:[],marketId:""};if(e.programId===y.nA.toBase58()||n.programId===y.nA.toBase58()){var m,w;return g.w.next({status:"error",title:"error",description:"Create market and Amm V4 pool do not support token 2022"}),null===(m=l.onError)||void 0===m||m.call(l),null===(w=l.onFinally)||void 0===w||w.call(l,{}),{txId:[],marketId:""}}let v="".concat(d.toBase58().slice(0,5),"-").concat(e.address.slice(0,5),"-").concat(n.address.slice(0,5)),_=(0,E.qn)(v);_||(_=(0,M.Z)().slice(0,6),(0,E.Nh)(v,_));let A=await (0,T.u)(),{execute:S,transactions:I,extInfo:B}=await s.liquidity.createMarketAndPoolV4({baseMintInfo:{mint:new p.nh((0,h.B0)(e.address)),decimals:e.decimals},quoteMintInfo:{mint:new p.nh((0,h.B0)(n.address)),decimals:n.decimals},lowestFeeMarket:!0,assignSeed:_,baseAmount:new(C())(i),quoteAmount:new(C())(o),startTime:new(C())((a?Number(a):Date.now()+6e4)/1e3),txVersion:u,ownerInfo:{useSOLBalance:!0},associatedOnly:!1,computeBudgetConfig:A}),F=k({action:"createPool",values:{mintA:(0,h.dJ)(e.symbol),mintB:(0,h.dJ)(n.symbol)}}),P=I.length,{toastId:Z,processedId:R,handler:L}=(0,b.xl)({txLength:P,...l,onSent:()=>{var t;null===(t=l.onSent)||void 0===t||t.call(l,B.address)},onConfirmed:()=>{var t;(0,E.vD)(v),null===(t=l.onConfirmed)||void 0===t||t.call(l)}}),H=t=>["create_standard_pool.step_1_name","transaction_history.set_up","transaction_history.create_pool"][t],O=[];O=u===f.eVA.V0?I.map(t=>p.$Z.decompile(t.message,{addressLookupTableAccounts:[f.FTx["2immgwYNHBbyVQKVGCEkgWpi53bLwWNRMB5G2nbgYV17"]]}).instructions.filter(t=>t.programId.equals(p.yc.programId)).map(t=>t.keys.map(t=>t.pubkey.toBase58())[1])):I.map(t=>t.instructions.filter(t=>t.programId.equals(p.yc.programId)).map(t=>t.keys.map(t=>t.pubkey.toBase58())[1]));let D=await s.connection.getMultipleAccountsInfo(O.flat().map(t=>(0,x.Z)(t)),{commitment:"confirmed"}),N=0;return!D.slice(0,O[0].length).some(t=>!t)&&N++,!D.slice(O[0].length-1,-1).some(t=>!t)&&N++,S({sequentially:!0,skipTxCount:N,onTxUpdate:t=>{(0,q.WH)(t),(0,b.r4)({toastId:Z,processedId:(0,b.Yi)({processedId:R,data:t}),txLength:P,meta:F,handler:L,getSubTxTitle:H})}}).then(t=>((0,b.r4)({toastId:Z,processedId:(0,b.Yi)({processedId:R,data:[]}),txLength:P,meta:F,handler:L,getSubTxTitle:H}),{txId:t.txIds,marketId:B.address.marketId.toString()||""})).catch(t=>{var e;return null===(e=l.onError)||void 0===e||e.call(l),g.w.next({txError:t,...F}),{txId:[],marketId:""}}).finally(()=>{var t;return null===(t=l.onFinally)||void 0===t?void 0:t.call(l,B.address)})}}),"useCreateMarketStore")},78207:function(t,e,n){n.d(e,{V:function(){return b}});var r=n(17638),i=n(59917),o=n(72827),a=n(55791),l=n(56373),s=n(13717),c=n(88089),u=n(39777),d=n(46675),m=n(85893),f=n(1922),p=n(88911),y=n(46072),g=n(84196);let x={"9iFER3bpjf1PTTCQCfTRu17EJgvsxo9pVyA9QWwEuX4x":{id:"9iFER3bpjf1PTTCQCfTRu17EJgvsxo9pVyA9QWwEuX4x",index:4,protocolFeeRate:12e4,tradeFeeRate:100,tickSpacing:1,fundFeeRate:4e4,fundOwner:"FundHfY8oo8J9KYGyfXFFuQCHe7Z1VBNmsj84eMcdYs4",description:"Best for very stable pairs",defaultRange:.1,defaultRangePoint:[.1,.2]},HfERMT5DRA6C1TAqecrJQFpmkf3wsWTMncqnj3RDg5aw:{id:"HfERMT5DRA6C1TAqecrJQFpmkf3wsWTMncqnj3RDg5aw",index:2,protocolFeeRate:12e4,tradeFeeRate:500,tickSpacing:10,fundFeeRate:4e4,fundOwner:"FundHfY8oo8J9KYGyfXFFuQCHe7Z1VBNmsj84eMcdYs4",description:"Best for stable pairs",defaultRange:.1,defaultRangePoint:[.1,.2]},E64NGkDLLCdQ2yFNPcavaKptrEgmiQaNykUuLC1Qgwyp:{id:"E64NGkDLLCdQ2yFNPcavaKptrEgmiQaNykUuLC1Qgwyp",index:1,protocolFeeRate:12e4,tradeFeeRate:2500,tickSpacing:60,fundFeeRate:4e4,fundOwner:"FundHfY8oo8J9KYGyfXFFuQCHe7Z1VBNmsj84eMcdYs4",description:"Best for most pairs",defaultRange:.1,defaultRangePoint:[.01,.05,.1,.2,.5]},A1BBtTYJd4i3xU8D6Tc2FzU6ZN4oXZWXKZnCxwbHXr8x:{id:"A1BBtTYJd4i3xU8D6Tc2FzU6ZN4oXZWXKZnCxwbHXr8x",index:3,protocolFeeRate:12e4,tradeFeeRate:1e4,tickSpacing:120,fundFeeRate:4e4,fundOwner:"FundHfY8oo8J9KYGyfXFFuQCHe7Z1VBNmsj84eMcdYs4",description:"Best for exotic pairs",defaultRange:.1,defaultRangePoint:[.01,.05,.1,.2,.5,.6,.7,.8,.9]}},h={harvest:{title:"transaction_history.harvest_rewards",desc:"transaction_history.harvest_clmm_reward_desc",txHistoryTitle:"transaction_history.harvest_rewards",txHistoryDesc:"transaction_history.harvest_clmm_reward_desc",components:{sub:(0,m.jsx)(p.x,{as:"span",color:g.O9.textSecondary,fontWeight:"700"})}},openPosition:{title:"transaction_history.name_add_liquidity",desc:"transaction_history.add_liquidity_desc",txHistoryTitle:"transaction_history.name_add_liquidity",txHistoryDesc:"transaction_history.add_liquidity_desc",components:{sub:(0,m.jsx)(p.x,{as:"span",color:g.O9.textSecondary,fontWeight:"700"})}},closePosition:{title:"clmm.position_closed",desc:"clmm.close_mint_position",txHistoryTitle:"clmm.position_closed",txHistoryDesc:"clmm.close_mint_position",components:{}},increaseLiquidity:{title:"transaction_history.name_add_liquidity",desc:"transaction_history.add_liquidity_desc",txHistoryTitle:"transaction_history.name_add_liquidity",txHistoryDesc:"transaction_history.add_liquidity_desc",components:{sub:(0,m.jsx)(p.x,{as:"span",color:g.O9.textSecondary,fontWeight:"700"})}},removeLiquidity:{title:"transaction_history.name_remove_liquidity",desc:"transaction_history.remove_liquidity_desc",txHistoryTitle:"transaction_history.name_remove_liquidity",txHistoryDesc:"transaction_history.remove_liquidity_desc",components:{sub:(0,m.jsx)(p.x,{as:"span",color:g.O9.textSecondary,fontWeight:"700"})}},updateRewards:{title:"transaction_history.update_reward_title",desc:"transaction_history.update_reward_desc",txHistoryTitle:"transaction_history.update_reward_title",txHistoryDesc:"transaction_history.update_reward_desc",components:{sub:(0,m.jsx)(p.x,{as:"span",color:g.O9.textSecondary,fontWeight:"700"})}},createPool:{title:"transaction_history.create_pool",desc:"transaction_history.create_clmm_pool",txHistoryTitle:"transaction_history.create_pool",txHistoryDesc:"transaction_history.create_clmm_pool",components:{}},createFarm:{title:"transaction_history.create_farm",desc:"transaction_history.create_clmm_farm_desc",txHistoryTitle:"transaction_history.create_farm",txHistoryDesc:"transaction_history.create_clmm_farm_desc",components:{}},harvestAll:{title:"transaction_history.harvest_rewards",desc:"transaction_history.harvest_rewards_desc",txHistoryTitle:"transaction_history.harvest_rewards",txHistoryDesc:"transaction_history.harvest_rewards_desc",components:{sub:(0,m.jsx)(p.x,{as:"span",color:g.O9.textSecondary,fontWeight:"700"})}},lockPosition:{title:"transaction_history.lock_position",desc:"transaction_history.position_locked",txHistoryTitle:"transaction_history.lock_position",txHistoryDesc:"transaction_history.position_locked",components:{sub:(0,m.jsx)(p.x,{as:"span",color:g.O9.textSecondary,fontWeight:"700"})}}},w=t=>{let{action:e,values:n}=t,r=h[e];return{title:y.ZP.t(r.title,n),description:(0,m.jsx)(f.cC,{i18nKey:r.desc,values:n,components:r.components}),txHistoryTitle:r.txHistoryTitle||r.title,txHistoryDesc:r.txHistoryDesc||r.desc,txValues:n}};var v=n(86221),_=n(81319),A=n(13550),S=n.n(A),I=n(90482);let k={positionLoading:!1,currentPoolLoading:!0,clmmFeeConfigs:{},rewardWhiteListMints:[],slippage:.005},b=(0,o.Z)((t,e)=>({...k,harvestAllAct:async t=>{let{allPoolInfo:e,allPositions:n,lockInfo:r,programId:o,execute:l,...c}=t,{raydium:d,txVersion:m}=a.qr.getState();if(!d)return s.w.next({noRpc:!0}),{txId:""};let f=await d.clmm.harvestAllRewards({allPoolInfo:e,allPositions:n,ownerInfo:{useSOLBalance:!0},lockInfo:r,programId:o?new i.nh(o):void 0,txVersion:m,computeBudgetConfig:l?await (0,v.u)():void 0});if(l){let t=w({action:"harvest",values:{symbol:"All Clmm"}}),e=f.transactions.length,{toastId:n,processedId:r,handler:i}=(0,u.xl)({txLength:e,...c}),o=()=>t.txHistoryTitle;f.execute({sequentially:!0,onTxUpdate:a=>{(0,_.WH)(a),(0,u.r4)({toastId:n,processedId:(0,u.Yi)({processedId:r,data:a}),txLength:e,meta:t,handler:i,getSubTxTitle:o})}}).then(()=>((0,u.r4)({toastId:n,processedId:(0,u.Yi)({processedId:r,data:[]}),txLength:e,meta:t,handler:i,getSubTxTitle:o}),{txId:"",buildData:f})).catch(e=>{var n;return null===(n=c.onError)||void 0===n||n.call(c),s.w.next({...t,txError:e}),{txId:""}}).finally(c.onFinally)}return{txId:"",buildData:f}},openPositionAct:async t=>{var e,n,r;let{poolInfo:i,poolKeys:o,base:m,tickLower:f,tickUpper:p,baseAmount:y,otherAmountMax:g,createPoolBuildData:x,onCloseToast:h,...A}=t,{raydium:k,wallet:b,txVersion:q}=a.qr.getState();if(!k)return s.w.next({noRpc:!0}),{txId:""};if(!i)return{txId:""};try{let t=await (0,v.u)(),n=await k.clmm.openPositionFromBase({poolInfo:i,poolKeys:o,tickLower:Math.min(f,p),tickUpper:Math.max(f,p),base:m,ownerInfo:{useSOLBalance:(0,l.Th)(i.mintA.address)||(0,l.Th)(i.mintB.address)},baseAmount:new(S())(y),otherAmountMax:new(S())(g),getEphemeralSigners:b?await (0,d.Z)(b):void 0,computeBudgetConfig:x?void 0:t,txVersion:q,nft2022:!0}),[r,a]="MintA"===m?[y,g]:[g,y],B=w({action:"openPosition",values:{amountA:new I.Z(r||0).div(10**i.mintA.decimals).toDecimalPlaces(i.mintA.decimals).toString()||0,symbolA:(0,l.h3)({mint:i.mintA,transformSol:!0}),amountB:new I.Z(a||0).div(10**i.mintB.decimals).toDecimalPlaces(i.mintB.decimals).toString()||0,symbolB:(0,l.h3)({mint:i.mintB,transformSol:!0})}}),E=[i.mintA,i.mintB];if(!n)return null===(e=A.onError)||void 0===e||e.call(A),{txId:""};if(x){let e=w({action:"createPool",values:{}});x.builder.addInstruction({...n.builder.AllTxData}),x.builder.addCustomComputeBudget(t);let{transactions:r,execute:i}=await x.builder.sizeCheckBuildV0(),o=r.length,{toastId:a,processedId:l,handler:c}=(0,u.xl)({txLength:o,...A}),d=t=>t!==r.length-1?"transaction_history.create_pool":"transaction_history.name_add_liquidity";return i({sequentially:!0,onTxUpdate:t=>{(0,_.WH)(t),(0,u.r4)({toastId:a,processedId:(0,u.Yi)({processedId:l,data:t}),txLength:o,meta:e,handler:c,getSubTxTitle:d})}}).then(()=>((0,u.r4)({toastId:a,processedId:(0,u.Yi)({processedId:l,data:[]}),txLength:o,meta:e,handler:c,getSubTxTitle:d}),{txId:"",buildData:n})).catch(t=>{var n,r;return s.w.next({txError:t,...e}),null===(n=A.onError)||void 0===n||n.call(A),null===(r=A.onFinally)||void 0===r||r.call(A),{txId:""}}).finally(o>1?void 0:A.onFinally)}return n.execute().then(t=>{var e;let{txId:r,signedTx:i}=t;return c.aV.next({txId:r,...B,mintInfo:E,signedTx:i,onClose:h,onError:A.onError,onConfirmed:A.onConfirmed}),null===(e=A.onSent)||void 0===e||e.call(A,{txId:r,buildData:n}),{txId:r,buildData:n}}).catch(t=>{var e;return null===(e=A.onError)||void 0===e||e.call(A),s.w.next({txError:t,...B}),{txId:""}}).finally(A.onFinally)}catch(t){return null===(n=A.onError)||void 0===n||n.call(A),null===(r=A.onFinally)||void 0===r||r.call(A),console.error(t.message),{txId:""}}},removeLiquidityAct:async t=>{let{poolInfo:e,position:n,liquidity:i,amountMinA:o,amountMinB:u,needRefresh:d,closePosition:m,harvest:f,onSent:p,onError:y,onFinally:g,onConfirmed:x}=t,{raydium:h,txVersion:_,getEpochInfo:A}=a.qr.getState(),k=a.HN.getState().slippage;if(!h)return"";let[b,q]=[new(S())(new I.Z(o.toString()).mul(1-k).mul(10**e.mintA.decimals).toFixed(0)),new(S())(new I.Z(u.toString()).mul(1-k).mul(10**e.mintB.decimals).toFixed(0))],B=await A(),{fee:E=new(S())(0)}=(0,r.wfV)(b,e.mintA.extensions.feeConfig,B,!1),{fee:F=new(S())(0)}=(0,r.wfV)(q,e.mintB.extensions.feeConfig,B,!1);try{let t=await (0,v.u)(),{execute:r}=await h.clmm.decreaseLiquidity({poolInfo:e,ownerPosition:n,ownerInfo:{useSOLBalance:!0,closePosition:!!n.liquidity.eq(new(S())(i))&&(null!=m?m:n.liquidity.eq(new(S())(i)))},liquidity:new(S())(i),amountMinA:b.sub(E),amountMinB:q.sub(F),computeBudgetConfig:t,txVersion:_}),A=w({action:f?"harvest":"removeLiquidity",values:{amountA:o||0,symbolA:(0,l.h3)({mint:e.mintA,transformSol:!0}),amountB:u||0,symbolB:(0,l.h3)({mint:e.mintB,transformSol:!0})}});return r().then(t=>{let{txId:n,signedTx:r}=t;return c.aV.next({txId:n,...A,mintInfo:[e.mintA,e.mintB],signedTx:r,onError:y,onSent:p,onConfirmed:()=>{null==x||x(),d&&setTimeout(()=>a.EN.setState({refreshClmmPositionTag:Date.now()}),500)}}),n}).catch(t=>(null==y||y(),s.w.next({txError:t,...A}),"")).finally(()=>null==g?void 0:g())}catch(t){return null==y||y(),null==g||g(),""}},closePositionAct:async t=>{let{poolInfo:e,position:n,...r}=t,{raydium:i,txVersion:o}=a.qr.getState();if(!i)return"";try{let{execute:t}=await i.clmm.closePosition({poolInfo:e,ownerPosition:n,txVersion:o}),a=w({action:"closePosition",values:{mint:n.nftMint.toBase58().slice(0,6).toUpperCase()}});return t().then(t=>{let{txId:e,signedTx:n}=t;return c.aV.next({txId:e,signedTx:n,...a,...r}),e}).catch(t=>{var e;return null===(e=r.onError)||void 0===e||e.call(r),s.w.next({txError:t,...a}),""}).finally(r.onFinally)}catch(t){var l,u;return null===(l=r.onError)||void 0===l||l.call(r),null===(u=r.onFinally)||void 0===u||u.call(r),""}},increaseLiquidityAct:async t=>{let{poolInfo:e,position:n,liquidity:r,amountMaxA:i,amountMaxB:o,...u}=t,{raydium:d,txVersion:m}=a.qr.getState(),f=a.HN.getState().slippage;if(!d)return"";try{let t=await (0,v.u)(),{execute:p}=await d.clmm.increasePositionFromLiquidity({poolInfo:e,ownerPosition:n,ownerInfo:{useSOLBalance:(0,l.Th)(e.mintA.address)||(0,l.Th)(e.mintB.address)},liquidity:new(S())(new I.Z(r.toString()).mul(1-f).toFixed(0)),amountMaxA:new(S())(i),amountMaxB:new(S())(o),checkCreateATAOwner:!0,computeBudgetConfig:t,txVersion:m}),y=w({action:"increaseLiquidity",values:{amountA:new I.Z(i.toString()).div(10**e.mintA.decimals).toDecimalPlaces(e.mintA.decimals).toString(),symbolA:(0,l.h3)({mint:e.mintA,transformSol:!0}),amountB:new I.Z(o.toString()).div(10**e.mintB.decimals).toDecimalPlaces(e.mintB.decimals).toString(),symbolB:(0,l.h3)({mint:e.mintB,transformSol:!0})}});return p().then(t=>{let{txId:n,signedTx:r}=t;return c.aV.next({txId:n,...y,signedTx:r,mintInfo:[e.mintA,e.mintB],onSent:u.onSent,onClose:u.onCloseToast,onConfirmed:()=>{var t;null===(t=u.onConfirmed)||void 0===t||t.call(u),setTimeout(()=>{a.EN.setState({refreshClmmPositionTag:Date.now()})},500)}}),n}).catch(t=>{var e;return null===(e=u.onError)||void 0===e||e.call(u),s.w.next({txError:t,...y}),""}).finally(u.onFinally)}catch(t){var p,y;return null===(p=u.onError)||void 0===p||p.call(u),null===(y=u.onFinally)||void 0===y||y.call(u),""}},collectRewardAct:async t=>{let{poolInfo:e,rewardMint:n,...r}=t,{raydium:i,txVersion:o}=a.qr.getState();if(!i)return"";let l=await (0,v.u)(),{execute:u}=await i.clmm.collectReward({ownerInfo:{useSOLBalance:!0},poolInfo:e,rewardMint:n,txVersion:o,computeBudgetConfig:l}),d=w({action:"harvest",values:{}});return u().then(t=>{let{txId:n,signedTx:i}=t;return c.aV.next({txId:n,...d,signedTx:i,mintInfo:[e.mintA,e.mintB],...r}),n}).catch(t=>{var e;return null===(e=r.onError)||void 0===e||e.call(r),s.w.next({txError:t,...d}),""}).finally(()=>{var t;null===(t=r.onFinally)||void 0===t||t.call(r)})},lockPositionAct:async t=>{let{poolInfo:e,position:n,...r}=t,{raydium:i,txVersion:o,wallet:u}=a.qr.getState();if(!i)return"";let m=await (0,v.u)(),{execute:f,extInfo:p}=await i.clmm.lockPosition({ownerPosition:n,txVersion:o,computeBudgetConfig:m,getEphemeralSigners:u?await (0,d.Z)(u):void 0}),y=w({action:"lockPosition",values:{position:(0,l.Xn)(n.nftMint.toBase58())}});return f().then(t=>{let{txId:n,signedTx:i}=t;return c.aV.next({txId:n,...y,signedTx:i,mintInfo:[e.mintA,e.mintB],onSent:()=>{var t;null===(t=r.onSent)||void 0===t||t.call(r,p)},onClose:r.onCloseToast,onConfirmed:()=>{var t;null===(t=r.onConfirmed)||void 0===t||t.call(r),setTimeout(()=>{a.EN.setState({refreshClmmPositionTag:Date.now()})},500)}}),n}).catch(t=>{var e;return null===(e=r.onError)||void 0===e||e.call(r),s.w.next({txError:t,...y}),""}).finally(()=>{var t;null===(t=r.onFinally)||void 0===t||t.call(r,p)})},harvestLockPositionAct:async t=>{let{lockData:e,poolInfo:n,needRefresh:r,onConfirmed:i,...o}=t,{raydium:u,txVersion:d}=a.qr.getState();if(!u)return"";let m=await (0,v.u)(),{execute:f}=await u.clmm.harvestLockPosition({lockData:e,txVersion:d,computeBudgetConfig:m}),p=w({action:"harvest",values:{symbolA:(0,l.h3)({mint:n.mintA,transformSol:!0}),symbolB:(0,l.h3)({mint:n.mintB,transformSol:!0})}});return f().then(t=>{let{txId:e,signedTx:l}=t;return c.aV.next({txId:e,...p,mintInfo:[n.mintA,n.mintB],signedTx:l,...o,onConfirmed:()=>{null==i||i(),r&&setTimeout(()=>a.EN.setState({refreshClmmPositionTag:Date.now()}),500)}}),e}).catch(t=>{var e;return null===(e=o.onError)||void 0===e||e.call(o),s.w.next({txError:t,...p}),""}).finally(o.onFinally)},setRewardsAct:async t=>{let{poolInfo:e,rewardInfos:n,newRewardInfos:r,onConfirmed:i,...o}=t,{raydium:l,txVersion:u}=a.qr.getState();if(!l||n.length+r.length<1)return"";let d=[],m=w({action:"updateRewards",values:{pool:e.id.slice(0,6)}}),f=await (0,v.u)();if(n.length){let t=await l.clmm.setRewards({poolInfo:e,ownerInfo:{useSOLBalance:!0},rewardInfos:n,computeBudgetConfig:f,txVersion:u});if(!r.length)return t.execute().then(t=>{let{txId:e,signedTx:n}=t;return c.aV.next({txId:e,...m,signedTx:n,mintInfo:r.map(t=>t.mint),onConfirmed:i}),e}).catch(t=>{var e;return null===(e=o.onError)||void 0===e||e.call(o),s.w.next({txError:t,...m}),""}).finally(o.onFinally);d.push(t)}if(r.length){let t=await l.clmm.initRewards({poolInfo:e,ownerInfo:{useSOLBalance:!0},checkCreateATAOwner:!0,rewardInfos:r,computeBudgetConfig:f,txVersion:u});if(!n.length)return t.execute().then(t=>{let{txId:e}=t;return c.aV.next({txId:e,...m,mintInfo:n.map(t=>t.mint),onConfirmed:i}),e}).catch(t=>{var e;return null===(e=o.onError)||void 0===e||e.call(o),s.w.next({txError:t,...m}),""}).finally(o.onFinally);d.push(t)}let p=d[0].builder,y=await p.addInstruction(d[1].builder.AllTxData).build();if(!y){var g,x;return null===(g=o.onError)||void 0===g||g.call(o),null===(x=o.onFinally)||void 0===x||x.call(o),""}let h=new Map;return n.forEach(t=>h.set(t.mint.address,t.mint)),r.forEach(t=>h.set(t.mint.address,t.mint)),y.execute().then(t=>{let{txId:e}=t;return c.aV.next({txId:e,...o,...m,mintInfo:Array.from(h.values())}),e}).catch(t=>{var e;return null===(e=o.onError)||void 0===e||e.call(o),s.w.next({txError:t,...m}),""}).finally(o.onFinally)},createClmmPool:async t=>{let{token1:e,token2:n,config:r,price:o,startTime:l,execute:u,forerunCreate:d,getObserveState:m}=t,{raydium:f,publicKey:p,txVersion:y,chainTimeOffset:g,programIdConfig:x}=a.qr.getState();if(!f||!p)return s.w.next({noRpc:!0}),{txId:""};try{let t=d?void 0:await (0,v.u)(),a=await f.clmm.createPool({programId:x.CLMM_PROGRAM_ID,mint1:{...e,address:e.address},mint2:{...n,address:n.address},ammConfig:{...r,id:new i.nh(r.id),fundOwner:"",description:""},initialPrice:new I.Z(o),startTime:new(S())(l||Math.floor((Date.now()+g)/1e3)),computeBudgetConfig:t,forerunCreate:d,getObserveState:m,txVersion:y}),{execute:p}=a;if(u){let t=w({action:"createPool",values:{}});return p().then(r=>{let{txId:i,signedTx:o}=r;return c.aV.next({txId:i,...t,signedTx:o,mintInfo:[e,n]}),{txId:i,buildData:a}}).catch(e=>(s.w.next({txError:e,...t}),{txId:""}))}return{txId:"",buildData:a}}catch(t){return s.w.next({status:"error",title:"Error",description:t.message.includes("byte array longer than")?"Current price out of range":t.message}),{txId:""}}},createFarm:async t=>{let{poolInfo:e,rewardInfos:n,onSent:i,onError:o,onFinally:l,onConfirmed:u}=t,{raydium:d,publicKey:m,txVersion:f}=a.qr.getState();if(!d||!m)return"";let{execute:p}=await d.clmm.initRewards({poolInfo:e,rewardInfos:n.map(t=>({...t,mint:(0,r.FRm)(t.mint)})),ownerInfo:{useSOLBalance:!0},checkCreateATAOwner:!0,txVersion:f}),y=w({action:"createFarm",values:{poolId:"".concat(e.id.slice(0,4),"...").concat(e.id.slice(-4))}});return p().then(t=>{let{txId:e,signedTx:r}=t;return c.aV.next({txId:e,...y,signedTx:r,mintInfo:n.map(t=>t.mint),onConfirmed:u}),null==i||i(),e}).catch(t=>(s.w.next({txError:t,...y}),null==o||o(),"")).finally(l)},fetchAmmConfigsAct:async()=>{let{raydium:n}=a.qr.getState();if(!Object.keys(e().clmmFeeConfigs).length&&n)try{let e=await n.api.getClmmConfigs(),r=e.reduce((t,e)=>({...t,[e.id]:e}),{});t({clmmFeeConfigs:r||x},!1,{type:"fetchAmmConfigsAct"})}catch(e){t({clmmFeeConfigs:x},!1,{type:"fetchAmmConfigsAct"})}},convertPoolPrice:t=>{var e,n,i,o;let{pool:a,price:l}=t,s=new I.Z(null!=l?l:"0").clamp(1/10**Math.max(null!==(i=null===(e=a.mintA)||void 0===e?void 0:e.decimals)&&void 0!==i?i:0,null!==(o=null===(n=a.mintB)||void 0===n?void 0:n.decimals)&&void 0!==o?o:0,new I.Z(l).decimalPlaces()),Number.MAX_SAFE_INTEGER);return new r.tAG({baseToken:(0,r.MP3)(a.mintA),denominator:new(S())(10).pow(new(S())(20+a.mintA.decimals)),quoteToken:(0,r.MP3)(a.mintB),numerator:s.mul(new I.Z(10**(20+a.mintB.decimals))).toFixed(0)})},getPriceAndTick:t=>{let{pool:e,price:n,baseIn:i}=t;if(e)try{let t=new I.Z(n||"0").clamp(1/10**Math.max(e.mintA.decimals,e.mintB.decimals),Number.MAX_SAFE_INTEGER);return r.gA1.getPriceAndTick({poolInfo:e,price:t,baseIn:i})}catch(t){s.w.next({status:"error",title:"error",description:t.message.includes("not within the supported sqrtPrice range")?"Price for tick overflow":t.message})}},getTickPrice:t=>{let{pool:e,tick:n,baseIn:i}=t;if(e)try{return r.gA1.getTickPrice({poolInfo:e,tick:n,baseIn:i})}catch(t){s.w.next({status:"error",title:"error",description:t.message})}},computePairAmount:async t=>{var e,n,i,o;let{pool:l,inputA:s,tickLower:c,tickUpper:u,amount:d}=t,[m,f]=[a.qr.getState().connection,a.qr.getState().getEpochInfo],p=a.HN.getState().slippage,y=await f();if(!l||!m||void 0===c||void 0===c||!y)return;let[g,x]=[null!==(i=null===(e=l.mintA)||void 0===e?void 0:e.decimals)&&void 0!==i?i:6,null!==(o=null===(n=l.mintB)||void 0===n?void 0:n.decimals)&&void 0!==o?o:6],h=await r.NLW.getLiquidityAmountOutFromAmountIn({poolInfo:l,slippage:0,inputA:s,tickUpper:Math.max(c,u),tickLower:Math.min(c,u),amount:new(S())(new I.Z(d||"0").mul(10**(s?g:x)).toFixed(0)),add:!0,amountHasFee:!0,epochInfo:y});return{amountA:new I.Z(h.amountA.amount.toString()).div(10**g),amountSlippageA:new I.Z(h.amountSlippageA.amount.toString()).mul(1+p).div(10**g),amountB:new I.Z(h.amountB.amount.toString()).div(10**x),amountSlippageB:new I.Z(h.amountSlippageB.amount.toString()).mul(1+p).div(10**x),liquidity:h.liquidity,calResult:h}},loadAddRewardWhiteListAct:async n=>{let r=a.qr.getState().raydium;if(!r)return"";let{checkFetch:i}=n||{};i&&e().rewardWhiteListMints.length>0||r.clmm.getWhiteListMint({programId:a.qr.getState().programIdConfig.CLMM_PROGRAM_ID}).then(e=>{t({rewardWhiteListMints:e},!1,{type:"loadAddRewardWhiteListAct"})})},reset:()=>t(k)}),"useClmmStore")},64473:function(t,e,n){n.d(e,{G:function(){return q}});var r=n(17638),i=n(59917),o=n(13717),a=n(88089),l=n(19879),s=n(51758),c=n(72827),u=n(10234),d=n(85893),m=n(1922),f=n(88911),p=n(46072),y=n(84196);let g={deposit:{title:"liquidity.tx_message.staked_successfully",desc:"liquidity.tx_message.staked_desc",txHistoryTitle:"transaction_history.liquidity_staked_title",txHistoryDesc:"transaction_history.liquidity_staked_desc",components:{sub:(0,d.jsx)(f.x,{as:"span",color:y.O9.textSecondary,fontWeight:"700"})}},withdraw:{title:"liquidity.tx_message.unStaked_successfully",desc:"liquidity.tx_message.unStaked_desc",txHistoryTitle:"liquidity.tx_message.unStaked_successfully",txHistoryDesc:"liquidity.tx_message.unStaked_desc",components:{sub:(0,d.jsx)(f.x,{as:"span",color:y.O9.textSecondary,fontWeight:"700"})}},claimIdo:{title:"portfolio.acceleraytor_tx_title",desc:"portfolio.acceleraytor_tx_desc",txHistoryTitle:"portfolio.acceleraytor_tx_title",txHistoryDesc:"portfolio.acceleraytor_tx_desc",components:{sub:(0,d.jsx)(f.x,{as:"span",color:y.O9.textSecondary,fontWeight:"700"})}},claimIdo1:{title:"portfolio.acceleraytor_tx_title",desc:"portfolio.acceleraytor_tx_1_desc",txHistoryTitle:"portfolio.acceleraytor_tx_title",txHistoryDesc:"portfolio.acceleraytor_tx_1_desc",components:{sub:(0,d.jsx)(f.x,{as:"span",color:y.O9.textSecondary,fontWeight:"700"})}},harvest:{title:"transaction_history.harvest_rewards",desc:"transaction_history.harvest_farm_reward_desc",txHistoryTitle:"transaction_history.harvest_reward_title",txHistoryDesc:"transaction_history.harvest_farm_reward_desc",components:{sub:(0,d.jsx)(f.x,{as:"span",color:y.O9.textSecondary,fontWeight:"700"})}},updateRewards:{title:"transaction_history.update_reward_title",desc:"transaction_history.update_reward_desc",txHistoryTitle:"transaction_history.update_reward_title",txHistoryDesc:"transaction_history.update_reward_desc",components:{sub:(0,d.jsx)(f.x,{as:"span",color:y.O9.textSecondary,fontWeight:"700"})}}},x=t=>{let{action:e,values:n}=t,r=g[e];return{title:p.ZP.t(r.title,n),description:(0,d.jsx)(m.cC,{i18nKey:r.desc,values:n,components:r.components}),txHistoryTitle:r.txHistoryTitle||r.title,txHistoryDesc:r.txHistoryDesc||r.desc,txValues:n}};var h=n(56373),w=n(33703),v=n(39777),_=n(86221),A=n(81319),S=n(90482),I=n(13550),k=n.n(I);let b={farmLoading:!1,refreshTag:0,refreshIdoTag:0},q=(0,c.Z)((t,e)=>({...b,harvestAllAct:async t=>{let{farmInfoList:e,execute:n=!0,...r}=t,{raydium:i,txVersion:a}=u.qr.getState();if(!i)return{txIds:[]};let l=await i.farm.harvestAllRewards({txVersion:a,farmInfoList:e.reduce((t,e)=>({...t,[e.id]:e}),{}),computeBudgetConfig:n?await (0,_.u)():void 0});if(n){let t=x({action:"harvest",values:{}}),e=l.transactions.length,{toastId:n,processedId:i,handler:a}=(0,v.xl)({txLength:e,...r}),s=()=>t.title;return l.execute({sequentially:!0,onTxUpdate:r=>{(0,A.WH)(r),(0,v.r4)({toastId:n,processedId:(0,v.Yi)({processedId:i,data:r}),txLength:e,meta:t,handler:a,getSubTxTitle:s})}}).then(r=>{let{txIds:o}=r;return(0,v.r4)({toastId:n,processedId:(0,v.Yi)({processedId:i,data:[]}),txLength:e,meta:t,handler:a,getSubTxTitle:s}),{txIds:o,buildData:l}}).catch(e=>{var n;return o.w.next({txError:e,...t}),null===(n=r.onError)||void 0===n||n.call(r),{txIds:[],buildData:l}}).finally(r.onFinally)}return{txIds:[],buildData:l}},withdrawFarmAct:async t=>{let{farmInfo:n,deposited:r,amount:i,userAuxiliaryLedgers:c,onSent:d,onError:m,onFinally:f}=t,{raydium:p,txVersion:y}=u.qr.getState();if(!p)return"";let g=await (0,_.u)(),{execute:h}=await p.farm.withdraw({farmInfo:n,deposited:r,amount:new(k())(new S.Z(i).mul(10**n.lpMint.decimals).toFixed(0)),userAuxiliaryLedgers:c,computeBudgetConfig:g,txVersion:y}),w=x({action:new S.Z(i).isZero()?"harvest":"withdraw",values:{amount:(0,s.Hk)(i,n.lpMint.decimals),symbol:"".concat((0,l.a)(n.symbolMints)).concat(n.symbolMints.length>1?" LP":"")}});return h().then(t=>{let{txId:n,signedTx:r}=t;return a.aV.next({txId:n,...w,signedTx:r,onSent:d,onError:m}),e().refreshFarmAct(),n}).catch(t=>(null==m||m(),o.w.next({...w,txError:t}),"")).finally(f)},depositFarmAct:async t=>{let{farmInfo:n,amount:r,userAuxiliaryLedgers:i,onSent:c,onError:d,onFinally:m}=t,{raydium:f,txVersion:p}=u.qr.getState();if(!f)return"";let y=new(k())(new S.Z(r).mul(10**n.lpMint.decimals).toFixed(0));try{let t=await (0,_.u)(),{execute:u}=await f.farm.deposit({farmInfo:n,amount:y,userAuxiliaryLedgers:i,computeBudgetConfig:t,txVersion:p}),g=x({action:"deposit",values:{amount:(0,s.Hk)(r,n.lpMint.decimals),symbol:"".concat((0,l.a)(n.symbolMints)).concat(n.symbolMints.length>1?" LP":"")}});return u().then(t=>{let{txId:n,signedTx:r}=t;return a.aV.next({txId:n,...g,signedTx:r,onSent:c,onError:d}),e().refreshFarmAct(),n}).catch(t=>(null==d||d(),o.w.next({...g,txError:t}),"")).finally(()=>null==m?void 0:m())}catch(t){return o.w.next({status:"error",title:"error",detail:t.message}),null==d||d(),null==m||m(),""}},withdrawCreatorFarmRewardAct:async t=>{let{farmInfo:n,withdrawMint:r,onSent:i,onError:l,onFinally:s}=t,{raydium:c,txVersion:d}=u.qr.getState();if(!c)return"";try{let t=await (0,_.u)(),{execute:u}=await c.farm.withdrawFarmReward({farmInfo:n,withdrawMint:r,txVersion:d,computeBudgetConfig:t}),m=x({action:"harvest",values:{}});return u().then(t=>{let{txId:n,signedTx:r}=t;return a.aV.next({txId:n,...m,signedTx:r,onSent:i,onError:l}),e().refreshFarmAct(),n}).catch(t=>(null==l||l(),o.w.next({...m,txError:t}),"")).finally(()=>null==s?void 0:s())}catch(t){return o.w.next({status:"error",title:"error",detail:t.message}),null==l||l(),null==s||s(),""}},createFarmAct:async t=>{let{poolInfo:e,rewardInfos:n,onSent:i,onError:l,onFinally:s,onConfirmed:c}=t,{raydium:d,txVersion:m}=u.qr.getState();if(!d)return"";let{execute:f,extInfo:p}=await d.farm.create({poolInfo:e,rewardInfos:n.map(t=>({...t,rewardMint:(0,r.B0r)(t.mint)})),txVersion:m});return f().then(t=>{let{txId:e,signedTx:n}=t;return a.aV.next({txId:e,signedTx:n,onSent:()=>{null==i||i(p)},onConfirmed:()=>{null==c||c(),(0,w.bf)()},onError:l}),e}).catch(t=>(o.w.next({txError:t}),null==l||l(),"")).finally(s)},withdrawFarmRewardAct:async t=>{let{farmInfo:e,withdrawMint:n,onSent:r,onError:l,onFinally:s}=t,{raydium:c,txVersion:d}=u.qr.getState();if(!c)return"";let{execute:m}=await c.farm.withdrawFarmReward({farmInfo:e,withdrawMint:new i.nh(n),txVersion:d}),f=x({action:"harvest",values:{}});return m().then(t=>{let{txId:e,signedTx:n}=t;return a.aV.next({txId:e,signedTx:n,...f}),null==r||r(),e}).catch(t=>(o.w.next({txError:t,...f}),null==l||l(),"")).finally(s)},editFarmRewardsAct:async t=>{let{farmInfo:e,editedRewards:n,newRewards:r,onConfirmed:l,...s}=t,{raydium:c,connection:d,publicKey:m,txVersion:f}=u.qr.getState();if(!c||!d||!m)return"";let p=[],y=x({action:"updateRewards",values:{pool:e.id.slice(0,6)}});if(n.length){let t=await c.farm.restartRewards({farmInfo:e,newRewardInfos:n.map(t=>({...t,mint:new i.nh((0,h.eI)(t.mint.toBase58()))})),txVersion:f});if(!r.length)return t.execute().then(t=>{let{txId:e,signedTx:n}=t;return a.aV.next({txId:e,signedTx:n,...y,onConfirmed:l}),e}).catch(t=>{var e;return null===(e=s.onError)||void 0===e||e.call(s),o.w.next({txError:t,...y}),""}).finally(s.onFinally);p.push(t)}if(r.length){let t=await c.farm.addNewRewardsToken({farmInfo:e,newRewardInfos:r.map(t=>({...t,mint:new i.nh((0,h.eI)(t.mint.toBase58()))})),txVersion:f});if(!p.length)return t.execute().then(t=>{let{txId:e}=t;return a.aV.next({txId:e,...y,onConfirmed:l}),e}).catch(t=>{var e;return null===(e=s.onError)||void 0===e||e.call(s),o.w.next({txError:t,...y}),""}).finally(s.onFinally);p.push(t)}let g=p[0].builder;g.addInstruction(p[1].builder.AllTxData);let w=await g.versionBuild({txVersion:f});if(!w){var v,_;return null===(v=s.onError)||void 0===v||v.call(s),null===(_=s.onFinally)||void 0===_||_.call(s),""}return w.execute().then(t=>{let{txId:e}=t;return a.aV.next({txId:e,...y,onConfirmed:l}),e}).catch(t=>(o.w.next({txError:t,...y}),""))},claimIdoAct:async t=>{let{onSent:e,onError:n,onFinally:r,...i}=t,{raydium:l,txVersion:c}=u.qr.getState();if(!l)return"";let{execute:d}=await l.ido.claim({...i,txVersion:c}),{ownerInfo:{pc:m,coin:f},idoKeys:{projectInfo:p,buyInfo:y}}=i,[g,w]=[!new S.Z(f).isZero(),!new S.Z(m).isZero()];if(!g&&!w)return o.w.next({description:"no claimable amounts"}),"";let v=g?{amountA:(0,s.Hk)(new S.Z(f).div(10**p.mint.decimals).toString(),p.mint.decimals),symbolA:(0,h.h3)({mint:p.mint,transformSol:!0}),amountB:(0,s.Hk)(new S.Z(m).div(10**y.mint.decimals).toString(),y.mint.decimals),symbolB:(0,h.h3)({mint:y.mint,transformSol:!0})}:{amountA:(0,s.Hk)(new S.Z(m).div(10**y.mint.decimals).toString(),y.mint.decimals),symbolA:(0,h.h3)({mint:y.mint,transformSol:!0})},_=x({action:g&&w?"claimIdo1":"claimIdo",values:v});return d().then(t=>{let{txId:r,signedTx:i}=t;return a.aV.next({..._,signedTx:i,txId:r,onSent:e,onError:n}),r}).catch(t=>(null==n||n(),o.w.next({..._,txError:t}),"")).finally(r)},refreshFarmAct:()=>{t({refreshTag:Date.now()})},refreshIdoAct:()=>{t({refreshIdoTag:Date.now()})}}),"useFarmStore")},87785:function(t,e,n){n.d(e,{r:function(){return b},H:function(){return B}});var r=n(17638),i=n(72827),o=n(10234),a=n(13717),l=n(88089),s=n(39777),c=n(51758),u=n(85893),d=n(1922),m=n(88911),f=n(46072),p=n(84196);let y={addLiquidity:{title:"transaction_history.name_add_liquidity",desc:"transaction_history.add_liquidity_desc",txHistoryTitle:"transaction_history.name_add_liquidity",txHistoryDesc:"transaction_history.add_liquidity_desc",components:{sub:(0,u.jsx)(m.x,{as:"span",color:p.O9.textSecondary,fontWeight:"700"})}},removeLiquidity:{title:"transaction_history.name_remove_liquidity",desc:"transaction_history.remove_liquidity_desc",txHistoryTitle:"transaction_history.name_remove_liquidity",txHistoryDesc:"transaction_history.remove_liquidity_desc",components:{sub:(0,u.jsx)(m.x,{as:"span",color:p.O9.textSecondary,fontWeight:"700"})}},createPool:{title:"liquidity.create_pool_tx_title",desc:"liquidity.create_pool_tx_desc",txHistoryTitle:"",txHistoryDesc:"",components:{sub:(0,u.jsx)(m.x,{as:"span",color:p.O9.textSecondary,fontWeight:"700"})}},removeLpBeforeMigrate:{title:"transaction_history.name_remove_liquidity",desc:"transaction_history.name_remove_liquidity",txHistoryTitle:"",txHistoryDesc:"",components:{}},migrateToClmm:{title:"migrate_clmm.migrate_clmm_tx_title",desc:"migrate_clmm.migrate_clmm_tx_desc",txHistoryTitle:"",txHistoryDesc:"",components:{}},lockLp:{title:"transaction_history.lock_position",desc:"transaction_history.position_locked",txHistoryTitle:"transaction_history.lock_position",txHistoryDesc:"transaction_history.position_locked",components:{sub:(0,u.jsx)(m.x,{as:"span",color:p.O9.textSecondary,fontWeight:"700"})}},harvestLock:{title:"transaction_history.harvest_rewards",desc:"transaction_history.harvest_lock_reward_desc",txHistoryTitle:"transaction_history.harvest_rewards",txHistoryDesc:"transaction_history.harvest_lock_reward_desc",components:{}}},g=t=>{let{action:e,values:n={}}=t,r=y[e];return{title:f.ZP.t(r.title,n),description:(0,u.jsx)(d.cC,{i18nKey:r.desc,values:n,components:r.components}),txHistoryTitle:r.txHistoryTitle||r.title,txHistoryDesc:r.txHistoryDesc||r.desc,txValues:n}};var x=n(56373),h=n(46675),w=n(96364),v=n(81319),_=n(13550),A=n.n(_),S=n(90482),I=n(86221),k=n(72817);let b="_r_lqd_slippage_",q={createPoolFee:"",slippage:.025,cpmmFeeConfigs:{}},B=(0,i.Z)((t,e)=>({...q,addCpmmLiquidityAct:async t=>{let{onSent:n,onError:i,onFinally:s,...u}=t,{raydium:d,txVersion:m,getEpochInfo:f}=o.qr.getState();if(!d)return"";let p=u.baseIn,y=await (0,I.u)(),h=new r.gGi((1e4*e().slippage).toFixed(0),1e4),w=await d.cpmm.getRpcPoolInfo(u.poolInfo.id),v=d.cpmm.computePairAmount({baseIn:u.baseIn,amount:u.inputAmount,slippage:new r.gGi(0),epochInfo:await f(),baseReserve:w.baseReserve,quoteReserve:w.quoteReserve,poolInfo:{...u.poolInfo,lpAmount:new S.Z(w.lpAmount.toString()).div(10**w.lpDecimals).toNumber()}}),{execute:_}=await d.cpmm.addLiquidity({...u,inputAmount:new(A())(new S.Z(u.inputAmount).mul(10**u.poolInfo[p?"mintA":"mintB"].decimals).toFixed(0)),slippage:h,computeResult:{...v,liquidity:new r.gGi(new(A())(1)).sub(h).mul(v.liquidity).quotient},txVersion:m,computeBudgetConfig:y}),k=g({action:"addLiquidity",values:{amountA:(0,c.Hk)(p?u.inputAmount:u.anotherAmount,u.poolInfo[p?"mintA":"mintB"].decimals),symbolA:(0,x.h3)({mint:u.poolInfo.mintA,transformSol:!0}),amountB:(0,c.Hk)(p?u.anotherAmount:u.inputAmount,u.poolInfo[p?"mintB":"mintA"].decimals),symbolB:(0,x.h3)({mint:u.poolInfo.mintB,transformSol:!0})}});return _().then(t=>{let{txId:e,signedTx:r}=t;return l.aV.next({txId:e,...k,signedTx:r,mintInfo:[u.poolInfo.mintA,u.poolInfo.mintB],onError:i,onConfirmed:u.onConfirmed}),null==n||n(),e}).catch(t=>(null==i||i(),a.w.next({...k,txError:t}),"")).finally(s)},addLiquidityAct:async t=>{let{onSent:e,onError:n,onFinally:i,...s}=t,{raydium:u,txVersion:d}=o.qr.getState();if(!u)return"";let m="a"===s.fixedSide?"mintB":"mintA",{execute:f}=await u.liquidity.addLiquidity({...s,amountInA:new r.dtM((0,r.MP3)(s.poolInfo.mintA),new S.Z(s.amountA).mul(10**s.poolInfo.mintA.decimals).toFixed(0)),amountInB:new r.dtM((0,r.MP3)(s.poolInfo.mintB),new S.Z(s.amountB).mul(10**s.poolInfo.mintB.decimals).toFixed(0)),otherAmountMin:new r.dtM((0,r.MP3)(s.poolInfo[m]),new S.Z(s.otherAmountMin).mul(10**s.poolInfo[m].decimals).toFixed(0)),txVersion:d,computeBudgetConfig:await (0,I.u)()}),p=g({action:"addLiquidity",values:{amountA:(0,c.Hk)(s.amountA,s.poolInfo.mintA.decimals),symbolA:(0,x.h3)({mint:s.poolInfo.mintA,transformSol:!0}),amountB:(0,c.Hk)(s.amountB,s.poolInfo.mintB.decimals),symbolB:(0,x.h3)({mint:s.poolInfo.mintB,transformSol:!0})}});return f().then(t=>{let{txId:r,signedTx:i}=t;return l.aV.next({txId:r,...p,signedTx:i,mintInfo:[s.poolInfo.mintA,s.poolInfo.mintB],onError:n,onConfirmed:s.onConfirmed}),null==e||e(),r}).catch(t=>(null==n||n(),a.w.next({...p,txError:t}),"")).finally(i)},removeLiquidityAct:async t=>{let{onSent:n,onError:r,onFinally:i,...s}=t,{raydium:u,txVersion:d}=o.qr.getState(),m=e().slippage;if(!u)return"";let f=await (0,I.u)(),{poolInfo:p,lpAmount:y,amountA:h,amountB:w,config:v}=s,{execute:_}=await u.liquidity.removeLiquidity({poolInfo:p,lpAmount:new(A())(y),baseAmountMin:new(A())(new S.Z(h).mul(1-m).toFixed(0)),quoteAmountMin:new(A())(new S.Z(w).mul(1-m).toFixed(0)),config:v,txVersion:d,computeBudgetConfig:f}),k=g({action:"removeLiquidity",values:{amountA:(0,c.Hk)(new S.Z(h).div(10**p.mintA.decimals).toString(),s.poolInfo.mintA.decimals),symbolA:(0,x.h3)({mint:s.poolInfo.mintA,transformSol:!0}),amountB:(0,c.Hk)(new S.Z(w).div(10**p.mintB.decimals).toString(),s.poolInfo.mintB.decimals),symbolB:(0,x.h3)({mint:s.poolInfo.mintB,transformSol:!0})}});return _().then(t=>{let{txId:e,signedTx:i}=t;return l.aV.next({txId:e,...k,signedTx:i,mintInfo:[s.poolInfo.mintA,s.poolInfo.mintB],onError:r}),null==n||n(),e}).catch(t=>(null==r||r(),a.w.next({...k,txError:t}),"")).finally(i)},removeCpmmLiquidityAct:async t=>{let{onSent:n,onError:i,onFinally:s,...u}=t,{raydium:d,txVersion:m}=o.qr.getState();if(!d)return"";let{poolInfo:f,lpAmount:p,amountA:y,amountB:h}=u,w=await (0,I.u)(),{execute:v}=await d.cpmm.withdrawLiquidity({poolInfo:f,lpAmount:new(A())(p),slippage:new r.gGi((1e4*e().slippage).toFixed(0),1e4),txVersion:m,computeBudgetConfig:w}),_=g({action:"removeLiquidity",values:{amountA:(0,c.Hk)(y,u.poolInfo.mintA.decimals),symbolA:(0,x.h3)({mint:u.poolInfo.mintA,transformSol:!0}),amountB:(0,c.Hk)(h,u.poolInfo.mintB.decimals),symbolB:(0,x.h3)({mint:u.poolInfo.mintB,transformSol:!0})}});return v().then(t=>{let{txId:e,signedTx:r}=t;return l.aV.next({txId:e,..._,signedTx:r,mintInfo:[u.poolInfo.mintA,u.poolInfo.mintB],onError:i}),null==n||n(),e}).catch(t=>(null==i||i(),a.w.next({..._,txError:t}),"")).finally(s)},createPoolAct:async e=>{let{pool:n,baseAmount:r,quoteAmount:i,startTime:s,onSent:c,onError:u,onFinally:d,onConfirmed:m}=e,{raydium:f,programIdConfig:p,txVersion:y}=o.qr.getState();if(!f)return"";let h=await (0,I.u)(),{execute:w,extInfo:v}=await f.cpmm.createPool({programId:p.CREATE_CPMM_POOL_PROGRAM,poolFeeAccount:p.CREATE_CPMM_POOL_FEE_ACC,feeConfig:n.feeConfig,mintA:n.mintA,mintB:n.mintB,mintAAmount:new(A())(r),mintBAmount:new(A())(i),startTime:new(A())((s?Number(s):Date.now()+6e4)/1e3),ownerInfo:{useSOLBalance:!0},associatedOnly:!1,txVersion:y,computeBudgetConfig:h}),_=g({action:"createPool",values:{mintA:(0,x.h3)({mint:n.mintA,transformSol:!0}),mintB:(0,x.h3)({mint:n.mintB,transformSol:!0})}}),S=()=>{null==m||m(),t({newCreatedPool:v.address})};return w().then(t=>{let{txId:e,signedTx:r}=t;return l.aV.next({txId:e,..._,signedTx:r,mintInfo:[n.mintA,n.mintB],onSent:c,onError:u,onConfirmed:S}),e}).catch(t=>(null==u||u(),a.w.next({txError:t,..._}),"")).finally(d)},migrateToClmmAct:async t=>{let{onSent:e,onError:n,onFinally:r,onConfirmed:i,...l}=t,{raydium:c,txVersion:u,wallet:d,connection:m}=o.qr.getState();if(!c||!m)return"";let f=await (0,I.u)(),{execute:p,transactions:y}=await c.liquidity.removeAllLpAndCreateClmmPosition({...l,createPositionInfo:{...l.createPositionInfo,tickLower:Math.min(l.createPositionInfo.tickLower,l.createPositionInfo.tickUpper),tickUpper:Math.max(l.createPositionInfo.tickLower,l.createPositionInfo.tickUpper)},computeBudgetConfig:f,getEphemeralSigners:d?await (0,h.Z)(d):void 0,txVersion:u}),x=g({action:"removeLpBeforeMigrate"}),_=g({action:"migrateToClmm",values:{mint:(0,w.Sw)(l.poolInfo)}}),A=y.length,{toastId:S,processedId:k,handler:b}=(0,s.xl)({txLength:A,onSent:e,onError:n,onFinally:r,onConfirmed:i}),q=t=>t===y.length-1?_.title:x.title;return p({sequentially:!0,onTxUpdate:t=>{(0,v.WH)(t),(0,s.r4)({toastId:S,processedId:(0,s.Yi)({processedId:k,data:t}),txLength:A,meta:_,handler:b,getSubTxTitle:q})}}).then(t=>{let{txIds:e}=t;return(0,s.r4)({toastId:S,processedId:(0,s.Yi)({processedId:k,data:[]}),txLength:A,meta:_,handler:b,getSubTxTitle:q}),e[0]}).catch(t=>(null==n||n(),a.w.next({txError:t,..._}),""))},lockCpmmLpAct:async t=>{let{poolInfo:e,lpAmount:n,...r}=t,{raydium:i,txVersion:s,connection:c,wallet:u}=o.qr.getState();if(!i||!c)return"";let{execute:d,extInfo:m}=await i.cpmm.lockLp({poolInfo:e,lpAmount:n,withMetadata:!0,computeBudgetConfig:await (0,I.u)(),getEphemeralSigners:u?await (0,h.Z)(u):void 0,txVersion:s}),f=g({action:"lockLp",values:{position:"".concat(new S.Z(n.toString()).div(10**e.lpMint.decimals).toString()," ").concat((0,x.h3)({mint:e.mintA,transformSol:!0}),"-").concat((0,x.h3)({mint:e.mintB,transformSol:!0})," LP")}});return d().then(t=>{let{txId:n,signedTx:i}=t;return l.aV.next({txId:n,...f,signedTx:i,mintInfo:[e.mintA,e.mintB],...r,onSent:()=>{var t;return null===(t=r.onSent)||void 0===t?void 0:t.call(r,m)}}),n}).catch(t=>{var e;return null===(e=r.onError)||void 0===e||e.call(r),a.w.next({txError:t,...f}),""}).finally(()=>{var t;return null===(t=r.onFinally)||void 0===t?void 0:t.call(r,m)})},harvestLockCpmmLpAct:async t=>{let{poolInfo:e,nftMint:n,lpFeeAmount:r,...i}=t,{raydium:s,txVersion:c,connection:u}=o.qr.getState();if(!s||!u)return"";let{execute:d}=await s.cpmm.harvestLockLp({poolInfo:e,nftMint:n,lpFeeAmount:r,txVersion:c}),m=g({action:"harvestLock",values:{mintA:(0,x.h3)({mint:e.mintA,transformSol:!0}),mintB:(0,x.h3)({mint:e.mintB,transformSol:!0})}});return d().then(t=>{let{txId:n,signedTx:r}=t;return l.aV.next({txId:n,...m,signedTx:r,mintInfo:[e.mintA,e.mintB],...i,onConfirmed:()=>{var t;null===(t=i.onConfirmed)||void 0===t||t.call(i),setTimeout(()=>k.EN.setState({refreshCpmmPositionTag:Date.now()}),500)}}),n}).catch(t=>{var e;return null===(e=i.onError)||void 0===e||e.call(i),a.w.next({txError:t,...m}),""}).finally(i.onFinally)},computePairAmount:async t=>{let{pool:n,amount:i,baseIn:a,baseReserve:l,quoteReserve:s}=t,{raydium:c,programIdConfig:u,getEpochInfo:d}=o.qr.getState();if(!c)return{output:"0",maxOutput:"0",minOutput:"0",liquidity:new(A())(0)};let m=n.programId===u.CREATE_CPMM_POOL_PROGRAM.toBase58(),f={poolInfo:n,amount:i,baseIn:a,slippage:new r.gGi((1e4*e().slippage).toFixed(0),1e4)},p=m?c.cpmm.computePairAmount({...f,slippage:new r.gGi(0),epochInfo:await d(),poolInfo:f.poolInfo,baseReserve:l,quoteReserve:s}):c.liquidity.computePairAmount({...f,poolInfo:{...f.poolInfo,mintAmountA:new S.Z(l.toString()).div(10**n.mintA.decimals).toNumber(),mintAmountB:new S.Z(s.toString()).div(10**n.mintB.decimals).toNumber()}}),y=a?n.mintB:n.mintA;return{output:p.anotherAmount instanceof r.dtM?p.anotherAmount.toExact():new S.Z(p.anotherAmount.amount.toString()).div(10**y.decimals).toDecimalPlaces(y.decimals).toString(),maxOutput:p.maxAnotherAmount instanceof r.dtM?p.maxAnotherAmount.toExact():new S.Z(p.maxAnotherAmount.amount.toString()).div(10**y.decimals).toDecimalPlaces(y.decimals).toString(),minOutput:p.minAnotherAmount instanceof r.dtM?p.minAnotherAmount.toExact():new S.Z(p.minAnotherAmount.amount.toString()).div(10**y.decimals).toDecimalPlaces(y.decimals).toString(),liquidity:p.liquidity}},getCreatePoolFeeAct:async()=>{let{connection:n,programIdConfig:i}=o.qr.getState();if(!n||e().createPoolFee)return;let a=(0,r.RER)(i.CREATE_CPMM_POOL_PROGRAM,0),l=await n.getAccountInfo(a.publicKey,o.qr.getState().commitment);l&&t({createPoolFee:new S.Z(r.Hl7.decode(l.data).createPoolFee.toString()).div(1e9).toString()})},fetchCpmmConfigsAct:async()=>{let{raydium:n}=o.qr.getState();if(!Object.keys(e().cpmmFeeConfigs).length&&n)try{let e=await n.api.getCpmmConfigs(),r=e.reduce((t,e)=>({...t,[e.id]:e}),{});t({cpmmFeeConfigs:r||{}},!1,{type:"fetchCpmmConfigsAct"})}catch(e){t({cpmmFeeConfigs:{}},!1,{type:"fetchCpmmConfigsAct"})}},resetComputeStateAct:()=>{t({},!1,{type:"resetComputeStateAct"})}}),"useLiquidityStore")},72817:function(t,e,n){n.d(e,{EN:function(){return B},hv:function(){return _}});var r=n(17638),i=n(59917),o=n(58467),a=n(62397),l=n(77043),s=n(56362),c=n(76623),u=n(51758),d=n(72827),m=n(10234),f=n(31912),p=n(13717),y=n(88089),g=n(20474),x=n(90482),h=n(13550),w=n.n(h),v=n(69745);let _={tokenAccounts:[],tokenAccountRawInfos:[],tokenAccountMap:new Map,refreshClmmPositionTag:0,refreshCpmmPositionTag:0,refreshTokenAccTime:Date.now()},[A,S,I,k]=[!1,0,i.nh.default,void 0],b={tokenAccounts:new Map,deleteAccount:new Set},q=()=>{b.deleteAccount.clear(),b.tokenAccounts.clear(),b.solAmount=void 0},B=(0,d.Z)((t,e)=>({..._,updateTokenAccountAct:()=>{let n=m.qr.getState().publicKey,o=new Map,a=new Map;Array.from(b.tokenAccounts.entries()).forEach(t=>{let[e,l]=t,s=r.I$S.decode(l.accountInfo.data),{mint:c,amount:u}=s,[d,m]=[l.accountId,l.accountInfo.owner],f={publicKey:d,mint:c,amount:u,isAssociate:(0,r.Aqo)(n,c,l.accountInfo.owner).publicKey.equals(d),isNative:c.equals(i.nh.default),programId:m};o.set(e,f),a.set(e,{pubkey:d,accountInfo:s,programId:m})});let{tokenAccounts:l,tokenAccountRawInfos:s}=e(),c=new Set,u=new Map,d=l.map(t=>{var e;if(b.solAmount&&t.mint.equals(i.nh.default)){let e={...t,amount:b.solAmount};return u.set(i.nh.default.toString(),[e]),e}let n=t.mint.toString(),r=(null===(e=t.publicKey)||void 0===e?void 0:e.toString())||"",a=o.get(r);return(t.amount=b.deleteAccount.has(r)?new(w())(0):t.amount,u.has(n)?u.get(n).push(a||t):u.set(n,[a||t]),a)?(c.add(r),a):t}).filter(t=>{var e;return!b.deleteAccount.has((null===(e=t.publicKey)||void 0===e?void 0:e.toString())||"")});if(c.size!==o.size){let t=Array.from(o.values()).filter(t=>{var e;return!c.has(null===(e=t.publicKey)||void 0===e?void 0:e.toString())});t.length&&t.forEach(t=>{let e=t.mint.toString();d.push(t),u.has(e)?u.get(e).push(t):u.set(e,[t])})}c.clear();let f=s.map(t=>{t.accountInfo.amount=b.deleteAccount.has(t.pubkey.toString())?new(w())(0):t.accountInfo.amount;let e=a.get(t.pubkey.toString());return e?(c.add(t.pubkey.toString()),e):t}).filter(t=>!b.deleteAccount.has(t.pubkey.toString()));if(c.size!==o.size){let t=Array.from(b.tokenAccounts.values()).filter(t=>!c.has(t.accountId.toString()));t.length&&t.forEach(t=>f.push({pubkey:t.accountId,accountInfo:r.I$S.decode(t.accountInfo.data),programId:o.get(t.accountId.toString()).programId}))}t({tokenAccounts:d,tokenAccountRawInfos:f,tokenAccountMap:u,getTokenBalanceUiAmount:e().getTokenBalanceUiAmount.bind(void 0)},!1,{type:"updateTokenAccountAct"})},fetchTokenAccountAct:async n=>{let{commitment:i,forceFetch:a}=n,{connection:l,publicKey:s}=m.qr.getState();if(s&&l&&!(!a&&(A||Date.now()-S<3e3&&s.equals(I)&&i===k))){k=i,A=!0,I=s;try{(0,v.Z)("rpc: get owner acc info");let n=await (0,g.XD)(()=>l.getAccountInfo(s,{commitment:m.qr.getState().commitment}));(0,v.Z)("rpc: get owner token acc info");let i=await (0,g.XD)(()=>l.getTokenAccountsByOwner(s,{programId:o.H_},{commitment:m.qr.getState().commitment}));(0,v.Z)("rpc: get owner token2022 acc info");let a=await (0,g.XD)(()=>l.getTokenAccountsByOwner(s,{programId:o.nA},{commitment:m.qr.getState().commitment}));S=Date.now(),A=!1;let c=(0,r.Pl1)({owner:s,solAccountResp:n,tokenAccountResp:{context:i.context,value:[...i.value,...a.value]}}),u=new Map;c.tokenAccounts.forEach(t=>{var e;let n=null===(e=t.mint)||void 0===e?void 0:e.toBase58();if(!u.has(n)){u.set(n,[t]);return}u.get(n).push(t)}),u.forEach(t=>{t.sort((t,e)=>t.amount.lt(e.amount)?1:-1)}),q(),t({...c,tokenAccountMap:u,refreshTokenAccTime:Date.now(),getTokenBalanceUiAmount:e().getTokenBalanceUiAmount.bind(void 0)},!1,{type:"fetchTokenAccountAct"});let d=f.uM.getState().tokenList.sort((t,e)=>{let n=u.get(t.address),r=u.get(e.address),i=new x.Z((null==r?void 0:r[0].amount.toString())||0),o=new x.Z((null==n?void 0:n[0].amount.toString())||0);return o.gt(i)?1:o.eq(i)?0:-1});f.uM.setState({tokenList:JSON.parse(JSON.stringify(d))},!1,{type:"fetchTokenAccountAct"}),m.qr.setState({tokenAccLoaded:!0})}catch(t){A=!1,p.w.next({status:"error",title:"fetch token account error",detail:t.message})}}},getTokenBalanceUiAmount:t=>{var n,i,o;let{mint:a,decimals:l,isNative:s=!0}=t,c=null==a?void 0:a.toString(),d={rawAmount:new x.Z(0),amount:new x.Z(0),text:"0",localeText:"0",decimals:0,isZero:!0,gt:()=>!1},m=f.uM.getState().tokenMap.get(c),p=null!==(o=null!=l?l:null==m?void 0:m.decimals)&&void 0!==o?o:6,y=(null===(n=e().tokenAccountMap.get(c))||void 0===n?void 0:n.find(t=>t.isAssociated||t.isNative===s))||(null===(i=e().tokenAccountMap.get(c))||void 0===i?void 0:i[0]);if(!y||!m&&void 0===l)return d;let g=new x.Z(y.amount.toString());c===r.DAM.toBase58()&&(g=new x.Z(0),e().tokenAccountMap.get(c).forEach(t=>{g=g.add(t.amount.toString())}));let h=new x.Z(g.toString()).div(10**p);return{rawAmount:g,amount:h,decimals:p,text:(0,u.Lu)(h.toFixed(p,x.Z.ROUND_FLOOR)),localeText:(0,u.Hk)(h.toFixed(p,x.Z.ROUND_FLOOR),p),isZero:g.eq(0),gt:t=>!!t&&g.gt(t)}},migrateATAAct:async t=>{let{migrateAccounts:n,...i}=t,{connection:o,publicKey:u,signAllTransactions:d}=m.qr.getState(),f=e().tokenAccounts;if(!o||!u||!d||!f.length)return;let g=new r.lcn({connection:o,cluster:"mainnet",feePayer:u,signAllTransactions:d});if(n.forEach(t=>{if(!t.publicKey)return;let e=(0,a.MO)(t.mint,u,!1,t.programId),n=!!f.find(e=>e.publicKey&&e.publicKey.equals(t.publicKey));n||g.addInstruction({instructions:[(0,l.Ek)(u,e,u,t.mint,t.programId)]}),t.amount.isZero()||g.addInstruction({instructions:[(0,s.$B)(t.publicKey,e,u,BigInt(t.amount.toString()),[],t.programId)]}),g.addInstruction({instructions:[(0,c.Zu)(t.publicKey,u,u,[],t.programId)]})}),!g.allInstructions.length){p.w.next({status:"error",title:"Migrate ATA",description:"not ata needs to be migrated"});return}g.build().execute().then(t=>{var e;let{txId:n,signedTx:r}=t;y.aV.next({txId:n,signedTx:r}),null===(e=i.onSent)||void 0===e||e.call(i)}).catch(t=>{var e;p.w.next({txError:t,title:"Migrate ATA"}),null===(e=i.onError)||void 0===e||e.call(i)}).finally(i.onFinally)},reset:()=>{t(_)}}),"useTokenAccountStore")},51758:function(t,e,n){n.d(e,{A5:function(){return u},Hk:function(){return i},Lu:function(){return s},X$:function(){return o},db:function(){return l},k_:function(){return p},uf:function(){return f},xG:function(){return h},yE:function(){return d}});var r=n(90482);function i(t,e){if(null==t)return"-";let n=new r.Z(t||0),i=n.toFixed(e||0),a=i.split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),o(a.join("."))}let o=t=>{if(!t||!t.includes("."))return t;let e=t.split(".");for(;"0"===e[1][e[1].length-1];)e[1]=e[1].slice(0,-1);return e[1].length?"".concat(e[0],".").concat(e[1]):e[0]},a=/(-?)([\d,_]*)\.?(\d*)/;function l(t){var e;let n=t;t.indexOf("e")>0&&(n=new r.Z(t).toFixed(new r.Z(t).decimalPlaces()));let[,,,i=""]=null!==(e=n.match(a))&&void 0!==e?e:[],o=i.split("").findIndex(t=>Number(t)>0);return o+1}function s(t){var e;if(!t.includes("."))return t;let[,n,r,i]=null!==(e=t.match(a))&&void 0!==e?e:[],o=i;for(;o.endsWith("0");)o=o.slice(0,o.length-1);return o?"".concat(n).concat(r,".").concat(o):"".concat(n).concat(r)||"0"}let c=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language,u=new Intl.NumberFormat(c,{style:"decimal"}).format(1.1).substring(1,2),d=new Intl.NumberFormat(c,{style:"percent",maximumFractionDigits:2});new Intl.NumberFormat(c,{style:"percent",maximumFractionDigits:2,signDisplay:"exceptZero"});let m=new Intl.NumberFormat(c,{style:"decimal",useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:12}),f={format:(t,e)=>t?m.format(void 0!==e?+t.toFixed(e):t):"0"};function p(t){return t?"."!==u?t.toString().replace(".",u):t:""}let y=["₀","₁","₂","₃","₄","₅","₆","₇","₈","₉"];function g(t,e){return void 0!==e&&(t=function(t,e){let n=new RegExp("(\\.|,)(0{".concat(e+1,",})(?=[1-9]?)"));return t.replace(n,(t,e,n)=>"".concat(e,"0").concat(n.length.toString().split("").map(t=>y[parseInt(t,10)]).join("")))}(t,e)),t}function x(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=new Intl.NumberFormat(c,{style:"decimal",useGrouping:!0,minimumFractionDigits:0,maximumFractionDigits:n});return{format:i=>{let a=r.format(i);if(e){let t=(function(t,e){let n=[{sign:"T",value:1e12},{sign:"B",value:1e9},{sign:"M",value:1e6},{sign:"K",value:1e3}];for(let r=0;r<n.length;r++)if(t>=n[r].value){let i=o((t/n[r].value).toFixed(e));return"".concat(i).concat(n[r].sign)}return o(t.toFixed(e))||""})(i,n).match(/^(\d+(?:\.\d+)?)([TBMK]?)$/);if(t){let[,e,n]=t;a="".concat(r.format(parseFloat(e))).concat(n)}}return t?"".concat(t).concat(a):a}}}function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{noDecimal:n=!1,symbol:i,abbreviated:o=!1,decimalPlaces:a,maximumDecimalTrailingZeroes:l}=e;if(!t)return i?"".concat(i,"0"):"0";let s=t instanceof r.Z?t:new r.Z(String(t).replace(/,/gi,"")),c=s.toNumber(),u=x(i,o,0);if(!0===n&&c>1)return g(u.format(c));if(Object.prototype.hasOwnProperty.call(e,"decimalPlaces")){let t=x(i,o,a);return g(t.format(c),l)}if(0===c)return c.toFixed(0);if(c>=1e3);else if(c>=50&&c<1e3){let t=x(i,o,3);return g(t.format(c),l)}else if(c>=1e-6&&c<50){let t=x(i,o,6);return g(t.format(c),l)}else if(c<1e-6){let t=x(i,o,12);return g(t.format(function(t,e){let[n,r]=t.toExponential().split("e"),i=parseFloat(n).toFixed(3);return parseFloat("".concat(i,"e").concat(r))}(c,0)),l)}return g(u.format(c))}},19527:function(t,e,n){n.d(e,{ZP:function(){return i},xF:function(){return o}});var r=n(51758);function i(t,e){try{var n,i,o;if(null==t)return"--";let a=(Number(t)*(null===(n=null==e?void 0:e.alreadyPercented)||void 0===n||n?1:100)).toFixed(null!==(i=null==e?void 0:e.decimals)&&void 0!==i?i:2);if((0===t||"0"===t)&&!(null==e?void 0:e.notShowZero))return"0%";if(!(null==e?void 0:e.exact)&&a===0..toFixed(null!==(o=null==e?void 0:e.decimals)&&void 0!==o?o:2))return(null==e?void 0:e.alwaysSigned)?"<+0.01%":"<0.01%";return(null==e?void 0:e.alwaysSigned)?"".concat(a?"-"!==String(a)[0]?"+":"-":"").concat(r.uf.format(Number(null==a?"":Number(a)>0?String(a):String(a).slice(1))),"%"):"".concat(r.uf.format(Number(a),null==e?void 0:e.decimals),"%")}catch(t){return"0%"}}let o=(t,e)=>parseFloat((t/(e||1)*100).toFixed(2))},19879:function(t,e,n){n.d(e,{a:function(){return i}});var r=n(56373);let i=t=>{var e,n,i,o;return t.length<2?(0,r.dJ)(t[0].symbol)||(null===(e=t[0])||void 0===e?void 0:e.address.substring(0,6)):"".concat((0,r.dJ)(t[0].symbol)||(null===(n=t[0])||void 0===n?void 0:n.address.substring(0,6))," - ").concat((0,r.dJ)(null===(i=t[1])||void 0===i?void 0:i.symbol)||(null===(o=t[1])||void 0===o?void 0:o.address.substring(0,6)))}},89065:function(t,e,n){n.d(e,{Z:function(){return a},g:function(){return o}});var r=n(59917);let i=new Map,o=t=>{if(!t)return!1;let e=t.toString();if(i.has(e))return!0;try{return new r.nh(e),!0}catch(t){return!1}};function a(t){let e=(null==t?void 0:t.toString())||"";if(i.has(e))return i.get(e);let n=new r.nh(e);return i.set(e,n),n}},71483:function(t,e,n){function r(t,e){return e&&e.sortRules?[...t].sort((t,n)=>{for(let{value:o,compareFn:a,mode:l}of e.sortRules){var r;let e=o(t),s=o(n);if(null==e&&null==s)continue;if(null==e)return 1;if(null==s)return -1;let c=null!==(r=null==a?void 0:a(e,s,{itemA:t,itemB:n}))&&void 0!==r?r:i(e,s)*("increase"===l?1:-1);if(0!=c)return c}return i(t,n)}):t}function i(t,e){if(o(t)&&!o(e))return -1;if(o(e)&&!o(t))return 1;if(o(t)&&o(e))return 0;if(a(t)&&a(e))return t-e;if(s(t)&&s(e))return Number(t-e);if(l(t)&&l(e))return Number(t)-Number(e);if(c(t)&&c(e)){let n=Number(t),r=Number(e);return isNaN(r)||isNaN(n)?t.localeCompare(e):n-r}return 0}function o(t){return void 0==t&&null==t}function a(t){return"number"==typeof t}function l(t){return"boolean"==typeof t}function s(t){return"bigint"==typeof t}function c(t){return"string"==typeof t}n.d(e,{x:function(){return r}})},56373:function(t,e,n){n.d(e,{B0:function(){return a},EM:function(){return x},FR:function(){return u},GP:function(){return p},SM:function(){return d},Th:function(){return c},Xn:function(){return v},aZ:function(){return g},dJ:function(){return l},dX:function(){return y},eI:function(){return o},fn:function(){return w},h3:function(){return m},l_:function(){return s},tJ:function(){return f}});var r=n(17638),i=n(71483);let o=t=>t===r.DAM.toBase58()?r.YGS.toBase58():t,a=t=>t===r.YGS.toBase58()?r.DAM.toBase58():t,l=t=>t?t.replace(/WSOL/gi,"SOL"):"",s=t=>t?t.replace(/^SOL/gi,"WSOL"):"",c=t=>!!t&&(t.toString()===r.WRY.address||t.toString()===r._Fs.address),u=t=>t.address===r.YGS.toBase58()?{...t,address:r.WRY.address,symbol:r.WRY.symbol,name:r.WRY.name}:t,d=t=>t.address===r.DAM.toBase58()?{...t,address:r._Fs.address,symbol:r._Fs.symbol,name:r._Fs.name}:t,m=t=>{let{mint:e,transformSol:n}=t;return e?(n?l(e.symbol):e.symbol)||e.address.substring(0,6):""},f=t=>{let{mint:e}=t;return e.name||e.address.slice(0,12)},p={chainId:101,address:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",programId:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",logoURI:"https://img-v1.raydium.io/icon/4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R.png",symbol:"RAY",name:"Raydium",decimals:6,tags:[],extensions:{coingeckoId:"raydium"},type:"raydium",priority:2},y=(t,e)=>{let{searchStr:n,skipFn:r}=e||{},o=n?n.trim().toLocaleLowerCase():"",a=[...t];if(o){let e=[];t.forEach(t=>{if((null==r?void 0:r(t))||e[0])return;if(o===t.address.toLocaleLowerCase()){e[0]=[t];return}if(o===t.symbol.toLocaleLowerCase()){e[1]=[...e[1]||[],t];return}let n=t.symbol.toLocaleLowerCase().indexOf(o);n>-1&&(e[n+2]=[...e[n+2]||[],t].sort((t,e)=>e.priority-t.priority))}),e[1]=e[1]?(0,i.x)(e[1],{sortRules:[{value:t=>"raydium"===t.type}]}):e[1],a=e.flat().filter(Boolean)}return a},g=t=>{if(t)return"sol"===t?r._Fs.address:t},x=t=>{if(t)return t===r._Fs.address?"sol":t},h={[r.LA$.toBase58()]:100,[r.q3f.toBase58()]:90,[r.YGS.toBase58()]:80,[r.DAM.toBase58()]:80};function w(t){let e=h[t];return e||0}function v(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(t.slice(0,e),"...").concat(t.slice(-e))}},86221:function(t,e,n){n.d(e,{b:function(){return a},u:function(){return l}});var r=n(17638),i=n(55791),o=n(45808);let a=async()=>{try{let t=await o.ZP.get("https://solanacompass.com/api/fees?cacheFreshTime=".concat(3e5),{timeout:3e3,skipError:!0});return t}catch(t){return}};async function l(){let t=i.qr.getState().getPriorityFee();if(!isNaN(parseFloat(String(t)||"")))return{units:6e5,microLamports:Math.ceil(Number(t)*10**r._Fs.decimals*1e6/6e5)};{var e;let t=await a(),{avg:n}=null!==(e=null==t?void 0:t[15])&&void 0!==e?e:{};if(!n)return;return{units:6e5,microLamports:Math.min(Math.ceil(1e6*n/6e5),25e3)}}}},46675:function(t,e,n){n.d(e,{Z:function(){return r}});async function r(t){let{adapter:e}=t;return e&&"standard"in e&&"fuse:getEphemeralSigners"in e.wallet.features&&e.wallet.features["fuse:getEphemeralSigners"].getEphemeralSigners}},25395:function(t,e,n){n.d(e,{g:function(){return o},s:function(){return a}});var r=n(20474);let i="_r_tx_history_",o=t=>{if(!(0,r.C5)())return!1;let e=localStorage.getItem(i)||"[]",n=[];try{n=JSON.parse(e)}catch(t){localStorage.removeItem(i)}try{let e=n.findIndex(e=>e.txId===t.txId);return e>-1?n[e]={...t,mintInfo:t.mintInfo||[],time:Date.now()}:n.push({...t,mintInfo:t.mintInfo||[],time:Date.now()}),localStorage.setItem(i,JSON.stringify(n)),!0}catch(t){return!1}},a=()=>{if(!(0,r.C5)())return[];let t=localStorage.getItem(i)||"[]";try{return JSON.parse(t).reverse()}catch(t){return[]}}},85736:function(t,e,n){n.d(e,{a:function(){return r}});function r(t){try{var e;if([38,6022].includes(null===(e=t.err)||void 0===e?void 0:e.InstructionError[1].Custom))return!0;return!1}catch(t){return!1}}}}]);