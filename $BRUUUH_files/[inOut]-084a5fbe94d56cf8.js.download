(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36467,99384],{53636:function(e,t,n){"use strict";var s=n(63956),r=n(54423),a=n(93981),i=n(87821),l=n(25546),o=n(29541),c=["currency"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.currency,n=void 0===t||t,s=(0,r.Z)(e,c),d=a.useMemo((function(){return","===l.A5?".":","}),[]);return(0,o.jsx)(i.Z,u(u({displayType:"text",prefix:n?"$":""},s),{},{decimalSeparator:l.A5,thousandSeparator:d}))}},55259:function(e,t,n){"use strict";var s=n(72215),r=n(93981),a=n(24201),i=n(56100),l=n(82625),o=n(69825),c=n(29541);t.Z=function(e){var t=e.onChange,n=e.onBlur,d=e.tokenAddress,u=e.loading,x=e.value,m=e.name,f=e.disabled,v=e.tokenAmountClassname,h=e.usdValueClassname,p=(0,s.Bn)().getTokenInfo,j=r.useRef(null),b=r.useMemo((function(){return p(d)}),[p,d]);return(0,c.jsxs)("div",{className:"flex h-full flex-col text-right",children:[u||!b?(0,c.jsx)(i.O,{className:"ml-2 h-6 w-24 self-end"}):(0,c.jsx)(o.Z,{name:m,className:(0,a.cn)("outline-none",v),decimals:b.decimals,onChange:t,value:x.value,disabled:f,ref:j,onBlur:n}),u?(0,c.jsx)(i.O,{className:"ml-2 mt-0.5 h-4 w-8 self-end"}):null!==x&&void 0!==x&&x.value?(0,c.jsx)("div",{className:(0,a.cn)("text-xs text-white-35"),onClick:function(){var e;return null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.focus()},children:(0,c.jsx)(l.Z,{tokenAddress:d,value:x,className:h})}):null]})}},13246:function(e,t,n){"use strict";var s=n(93981),r=n(72215),a=n(70006),i=n(65670),l=n(59978),o=n(1242),c=n(42082),d=n(69667),u=n(24201),x=n(29541),m=function(e){var t=e.showAllPairs,n=e.currentTokenInfo,s=e.disabled;return(0,x.jsx)("div",{className:"group/select flex items-center justify-between",children:(0,x.jsxs)("button",{disabled:s,type:"button",className:(0,u.cn)("flex h-10 items-center space-x-3 rounded-xl border border-transparent px-3 py-2",s?"cursor-default":"bg-v2-background-page group-hover/select:border-v2-primary/50 group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),onClick:t,children:[(0,x.jsx)("div",{className:"rounded-full",children:(null===n||void 0===n?void 0:n.logoURI)&&(0,x.jsx)(l.Z,{width:24,height:24,info:n})}),(0,x.jsx)("div",{className:"text-sm font-semibold",translate:"no",children:null===n||void 0===n?void 0:n.symbol}),!s&&(0,x.jsx)("div",{className:"fill-current text-white/25 group-hover/select:text-v2-primary",children:(0,x.jsx)(d.Z,{})})]})})},f=function(e){var t=e.showAllPairs,n=e.currentTokenInfo,s=e.disabled;return(0,x.jsx)("div",{className:"flex h-full w-full items-center justify-between rounded-lg",children:(0,x.jsxs)("button",{type:"button",className:(0,u.cn)("flex h-full w-full items-center space-x-3 rounded-xl border border-transparent px-4 pb-4 pt-2",s?"cursor-default":""),onClick:t,children:[(0,x.jsx)("div",{className:"rounded-full",children:(null===n||void 0===n?void 0:n.logoURI)&&(0,x.jsx)(l.Z,{width:24,height:24,info:n})}),(0,x.jsx)("div",{className:"text-base font-semibold",translate:"no",children:null===n||void 0===n?void 0:n.symbol}),!s&&(0,x.jsx)("div",{className:"!ml-auto fill-current text-white/25 group-hover:text-v2-primary",children:(0,x.jsx)(d.Z,{})})]})})};t.Z=function(e){var t=e.fromTokenAddress,n=e.toTokenAddress,l=e.onChange,d=e.name,u=e.modalId,v=e.mintsList,h=e.type,p=e.disabled,j=(0,r.Bn)().getTokenInfo,b=(0,a.JT)(),g=b.openContextualModal,w=b.setContextValue,y=b.ModalContextConsumer,N=b.closeModal,k=(0,c.T)(),C=(0,s.useMemo)((function(){return"fromTokenAddress"===d?t:n}),[t,n,d]),S=(0,s.useMemo)((function(){return j(C)}),[j,C]),Z=function(e){if(e){var s,r;if("fromTokenAddress"===d)n===e.address?(s=e,r=j(t)):(s=e,r=j(n));else t===e.address?(s=j(n),r=e):(s=j(t),r=e);s&&r&&(N(),l("fromTokenAddress"===d?s.address:r.address),k(s,r))}},V=function(){y&&!p&&(w(u,v),g(u,v,(0,x.jsx)(y,{children:function(e){return(0,x.jsx)(i.ZP,{onSubmit:Z,mintsList:e,shouldSortByBalance:"fromTokenAddress"===d,bestTokens:o.KG})}}),{position:"top",noCloseButton:!0}))};return"tokenAndInput"===h?(0,x.jsx)(m,{disabled:p,showAllPairs:V,currentTokenInfo:S}):(0,x.jsx)(f,{disabled:p,showAllPairs:V,currentTokenInfo:S})}},32044:function(e,t,n){"use strict";var s=n(72215),r=(n(93981),n(96404)),a=n(16344),i=n(24201),l=n(29541);t.Z=function(e){var t=e.className,n=e.tokenInfo;if(!(0,s.Os)().connected||!n)return null;var o=n.address;return(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("div",{className:"mb-px fill-current text-white-75",children:(0,l.jsx)(a.Z,{width:12,height:12})}),(0,l.jsxs)("div",{className:(0,i.cn)("whitespace-nowrap text-xs font-normal text-v2-lily/50",t),children:[(0,l.jsx)(r.Z,{mintAddress:o})," ",(0,l.jsx)("span",{children:null===n||void 0===n?void 0:n.symbol})]})]})}},57722:function(e,t,n){"use strict";n.d(t,{Pf:function(){return l},YB:function(){return a},Ye:function(){return i},hl:function(){return o},tc:function(){return d}});var s,r=n(4707),a=2,i=50,l=50,o=.5,c=86400,d=[{id:"minute",name:r.ag._({id:"rEY/kE"}),secondsInPeriod:60},{id:"hour",name:r.ag._({id:"N71Q1g"}),secondsInPeriod:3600},{id:"day",name:r.ag._({id:"/ITcnz"}),secondsInPeriod:c},{id:"week",name:r.ag._({id:"64X6l4"}),secondsInPeriod:604800},{id:"month",name:r.ag._({id:"kY2ll9"}),secondsInPeriod:2592e3}];!function(e){e.DCA="DCA",e.VA="VA"}(s||(s={}))},11681:function(e,t,n){"use strict";var s=n(8473),r=n(4707),a=n(92956),i=n(33118),l=n(99384),o=n(29541);t.Z=function(e){var t=e.loading,n=e.emptyText,c=(0,a.O)().connected;return(0,o.jsx)("div",{className:"flex h-[200px] w-full flex-col items-center justify-center space-y-2 rounded-lg border border-v2-lily/5",children:c?t?(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"mr-2 animate-spin fill-current",children:(0,o.jsx)(l.Z,{width:8,height:8})}),(0,o.jsx)("div",{className:"text-sm text-white/50",children:(0,o.jsx)(s.cC,{id:"gawJ06"})})]}):(0,o.jsx)("div",{className:"text-sm text-white/50",children:n}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-sm text-v2-lily/50",children:r.ag._({id:"9qhV+i"})}),(0,o.jsx)("div",{className:"h-10 w-40",children:(0,o.jsx)(i.Z,{size:"sm"})})]})})}},26260:function(e,t,n){"use strict";var s=n(97620),r=n(93981),a=n(24201),i=n(25546),l=n(30610),o=n(29541);t.Z=function(e){var t=e.className,n=e.children,c=e.data,d=e.rowRenderer,u=e.onChange,x=e.contentClassName,m=e.rowClassName,f=e.filter,v=e.disabled,h=r.useState(!1),p=(0,s.Z)(h,2),j=p[0],b=p[1],g=r.useState(""),w=(0,s.Z)(g,2),y=w[0],N=w[1],k=(0,i.Nr)(y,150),C=r.useMemo((function(){return f&&k?f(c,k):c}),[c,k,f]);return(0,o.jsx)(l.Z,{isOpen:j,onClose:function(){return b(!1)},id:"settings-button",placement:"bottom-start",matchWidth:!0,buttonContent:(0,o.jsx)("button",{type:"button",onClick:function(){return b((function(e){return!e}))},className:(0,a.cn)("flex items-center space-x-2 rounded-lg bg-white/10 py-3 pl-4 pr-5 text-white/75",t),disabled:v,children:n}),buttonContentClassName:"!w-full",popoverContent:(0,o.jsxs)("div",{className:"mt-1 rounded-lg bg-white/10",children:[f?(0,o.jsx)("div",{className:"sticky top-0 flex",children:(0,o.jsx)("input",{placeholder:"Search...",className:"w-full bg-v2-background-dark px-4 py-2 text-sm text-white !outline-none",value:y,onChange:function(e){return N(e.target.value)}})}):null,C.map((function(e,t){return(0,o.jsx)("button",{onClick:function(){u(e),b(!1)},className:(0,a.cn)("flex w-full items-center space-x-2 py-1.5 pl-4 pr-3 text-white/75 first:pt-3 last:pb-3 hover:bg-shark",m),children:d(e)},t)}))]}),contentClassName:(0,a.cn)("!bg-transparent !shadow-none z-50 webkit-scrollbar",x)})}},82625:function(e,t,n){"use strict";var s=n(72215),r=n(93981),a=n(24201),i=n(54566),l=n(29541);t.Z=function(e){var t=e.value,n=e.tokenAddress,o=e.className,c=e.priceType,d=(0,s.Bn)().getTokenInfo,u=r.useMemo((function(){return d(n)}),[d,n]);return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)("div",{className:(0,a.cn)("text-xs font-medium text-white-25",o),children:u&&(0,l.jsx)(i.default,{tokenInfo:u,amount:Number(t.floatValue),priceType:c})}):null})}},99384:function(e,t,n){"use strict";var s=n(29541);t.Z=function(e){var t=e.width,n=void 0===t?12:t,r=e.height,a=void 0===r?12:r;return(0,s.jsxs)("svg",{width:n,height:a,viewBox:"0 0 12 12",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("g",{clipPath:"url(#clip0_841_4053)",children:(0,s.jsx)("path",{d:"M11.6466 4.23513V0.706082L10.4111 1.94156C9.3173 0.741165 7.72912 0 6 0C2.6827 0 0 2.6827 0 6C0 9.3173 2.68203 12 6 12C7.69405 12 9.21142 11.2939 10.3059 10.165L9.31797 9.14128C8.50601 10.0234 7.30561 10.5879 6 10.5879C3.45892 10.5879 1.41216 8.5411 1.41216 6.00002C1.41216 3.45894 3.45892 1.41218 6 1.41218C7.34135 1.41218 8.57615 2.01238 9.42317 2.92954L8.11757 4.23515L11.6466 4.23513Z",fill:"inherit"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_841_4053",children:(0,s.jsx)("rect",{width:"12",height:"12",fill:"white"})})})]})}},82483:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return lt},default:function(){return ot}});var s=n(97620),r=n(72215),a=n(68586),i=n(93981),l=n(70107),o=n(27195),c=n(8857),d=n.n(c),u=n(8473),x=n(4707),m=n(11823),f=n(56720),v=n(28651),h=n(40993),p=n(25224),j=n(75206),b=n(98777),g=n(38272),w=n(11711),y=n(13838),N=n(3011),k=n(72997),C=n(13215),S=n(87821),Z=n(13170),V=n(67420),T=n(90342),I=n(33130),M=n(42082),A=n(69667),P=n(9364),O={refetchId:(0,P.cn)(0),isLoading:(0,P.cn)(!1)},D=n(24201),B=n(25546),F=n(89881),_=n(13246),L=n(32044),H=n(57722),U=n(55259),K=n(33118),q=n(6397),E=n(26260),R=n(62146),W=n(10563),z=n(69825),G=n(95523),Q=n(29541),Y=function(e){var t=e.buttons;return(0,Q.jsx)("div",{className:"flex h-9 items-center rounded-lg bg-uiv2 p-1",children:t.map((function(e){var t=e.onChange,n=e.value,s=e.isSelected;return(0,Q.jsx)("button",{type:"button",onClick:t,className:(0,D.cn)("h-7 w-[75px] lg:w-20","flex flex-row items-center justify-center space-x-2 rounded-lg border border-transparent fill-current font-semibold text-v2-lily/50","p-0.5",s?"!bg-v2-primary/10":""),children:(0,Q.jsx)("span",{className:(0,D.cn)("whitespace-nowrap !text-xxs font-semibold md:!text-xs",s?"text-v2-primary":""),children:n})},"".concat(n,"-button"))}))})},J=function(e){var t=e.title,n=e.active,s=e.onClick;return(0,Q.jsx)("button",{type:"button",onClick:s,className:(0,D.cn)("whitespace-nowrap rounded-2xl border border-transparent px-4 py-2 text-xs text-white/20","hover:!text-v2-primary",{"border-v2-primary/20 bg-v2-primary/5 !text-v2-primary":n}),children:(0,Q.jsx)(u.cC,{id:"pDgeaz",values:{title:t}})})},X=function(){return(0,Q.jsx)("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:(0,Q.jsx)("path",{d:"M4.50199 9.2001C5.9011 9.19955 7.22 8.54806 8.07149 7.43792C8.92239 6.3272 9.20858 4.88472 8.84603 3.53331C8.48348 2.18189 7.51283 1.07615 6.2197 0.541774C4.92716 0.00728354 3.4588 0.103964 2.24759 0.80435C1.03634 1.50419 0.220046 2.72811 0.0382167 4.1151C-0.143612 5.50214 0.329903 6.89527 1.31978 7.88401C2.16299 8.72887 3.30837 9.20238 4.502 9.20019L4.50199 9.2001ZM6.89263 7.09072C6.32848 7.65377 5.58305 7.99874 4.78872 8.06521C3.99441 8.13113 3.20232 7.91415 2.55306 7.45217L7.25136 2.74669C7.71444 3.39653 7.93308 4.18923 7.86715 4.98461C7.80178 5.77947 7.45625 6.526 6.89265 7.09076L6.89263 7.09072ZM2.11135 2.30944C2.6755 1.74639 3.42093 1.40142 4.21525 1.33495C5.00956 1.26903 5.80165 1.48601 6.45092 1.94799L1.75261 6.65459C1.28898 6.0053 1.07035 5.21205 1.13628 4.41668C1.20165 3.6207 1.54717 2.87415 2.11132 2.30954L2.11135 2.30944Z",fill:"inherit"})})},$=n(99384),ee=function(e){var t=e.tabs,n=e.activeTab,s=e.setActiveTab,r=e.isLoading,a=e.refetch,i=e.cancelAllOrderDisabled,l=e.cancelAllOrder,o=e.refreshButtonDisabled,c=e.children,d=e.className;return(0,Q.jsx)("div",{className:(0,D.cn)("flex w-full justify-center",d),children:(0,Q.jsxs)("div",{className:"w-full overflow-hidden",children:[(0,Q.jsxs)("div",{className:"flex flex-row flex-wrap",children:[(0,Q.jsx)("div",{className:"flex items-start justify-start space-x-2 overflow-y-auto",children:t.map((function(e){return(0,Q.jsx)(J,{title:e,active:n===e,onClick:function(){return s(e)}},e)}))}),(0,Q.jsxs)("div",{className:"ml-auto flex justify-end space-x-2 text-xs text-white-50",children:[(0,Q.jsx)("button",{type:"button",className:(0,D.cn)("flex items-center rounded-lg border border-white/10 px-3 py-1.5",o?"!hover:transparent cursor-not-allowed opacity-50":"hover:!border-v2-primary/25 hover:!bg-v2-primary/5 hover:!text-v2-primary"),onClick:a,children:(0,Q.jsx)("div",{className:(0,D.cn)("fill-current",r?"animate-spin":""),children:(0,Q.jsx)($.Z,{width:8,height:8})})}),Boolean(l)?(0,Q.jsxs)("button",{type:"button",className:(0,D.cn)("flex items-center rounded-lg border border-white/10 px-3 py-1.5",i?"cursor-disabled !hover:transparent opacity-50":"hover:!border-[#F74A4A]/25 hover:!bg-[#F74A4A]/5 hover:!text-[#F74A4A]"),disabled:i,onClick:l,children:[(0,Q.jsx)("div",{className:"mr-2 fill-current",children:(0,Q.jsx)(X,{})}),(0,Q.jsx)(u.cC,{id:"lUDY9v"})]}):null]})]}),c]})})},te=n(45009),ne=n(11681),se=n(64508),re=n.n(se),ae=n(3955),ie=n(59978),le=n(40558),oe=n(45462),ce=n(24628),de=n(65558),ue=function(e){var t=e.account,n=e.vaClient,s=e.showUsdcRate,a=e.outputToken,l=e.inputToken,o=(0,r.Bn)().getTokenInfo,c=(0,r.y6)(),d=c.tokenPriceMap,u=c.getUSDValue;i.useEffect((function(){u([l.address,a.address])}),[l,a,u]);var x=i.useMemo((function(){var e,t;return{inputTokenPrice:new y.Z((null===(e=d[l.address])||void 0===e?void 0:e.usd)||0),outputTokenPrice:d[a.address]?new y.Z((null===(t=d[a.address])||void 0===t?void 0:t.usd)||0):void 0}}),[d,a.address,l.address]),m=x.inputTokenPrice,f=x.outputTokenPrice,v=i.useMemo((function(){if(f)return s?f:f.div(m)}),[s,f,m]),h=i.useMemo((function(){return o(Z.cq.toBase58())||(0,ae.Tr)({address:Z.cq.toBase58()})}),[o]),p=t.inUsed,j=t.inDeposited,b=t.inLeft,g=t.incrementUsdcValue,w=t.orderInterval,N=t.outReceived,k=t.outWithdrawn,C=t.estimatedUsdcValueSpent,S=void 0===C?void 0:C,V=t.inWithdrawn,T=i.useMemo((function(){var e=new y.Z(10).pow(l.decimals),t=new y.Z(10).pow(a.decimals),n=new y.Z(10).pow(h.decimals),r=new y.Z(p.toString()).div(e),i=new y.Z(j.toString()).div(e),o=new y.Z(b.toString()).div(e),c=new y.Z(g.toString()).div(n),d=new y.Z(V.toString()).div(e),u=new y.Z(w.toNumber()),x=new y.Z((null===S||void 0===S?void 0:S.toString())||0).div(n),m=new y.Z(N.toString()).div(t),f=(s?x:r).div(m),v=new y.Z(k.toString()).div(t),C=m.minus(v),Z=new y.Z(j.toString()).div(e),T=new y.Z(V.toString()).div(e),I=new y.Z(p.toString()).div(e);return{totalSpent:r,usdcDecimals:n,totalDeposited:i,availableInBalance:o,amountPurchased:m,estimatedUSDCSpent:x,inputTokenWithdrawn:d,incrementValue:c,interval:u,outputDecimals:t,averagePrice:f,availableOutBalance:C,outputTokenWithdrawn:v,inTokenLeft:Z.minus(T).minus(I)}}),[p,j,b,g,w,N,V,S,h,l,a,s,k]),I=T.totalSpent,M=T.totalDeposited,A=T.availableInBalance,P=T.amountPurchased,O=T.estimatedUSDCSpent,D=T.incrementValue,B=T.inputTokenWithdrawn,F=T.interval,_=T.availableOutBalance,L=T.averagePrice,H=T.outputTokenWithdrawn,U=T.inTokenLeft,K=i.useMemo((function(){return v&&"nextOrderAt"in t?1e3*new de.BN(t.nextOrderAt).toNumber()<Date.now()?y.Z.max(n.computeSupposedUIValue(t).minus(P.mul(v)).toFixed(6),new y.Z("0")):y.Z.max(n.computeSupposedUIValue(t).plus(new y.Z(t.incrementUsdcValue.toString()).div("1000000")).minus(P.mul(v)).toFixed(6),new y.Z("0")):null}),[v,t,P,n]),q=i.useMemo((function(){if(v){var e=v.minus(L).mul(P),t=e.div(s?O:I).mul(100),n=e.greaterThanOrEqualTo(new y.Z(0));return{pnl:e,pnlPercentange:t,isProfit:n}}}),[v,L,P,s,O,I]),E=i.useMemo((function(){var e;if(!K)return!1;var t=new y.Z((null===(e=d[l.address])||void 0===e?void 0:e.usd)||0),n=U.mul(t);return K.gt(n)}),[U,K,l,d]);return{isLowBalance:E,pnlDetails:q,estimatedNextBuyValue:K,availableInBalance:A,inTokenLeft:U,currenTokenPrice:v,amountPurchased:P,totalSpent:I,estimatedUSDCSpent:O,averagePrice:L,incrementValue:D,interval:F,totalDeposited:M,inputTokenWithdrawn:B,availableOutBalance:_,outputTokenWithdrawn:H}},xe=n(3082),me=n(12627),fe=n(88381),ve=function(e){var t=e.vaClient,n=e.vaItem,s=e.history,a=e.inverseRate,l=e.setInverseRate,o=(0,xe.useRouter)().query,c=i.useMemo((function(){return"true"===o.debug}),[o.debug]),d=s.inputMint,u=s.outputMint,x=s.inputAmount,m=s.outputAmount,f=s.totalOutputBeforeFill,v=s.txSignature,h=s.confirmedAt,p=s.value,j=(0,r.Bn)().getTokenInfo,b=(0,r.oP)().getExplorer,g=n.account,w=g.firstOrderAt,N=g.orderInterval,k=g.incrementUsdcValue,C=i.useMemo((function(){return{fromTokenInfo:j(d.toString()),toTokenInfo:j(u.toString())}}),[j,d,u]),S=C.fromTokenInfo,Z=C.toTokenInfo,V=i.useMemo((function(){return S?new y.Z(x).div(Math.pow(10,S.decimals)).toString():""}),[S,x]),T=i.useMemo((function(){return{formattedOutAmount:Z?new y.Z(m).div(Math.pow(10,Z.decimals)).toString():"",formattedTotalOutputBeforeFill:Z?new y.Z(f).div(Math.pow(10,Z.decimals)).toString():""}}),[Z,m,f]),I=T.formattedOutAmount,M=T.formattedTotalOutputBeforeFill,A=i.useMemo((function(){return{formattedConfirmedAt:(0,me.Z)(h,"dd MMM y HH:mm"),supposedUiValue:w?t.computeSupposedUIValue(new Date(1e3*w.toNumber()),h,N.toNumber(),k).toFixed():"N/A"}}),[h,t,w,N,k]),P=A.formattedConfirmedAt,O=A.supposedUiValue,D=i.useMemo((function(){return b(v)}),[b,v]),B=i.useMemo((function(){var e=new y.Z(p).div("1000000"),t=Z?new y.Z(m).div(Math.pow(10,Z.decimals)):new y.Z(0),n=Z?new y.Z(e).div(t).toFixed(6):new y.Z(0).toFixed(0),s=new y.Z(M).mul(n),r=s.plus(e);return{uiValue:e.toFixed(6),approxUSDCPrice:n,approxUSDCValueBeforeFill:s.toFixed(6),approxUSDCValueAfterFill:r.toFixed(6)}}),[p,Z,m,M]),F=B.uiValue,_=B.approxUSDCPrice,L=B.approxUSDCValueBeforeFill,H=B.approxUSDCValueAfterFill,U=(0,i.useMemo)((function(){if(!S||!Z)return new y.Z(0);var e=new y.Z(m).div(Math.pow(10,Z.decimals)),t=new y.Z(x).div(Math.pow(10,S.decimals));return e.div(t)}),[S,x,m,Z]);return(0,Q.jsxs)("div",{className:"flex justify-between space-x-4 text-xs",children:[(0,Q.jsxs)("span",{className:"flex w-[80px] items-center space-x-1 text-v2-lily/50",children:[(0,Q.jsx)(fe.ZP,{value:Number(V)}),(0,Q.jsx)(ie.Z,{info:S,width:16,height:16})]}),c?(0,Q.jsx)("span",{className:"flex w-[120px] items-center space-x-1 text-v2-lily/50",children:(0,Q.jsxs)("span",{children:[F," USD"]})}):null,c?(0,Q.jsx)("span",{className:"flex w-[120px] items-center space-x-1 text-v2-lily/50",children:(0,Q.jsxs)("span",{children:[L," USD"]})}):null,c?(0,Q.jsx)("span",{className:"flex w-[120px] items-center space-x-1 text-v2-lily/50",children:(0,Q.jsxs)("span",{children:[H," USD"]})}):null,c?(0,Q.jsx)("span",{className:"flex w-[120px] items-center space-x-1 text-v2-lily/50",children:(0,Q.jsxs)("span",{children:[O," USD"]})}):null,c?(0,Q.jsx)("span",{className:"flex w-[120px] items-center space-x-1 text-v2-lily/50",children:(0,Q.jsxs)("span",{children:[_," USD"]})}):null,(0,Q.jsx)("span",{className:"flex w-[80px] cursor-pointer items-center text-v2-lily/50 hover:text-v2-primary",onClick:function(){return l(!a)},children:U.gt(0)?a?(0,fe.M)({value:+new y.Z(1).div(U).toSignificantDigits(3)}):(0,fe.M)({value:+U.toSignificantDigits(3)}):"N/A"}),(0,Q.jsxs)("span",{className:"flex w-[100px] items-center space-x-1",children:[(0,Q.jsx)(fe.ZP,{value:Number(I)}),(0,Q.jsx)(ie.Z,{info:Z,width:16,height:16})]}),(0,Q.jsx)("span",{className:"flex w-[120px] items-center text-v2-lily/50",children:P}),(0,Q.jsx)("div",{className:"flex w-3 items-center",children:(0,Q.jsx)("a",{href:D,target:"_blank",rel:"noreferrer",className:"h-5 w-3 text-xs text-v2-lily/50 hover:text-v2-primary",children:(0,Q.jsx)(ce.Z,{width:12,height:20})})})]})},he=function(e){var t=e.history,n=e.vaClient,r=e.vaItem,a=(0,xe.useRouter)().query,l=i.useMemo((function(){return"true"===a.debug}),[a.debug]),o=i.useState(!0),c=(0,s.Z)(o,2),d=c[0],u=c[1];return(0,Q.jsxs)("div",{className:"min-h-[300px] bg-history-expanded p-6",children:[(0,Q.jsxs)("div",{className:"flex w-full justify-between space-x-4 text-xs text-v2-lily/50",children:[(0,Q.jsx)("span",{className:"w-[80px]",children:x.ag._({id:"ejVYRQ"})}),l?(0,Q.jsx)("span",{className:"w-[120px]",children:x.ag._({id:"wMHvYH"})}):null,l?(0,Q.jsx)("span",{className:"w-[120px]",children:x.ag._({id:"LnSAvE"})}):null,l?(0,Q.jsx)("span",{className:"w-[120px]",children:x.ag._({id:"vQDsbJ"})}):null,l?(0,Q.jsx)("span",{className:"w-[120px]",children:x.ag._({id:"nBfHls"})}):null,l?(0,Q.jsx)("span",{className:"w-[120px]",children:x.ag._({id:"ebh6b9"})}):null,(0,Q.jsx)("span",{className:"w-[80px]",children:x.ag._({id:"fqDzSu"})}),(0,Q.jsx)("span",{className:"w-[100px]",children:x.ag._({id:"/jQctM"})}),(0,Q.jsx)("span",{className:"w-[120px]",children:x.ag._({id:"nYfwRw"})}),(0,Q.jsx)("div",{className:"w-3"})]}),(0,Q.jsx)("div",{className:"hideScrollbar mt-3 max-h-[300px] space-y-3 overflow-y-auto",children:t&&t.length>0?t.map((function(e){return(0,Q.jsx)(ve,{vaClient:n,vaItem:r,history:e,inverseRate:d,setInverseRate:u},e.txSignature)})):(0,Q.jsx)("div",{className:"mt-4 flex items-center justify-center text-xs text-v2-lily/50",children:x.ag._({id:"7MClw4"})})})]})},pe=n(70006),je=n(91799),be=n(50269),ge=n(99438),we=n(12866),ye=function(e){var t=e.vaItem,n=e.inputToken,a=e.outputToken,c=e.vaClient,f=e.closeModal,p=e.type,j=(0,C.cI)({defaultValues:{fromValue:{floatValue:0,formattedValue:void 0,value:void 0},tokenInfo:n},mode:"onChange"}),b=j.control,k=j.handleSubmit,S=j.setValue,Z=j.formState,V=Z.isSubmitting,M=Z.isValid,P=j.trigger,O=t.publicKey,B=t.account,F=B.inLeft,_=B.outWithdrawn,H=B.outReceived,K=(0,r.FB)(n.address).balance,q=new y.Z(10).pow(n.decimals),R=new y.Z(F.toString()).div(q),W=new y.Z(10).pow(a.decimals),z=new y.Z(H.toString()).div(W),G=new y.Z(_.toString()).div(W),Y=z.minus(G),J="Deposit"===p,X=(0,C.qo)({control:b,name:"tokenInfo"}),$=(0,C.qo)({control:b,name:"fromValue"});(0,i.useEffect)((function(){P()}),[$,P]),i.useEffect((function(){S("fromValue",{floatValue:void 0,formattedValue:"",value:""})}),[X,S]);var ee=(0,r.Os)().publicKey,te=(0,w.NL)(),ne=(0,N.KO)(h.yz),se=(0,s.Z)(ne,1)[0],re=(0,r.Rc)(),ae=(0,I.R3)(),ie=(0,T.gs)().priorityLevel,le=i.useMemo((function(){return n.address===(null===X||void 0===X?void 0:X.address)}),[n,X]),oe=i.useCallback((function(){S("fromValue",le?{floatValue:R.toNumber(),formattedValue:R.toString(),value:R.toString()}:{floatValue:Y.toNumber(),formattedValue:Y.toString(),value:Y.toString()})}),[S,le,Y,R]),ce=i.useCallback(function(){var e=(0,o.Z)(d().mark((function e(t){var s,r,a,i,o,x,m,p,j,b;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=t.fromValue).floatValue||!ee){e.next=18;break}return a=new y.Z(s.floatValue).mul(Math.pow(10,n.decimals)),e.next=5,c.deposit(O,BigInt(a.toFixed(0)),ee,ee);case 5:return i=e.sent,o=i.preInstructions,x=i.depositIx,m=i.postInstructions,e.next=11,re.getLatestBlockhash("confirmed");case 11:return p=e.sent,j=p.blockhash,b=p.lastValidBlockHeight,f(),e.next=17,ae((r=new g.Transaction({feePayer:ee,blockhash:j,lastValidBlockHeight:b})).add.apply(r,[].concat((0,l.Z)(o),[x],(0,l.Z)(m))),{blockhash:j,lastValidBlockHeight:b,idl:v.xO,idlProgramId:new g.PublicKey(v.MG["mainnet-beta"])},{successMessage:(0,Q.jsx)(u.cC,{id:"++OGth"}),submittingMessage:(0,Q.jsx)(u.cC,{id:"d3kTdQ"}),errorMessage:(0,Q.jsx)(u.cC,{id:"d47x3q"}),referenceFee:"MEDIUM"===ie?se.va.m:"HIGH"===ie?se.va.h:"VERY_HIGH"===ie?se.va.vh:void 0,minimumFee:h.uo,requestComputeBudgetLimit:3e5});case 17:te.invalidateQueries({queryKey:["va"]});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,O,ae,ie,se,re,te,ee,n,f]),de=i.useCallback(function(){var e=(0,o.Z)(d().mark((function e(t){var n,s,r,a,i,o,x;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.fromValue).floatValue||!ee){e.next=15;break}return r=new y.Z(n.floatValue).mul(Math.pow(10,X.decimals)),e.next=5,c.withdraw(ee,ee,O,new g.PublicKey(X.address),!0,BigInt(r.toFixed(0)));case 5:return a=e.sent,e.next=8,re.getLatestBlockhash("confirmed");case 8:return i=e.sent,o=i.blockhash,x=i.lastValidBlockHeight,f(),e.next=14,ae((s=new g.Transaction({feePayer:ee,blockhash:o,lastValidBlockHeight:x})).add.apply(s,(0,l.Z)(a)),{blockhash:o,lastValidBlockHeight:x,idl:v.xO,idlProgramId:new g.PublicKey(v.MG["mainnet-beta"])},{successMessage:(0,Q.jsx)(u.cC,{id:"DP/xYv",values:{0:n.floatValue,1:X.symbol}}),submittingMessage:(0,Q.jsx)(u.cC,{id:"Kop9nr"}),errorMessage:(0,Q.jsx)(u.cC,{id:"DKxsWs"}),referenceFee:"MEDIUM"===ie?se.va.m:"HIGH"===ie?se.va.h:"VERY_HIGH"===ie?se.va.vh:void 0,minimumFee:h.uo,requestComputeBudgetLimit:3e5});case 14:te.invalidateQueries({queryKey:["va"]});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,re,ae,ie,ee,te,se,c,O,X]),ue=i.useCallback((function(){var e=new y.Z(K);S("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[S,K]),xe=i.useCallback((function(e){S("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[S]);return(0,Q.jsx)("div",{className:(0,D.cn)("w-[350px] rounded-2xl md:w-[500px]"),children:(0,Q.jsxs)("form",{onSubmit:k(J?ce:de),className:"flex h-full flex-1 flex-col justify-center",children:[(0,Q.jsxs)("div",{className:"flex items-center justify-between p-6 text-lg font-semibold text-v2-lily",children:[(0,Q.jsx)(u.cC,{id:"J/hVSQ",values:{0:J?"Deposit":"Withdraw"}}),(0,Q.jsx)("div",{className:"cursor-pointer text-v2-lily/25",onClick:f,children:(0,Q.jsx)(we.Z,{width:15,height:15})})]}),(0,Q.jsxs)("div",{className:"flex flex-col gap-2 p-5",children:[(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("div",{className:"text-xs font-semibold text-v2-lily md:text-sm",children:(0,Q.jsx)(u.cC,{id:"s66KOo",values:{0:J?"deposit":"withdraw"}})}),(0,Q.jsx)("div",{className:"flex gap-2",children:J?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{className:"flex cursor-pointer items-center space-x-1 whitespace-nowrap text-xs font-normal text-v2-lily/50 hover:text-v2-lily",onClick:ue,children:(0,Q.jsx)(L.Z,{tokenInfo:X,className:"hover:text-v2-lily"})}),(0,Q.jsx)(m.oi,{mint:X.address,onBalanceChange:xe,className:"bg-[#151A20]"})]}):(0,Q.jsx)("span",{className:"cursor-pointer text-sm font-semibold text-v2-lily/50 hover:text-v2-primary",onClick:oe,children:le?(0,Q.jsxs)(Q.Fragment,{children:[R.toFixed(n.decimals)," ",n.symbol]}):(0,Q.jsxs)(Q.Fragment,{children:[Y.toFixed(a.decimals)," ",a.symbol]})})})]}),(0,Q.jsxs)("div",{className:"relative flex flex-col space-y-2",children:[!J&&(0,Q.jsx)(C.Qr,{control:b,name:"tokenInfo",render:function(e){var t,s=e.field,r=s.onChange,i=s.value;return(0,Q.jsx)("div",{className:(0,D.cn)("flex h-[56px] w-full items-center rounded-xl bg-[#151A20] px-2","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,Q.jsxs)(E.Z,{onChange:r,className:"flex w-full justify-between !bg-transparent !px-3 !py-1 text-sm !text-v2-lily",data:[n,a],value:i,rowRenderer:function(e){var t;return(0,Q.jsxs)("div",{className:"flex w-full items-center space-x-3",children:[(0,Q.jsx)("img",{src:null!==(t=e.logoURI)&&void 0!==t?t:void 0,alt:"",className:"h-6 w-6 shrink-0 object-contain"}),(0,Q.jsx)("p",{className:"text-sm font-semibold text-white",children:null===e||void 0===e?void 0:e.symbol})]})},children:[(0,Q.jsxs)("div",{className:"flex w-full items-center space-x-3",children:[(0,Q.jsx)("img",{src:null!==(t=X.logoURI)&&void 0!==t?t:void 0,alt:"",className:"h-6 w-6 shrink-0 rounded-2xl object-contain"}),(0,Q.jsx)("div",{children:X.symbol})]}),(0,Q.jsx)("div",{className:"ml-auto fill-current text-white/25 group-hover/select:text-[#00D1DF]",children:(0,Q.jsx)(A.Z,{})})]})})}}),(0,Q.jsx)(C.Qr,{control:b,name:"fromValue",rules:{validate:function(e){if(!e.floatValue)return!1;if(J){if(e.floatValue>Number(K)||0===e.floatValue||void 0===e.floatValue)return x.ag._({id:"lHBCPn",values:{0:n.symbol,balance:K}})}else{var t=le?R:Y;if(e.floatValue>t.toNumber())return x.ag._({id:"k6z/IS"})}}},render:function(e){var t=e.field,s=t.value,r=t.onBlur,a=t.onChange,i=e.fieldState.error;return(0,Q.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,Q.jsx)("div",{className:(0,D.cn)("h-[56px] rounded-xl border border-transparent bg-[#151A20] p-4","w-full focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,Q.jsx)(U.Z,{value:s,onBlur:r,onChange:a,tokenAddress:n.address,name:"fromValue"})}),null!==i&&void 0!==i&&i.message?(0,Q.jsx)("span",{className:"mt-1 text-right text-xs text-perps-red",children:i.message}):null]})}})]}),(0,Q.jsx)(ge.Z,{disabled:!M,className:"!bg-[#0F1216]",loading:V,children:(0,Q.jsx)(u.cC,{id:"J/hVSQ",values:{0:J?"Deposit":"Withdraw"}})})]})]})})},Ne=function(e){var t=e.vaItem,n=e.inputToken,a=e.outputToken,c=e.vaClient,m=e.hideButtons,f=(0,xe.useRouter)().query,y=i.useMemo((function(){return"true"===f.debug}),[f.debug]),k=(0,r.Os)().publicKey,C=(0,r.Bn)().connection,S=(0,I.R3)(),V=(0,pe.JT)(),M=V.openModal,A=V.closeModal,P=(0,w.NL)(),O=(0,N.KO)(h.yz),F=(0,s.Z)(O,1)[0],_=(0,T.gs)().priorityLevel,L=i.useState(!0),H=(0,s.Z)(L,2),U=H[0],K=H[1],q=t.account,E=t.publicKey,R=q.inputMint,W=q.inLeft,z=q.outReceived,G=q.outWithdrawn,Y=q.outputMint,J=q.createdAt,X=ue({account:q,vaClient:c,showUsdcRate:U,inputToken:n,outputToken:a}),$=X.isLowBalance,ee=X.pnlDetails,te=X.averagePrice,ne=X.estimatedUSDCSpent,se=X.totalSpent,re=X.currenTokenPrice,ae=X.amountPurchased,oe=X.availableInBalance,ce=X.availableOutBalance,fe=X.estimatedNextBuyValue,ve=X.incrementValue,he=X.interval,ge=X.outputTokenWithdrawn,we=X.inputTokenWithdrawn,Ne=X.totalDeposited,ke=(0,i.useCallback)((0,o.Z)(d().mark((function e(){var t,s,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,k&&E){e.next=3;break}return e.abrupt("return");case 3:if(t=new g.Transaction,!W.gt(new de.BN(0))){e.next=13;break}return e.t0=t.add,e.t1=t,e.t2=l.Z,e.next=10,c.withdraw(k,k,E,R,!0,void 0,void 0,(0,p.kL)(n)?b.nA:j.H_);case 10:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 13:if(!z.sub(G).gt(new de.BN(0))){e.next=22;break}return e.t5=t.add,e.t6=t,e.t7=l.Z,e.next=19,c.withdraw(k,k,E,Y,!0,void 0,void 0,(0,p.kL)(a)?b.nA:j.H_);case 19:e.t8=e.sent,e.t9=(0,e.t7)(e.t8),e.t5.apply.call(e.t5,e.t6,e.t9);case 22:return e.t10=t,e.next=25,c.close(k,E);case 25:return e.t11=e.sent,e.t10.add.call(e.t10,e.t11),e.next=29,C.getLatestBlockhash("confirmed");case 29:return s=e.sent,r=s.blockhash,i=s.lastValidBlockHeight,t.recentBlockhash=r,t.lastValidBlockHeight=i,t.feePayer=k,e.next=37,S(t,{blockhash:r,lastValidBlockHeight:i,idl:v.xO,idlProgramId:new g.PublicKey(v.MG["mainnet-beta"])},{errorMessage:x.ag._({id:"YQF2ps"}),submittingMessage:x.ag._({id:"YKgQD4"}),successMessage:x.ag._({id:"NcHf51"}),referenceFee:"MEDIUM"===_?F.va.m:"HIGH"===_?F.va.h:"VERY_HIGH"===_?F.va.vh:void 0,minimumFee:h.uo,requestComputeBudgetLimit:3e5});case 37:P.invalidateQueries({queryKey:["va"]}),e.next=43;break;case 40:e.prev=40,e.t12=e.catch(0),console.log({e:e.t12});case 43:case"end":return e.stop()}}),e,null,[[0,40]])}))),[P,W,C,R,Y,_,E,k,F,S,c,z,G,n,a]),Ce=i.useMemo((function(){return n.address.toString()===Z.cq.toString()}),[n]),Se=i.useCallback((function(){K(!U)}),[U]),Ze=i.useMemo((function(){return n.decimals}),[n]),Ve=i.useMemo((function(){return Ce||U?"USDC":n.symbol}),[U,Ce,n]),Te=function(e){return M((0,Q.jsx)(ye,{inputToken:n,outputToken:a,vaClient:c,vaItem:t,closeModal:A,type:e}))},Ie=i.useMemo((function(){if(y&&"firstOrderAt"in q)return{debugFirstOrderDate:(0,me.Z)(1e3*new de.BN(q.firstOrderAt).toNumber(),"dd MMM y HH:mm:ss"),debugSecondAfterFirstOrder:Math.round(Date.now()/1e3-q.firstOrderAt.toNumber()),debugNumberOfOrders:c.computeSupposedNumberOfOrders(q),debugSupposedUIValue:c.computeSupposedUIValue(q).toFixed(0),debugCurrentInvestedValue:re?ae.mul(re).toString():void 0,debugSupposedInvestValue:re?c.computeSupposedUIValue(q).minus(ae.mul(re)).toString():void 0}}),[q,c,re,ae,y]);return(0,Q.jsxs)("div",{className:"bg-history-expanded p-6 text-xs",children:[(0,Q.jsxs)("div",{className:"space-y-2 rounded-lg border border-v2-lily/5 bg-v2-lily/5 p-5",children:[(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"vVCmxH"})}),(0,Q.jsxs)("span",{className:"text-v2-lily/[.75]",children:[se.toString()," ",n.symbol," ",R.equals(Z.cq)?"":(0,Q.jsxs)(Q.Fragment,{children:["/ ",(0,Q.jsxs)("span",{className:"italic",children:["~",ne.toFixed(2)," USDC"]})]})]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"8DIDYI"})}),(0,Q.jsxs)("span",{className:"text-v2-lily/[.75]",children:[ae.toString()," ",a.symbol]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"9enJiG"})}),te.isNaN()?(0,Q.jsx)(Q.Fragment,{children:"-"}):(0,Q.jsx)("span",{className:"cursor-pointer text-v2-lily/[.75] hover:text-v2-primary",onClick:Se,children:(0,Q.jsxs)(Q.Fragment,{children:[te.toFixed(Ze)," ",Ve]})})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"cb5PbI",values:{0:a.symbol}})}),(0,Q.jsx)("span",{className:"cursor-pointer text-v2-lily/[.75] hover:text-v2-primary",onClick:Se,children:re?(0,Q.jsxs)(Q.Fragment,{children:[re.toFixed(Ze)," ",Ve]}):(0,Q.jsx)(u.cC,{id:"fj5byd"})})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"OaBqjF"})}),ee?(0,Q.jsx)(Q.Fragment,{children:ee.pnl.isNaN()?(0,Q.jsx)(Q.Fragment,{children:"-"}):(0,Q.jsxs)("span",{className:(0,D.cn)("cursor-pointer",ee.isProfit?"text-perps-green":"text-perps-red"),onClick:Se,children:[ee.pnl.toFixed(Ze)," ",Ve," /"," ",ee.pnlPercentange.isNaN()?(0,Q.jsx)(Q.Fragment,{children:"-"}):ee.pnlPercentange.toFixed(2),"%"]})}):(0,Q.jsx)("div",{className:"text-v2-lily/[.75]",children:(0,Q.jsx)(u.cC,{id:"fj5byd"})})]})]}),(0,Q.jsxs)("div",{className:"mt-5 space-y-3 text-v2-lily/30",children:[(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"oS2F65"})}),(0,Q.jsxs)("div",{className:"flex space-x-1",children:[(0,Q.jsx)(ie.Z,{info:a,width:16,height:16}),(0,Q.jsx)("span",{children:a.symbol})]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"bMrdQu"})}),(0,Q.jsxs)("span",{children:[ve.toString()," USD"]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"0Xa99f"})}),(0,Q.jsx)("span",{children:x.ag._({id:"czuIvq",values:{0:(0,B.FM)(he.toNumber())}})})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"88kg0+"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:(0,me.Z)(1e3*new de.BN(J).toNumber(),"dd MMM y HH:mm:ss")})]}),"nextOrderAt"in q?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"bV0wGI"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:(0,me.Z)(1e3*new de.BN(q.nextOrderAt).toNumber(),"dd MMM y HH:mm:ss")})]}):null,fe?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"Fn7xQn"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:"".concat(fe," USD")})]}):null,null!==Ie&&void 0!==Ie&&Ie.debugFirstOrderDate?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"Zb0Pgx"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:Ie.debugFirstOrderDate})]}):null,null!==Ie&&void 0!==Ie&&Ie.debugSecondAfterFirstOrder?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"Nm9X6x"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:Ie.debugSecondAfterFirstOrder})]}):null,null!==Ie&&void 0!==Ie&&Ie.debugNumberOfOrders?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"556Gyt"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:Ie.debugNumberOfOrders})]}):null,null!==Ie&&void 0!==Ie&&Ie.debugSupposedUIValue?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"LkrbL6"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:Ie.debugSupposedUIValue})]}):null,null!==Ie&&void 0!==Ie&&Ie.debugCurrentInvestedValue?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"n12HiX"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:Ie.debugCurrentInvestedValue})]}):null,null!==Ie&&void 0!==Ie&&Ie.debugSupposedInvestValue?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"ne/fL9"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:Ie.debugSupposedInvestValue})]}):null,y&&"isStale"in q?(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"1ba70W"})}),(0,Q.jsx)("div",{className:"flex space-x-1",children:q.isStale?"yes":"no"})]}):null,(0,Q.jsx)(je.Z,{}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"2r2h/U"})}),(0,Q.jsxs)("span",{children:[Ne.toString()," ",n.symbol]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"D+JTK+"})}),(0,Q.jsxs)("span",{children:[we.toString()," ",n.symbol]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{}),(0,Q.jsxs)("span",{children:[ge.toString()," ",a.symbol]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:x.ag._({id:"acvFCG"})}),(0,Q.jsxs)("div",{className:"flex gap-1",children:[(0,Q.jsxs)("span",{children:[oe.toString()," ",n.symbol]}),$&&(0,Q.jsxs)("span",{className:"flex items-center text-warning",children:[(0,Q.jsx)(u.cC,{id:"cqsPzh"}),(0,Q.jsx)(le.Z,{variant:"dark",offset:[16,2.5],content:(0,Q.jsx)("span",{className:"flex max-w-[10rem] rounded-lg text-xs text-white-75",children:(0,Q.jsx)(u.cC,{id:"1BIgiV",values:{0:n.symbol}})}),children:(0,Q.jsx)("div",{className:"ml-1 flex items-center fill-current text-white/30",children:(0,Q.jsx)(be.Z,{height:12,width:12,color:"#FAA63C"})})})]})]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{}),(0,Q.jsxs)("span",{children:[ce.toString()," ",a.symbol]})]})]}),!m&&(0,Q.jsxs)("div",{className:"mt-6 flex w-full flex-col space-y-2",children:[(0,Q.jsxs)("div",{className:"mb-2 flex gap-4",children:[(0,Q.jsx)("button",{onClick:function(){return Te("Deposit")},type:"button",className:"from-[rgba(199,242,132,1))] w-full rounded-lg border border-v2-lily/10 bg-[#121D28] to-[rgba(0,190,240,1)] px-4 py-1.5 text-sm text-white hover:border hover:border-v2-primary hover:bg-v2-primary/5 hover:bg-gradient-to-r",children:x.ag._({id:"kj3M8S"})}),(0,Q.jsx)("button",{onClick:function(){return Te("Withdraw")},type:"button",className:"from-[rgba(199,242,132,1))] w-full rounded-lg border border-v2-lily/10 bg-[#121D28] to-[rgba(0,190,240,1)] px-4 py-1.5 text-sm text-white hover:border hover:border-v2-primary hover:bg-v2-primary/5 hover:bg-gradient-to-r",children:x.ag._({id:"OsyKSt"})})]}),(0,Q.jsx)("button",{onClick:ke,type:"button",className:"from-[rgba(199,242,132,1))] w-full rounded-lg border border-v2-lily/10 bg-[#121D28] to-[rgba(0,190,240,1)] px-4 py-1.5 text-sm text-white hover:border hover:border-v2-primary hover:bg-v2-primary/5 hover:bg-gradient-to-r",children:W.gt(new de.BN(0))?x.ag._({id:"GPQ1MS"}):x.ag._({id:"iF8n53"})})]})]})},ke=function(e){var t=e.vaItem,n=e.vaClient,a=e.isClosedVA,l=(0,i.useState)(!1),o=l[0],c=l[1],d=(0,i.useState)("Overview"),m=d[0],f=d[1],v=(0,N.KO)(O.refetchId),h=(0,s.Z)(v,1)[0],p=(0,r.Os)().publicKey,j=(0,r.Bn)().getTokenInfo,b=(0,M.T)(),g=t.account,w=t.publicKey,y=g.inputMint,k=g.outputMint,C=(0,r.oP)().getExplorer,S=(0,i.useMemo)((function(){return C(w.toString(),"account")}),[C,w]),Z=j(y.toString())||(0,ae.Tr)({address:y.toString()}),V=j(k.toString())||(0,ae.Tr)({address:k.toString()}),T=ue({account:g,vaClient:n,showUsdcRate:!0,inputToken:Z,outputToken:V}),I=T.isLowBalance,P=T.pnlDetails,F=T.inTokenLeft,_=(0,te.a)(["va-fill-history",null===p||void 0===p?void 0:p.toString(),w.toString(),h],(function(){return w?n.getFillHistory(w):[]}),{keepPreviousData:!0}).data,L=(0,i.useCallback)((function(e){e.stopPropagation(),b(Z,V)}),[Z,V,b]);return(0,Q.jsxs)("div",{className:"mb-2 rounded-lg bg-dca-item",children:[(0,Q.jsxs)("button",{className:"flex h-[64px] w-full items-center justify-between px-2 text-xs md:grid md:grid-cols-3 md:px-4",onClick:function(){return c((function(e){return!e}))},children:[(0,Q.jsxs)("div",{className:"flex basis-2/12 items-center space-x-1 text-left md:space-x-2",children:[(0,Q.jsx)(le.Z,{content:x.ag._({id:"Yyubcm"}),children:(0,Q.jsxs)("button",{onClick:function(e){L(e)},className:"group/tokens flex cursor-pointer items-center -space-x-2",children:[(0,Q.jsx)("div",{className:"rounded-full border border-transparent group-hover/tokens:border-v2-primary/50 group-hover/tokens:shadow-swap-input-dark",children:(0,Q.jsx)(ie.Z,{info:Z,height:20,width:20})}),(0,Q.jsx)("div",{className:"rounded-full border border-transparent group-hover/tokens:border-v2-primary/50 group-hover/tokens:shadow-swap-input-dark",children:(0,Q.jsx)(ie.Z,{info:V,height:20,width:20})})]})}),(0,Q.jsxs)("div",{className:"flex items-center justify-center space-x-1.5 text-xxs text-white sm:text-xs",children:[(0,Q.jsx)("span",{children:Z.symbol}),(0,Q.jsx)("div",{className:"fill-current text-v2-lily/50",children:(0,Q.jsx)(oe.Z,{width:10,height:10})}),(0,Q.jsx)("span",{children:V.symbol})]}),(0,Q.jsx)(re(),{href:S,target:"_blank",className:"text-v2-lily/50 hover:text-v2-primary",children:(0,Q.jsx)(ce.Z,{width:12,height:20})})]}),(0,Q.jsxs)("div",{children:[(!I||!(0,B.tq)())&&(0,Q.jsxs)("div",{className:"text-white/[.75]",children:[F.toString()," ",Z.symbol]}),I&&!a&&(0,Q.jsx)("div",{className:"text-warning",children:(0,Q.jsx)(u.cC,{id:"QOu+Km"})})]}),(0,Q.jsxs)("div",{className:"flex justify-end space-x-4 sm:min-w-[170px]",children:[P?(0,Q.jsx)("div",{children:P.pnl.isNaN()?(0,Q.jsx)("div",{className:"px-2 text-v2-lily/[.75]",children:"-"}):(0,Q.jsxs)("div",{className:(0,D.cn)("flex gap-1",P.isProfit?"text-perps-green":"text-perps-red"),children:[(0,B.tq)()?null:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("span",{children:[P.pnl.toFixed(2)," USDC"]}),(0,Q.jsx)("span",{children:"/"})]}),(0,Q.jsxs)("span",{children:[P.pnlPercentange.isNaN()?(0,Q.jsx)(Q.Fragment,{children:"-"}):P.pnlPercentange.toFixed(2),"%"]})]})}):(0,Q.jsx)("div",{className:"px-2 text-v2-lily/[.75]",children:(0,Q.jsx)(u.cC,{id:"fj5byd"})}),(0,Q.jsx)("div",{className:(0,D.cn)(["mr-2 fill-current text-v2-lily/[.35]",o?"":"-rotate-90"]),children:(0,Q.jsx)(A.Z,{width:8,height:8})})]})]}),(0,Q.jsxs)("div",{className:(0,D.cn)("overflow-hidden rounded-b-lg bg-dca-item transition-max-height duration-200",o?"animate-fade-in":"max-h-0 animate-fade-out"),children:[(0,Q.jsxs)("div",{className:"flex space-x-2 px-2 text-sm md:space-x-4 md:px-4",children:[(0,Q.jsx)("button",{type:"button",onClick:function(){return f("Overview")},className:(0,D.cn)("border-b-2 border-transparent p-3 text-v2-lily/50","Overview"===m?"border-b-v2-primary font-semibold text-white":""),children:x.ag._({id:"6/dCYd"})}),(0,Q.jsx)("button",{type:"button",onClick:function(){return f("Orders")},className:(0,D.cn)("border-b-2 border-transparent p-3 text-v2-lily/50","Orders"===m?"border-b-v2-primary font-semibold text-white":""),children:(0,Q.jsx)(u.cC,{id:"TciGqZ",values:{0:null!==_&&void 0!==_&&_.length?"(".concat(null===_||void 0===_?void 0:_.length,")"):""}})})]}),"Overview"===m?(0,Q.jsx)(Ne,{vaItem:t,inputToken:Z,outputToken:V,vaClient:n,hideButtons:a}):null,"Orders"===m?(0,Q.jsx)(he,{history:_,vaClient:n,vaItem:t}):null]})]})},Ce=function(e){var t=e.vaClient,n=(0,r.Os)().publicKey,a=(0,N.KO)(O.refetchId),l=(0,s.Z)(a,1)[0],c=(0,N.KO)(O.isLoading),x=(0,s.Z)(c,2),m=x[0],f=x[1],v=(0,r.gZ)().fetchTokenAccounts,h=(0,te.a)(["va",null===n||void 0===n?void 0:n.toString(),l],(0,o.Z)(d().mark((function e(){var s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}return e.abrupt("return",[]);case 3:return f(!0),e.next=6,t.getCurrentByUser(n);case 6:return s=e.sent,e.abrupt("return",s.sort((function(e,t){return t.account.createdAt.toNumber()-e.account.createdAt.toNumber()})));case 8:return e.prev=8,f(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,,8,11]])}))),{keepPreviousData:!0}).data;return(0,i.useEffect)((function(){if(h){var e=new Set(h.flatMap((function(e){return[e.account.outputMint.toString(),e.account.inputMint.toString()]})));v(Array.from(e))}}),[h,v]),(0,Q.jsxs)("div",{className:"relative mt-3",children:[h&&h.length>0?(0,Q.jsx)("div",{className:"hideScrollbar w-full overflow-x-auto border-white/5",children:h&&(null===h||void 0===h?void 0:h.map((function(e){return(0,Q.jsx)(ke,{vaItem:e,vaClient:t},e.publicKey.toString())})))}):null,h&&h.length>0&&m?(0,Q.jsx)("div",{className:"absolute inset-y-0 left-0 min-h-[620px] w-full bg-black/10 backdrop-blur-sm"}):null,h&&0===h.length&&(0,Q.jsx)(ne.Z,{loading:m,emptyText:(0,Q.jsx)(u.cC,{id:"14NA+n"})})]})},Se=n(56100),Ze=function(e){var t=e.vaClient,n=(0,r.Os)().publicKey,a=(0,N.KO)(O.refetchId),i=(0,s.Z)(a,1)[0],l=(0,N.KO)(O.isLoading),c=(0,s.Z)(l,2),x=c[0],m=c[1],f=(0,te.a)(["vaClosed",null===n||void 0===n?void 0:n.toString(),i],(0,o.Z)(d().mark((function e(){var s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m(!0),n){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,t.getClosedByUser(n);case 6:return s=e.sent,e.abrupt("return",s);case 8:return e.prev=8,m(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,,8,11]])}))),{keepPreviousData:!0}).data;return(0,Q.jsxs)("div",{className:"relative mt-3",children:[x&&!f&&(0,Q.jsx)(Se.O,{className:"mt-2"}),f&&f.length>0?(0,Q.jsx)("div",{className:"hideScrollbar mt-3 w-full overflow-x-auto border-white/5",children:f&&(null===f||void 0===f?void 0:f.map((function(e){return e?(0,Q.jsx)(ke,{vaItem:e,vaClient:t,isClosedVA:!0},e.publicKey.toString()):null})))}):null,f&&f.length>0&&x?(0,Q.jsx)("div",{className:"absolute left-0 top-0 min-h-[620px] w-full bg-black/10 backdrop-blur-sm"}):null,f&&0===f.length&&(0,Q.jsx)(ne.Z,{loading:x,emptyText:(0,Q.jsx)(u.cC,{id:"14NA+n"})})]})},Ve=n(67768),Te=n(57917),Ie=n(37124),Me=function(e){var t=e.loading,n=e.disabled,s=e.isAccountFrozen,r=e.toastId,a=e.isToken2022,l=e.hasEnoughBalance,o=(0,i.useState)(""),c=o[0],d=o[1],x=(0,i.useState)(null),m=x[0],f=x[1],v=(0,Te.kH)(r),h=v.isProcessing,p=v.isTxProcessed,j=v.isWaitingWalletToSign,b=(0,i.useCallback)((function(e){d("opacity-0"),setTimeout((function(){f(e),d("opacity-100")}),200)}),[]),g=(0,i.useMemo)((function(){return a?(0,Q.jsx)(u.cC,{id:"4vEY9N"}):l?!!s&&(0,Q.jsx)(u.cC,{id:"DtetjN"}):(0,Q.jsx)(u.cC,{id:"znqB4T"})}),[a,l,s]);return(0,i.useEffect)((function(){b(t?p?(0,Q.jsx)(u.cC,{id:"zisYnV"}):j?(0,Q.jsx)(u.cC,{id:"fNEu19"}):h?(0,Q.jsx)(u.cC,{id:"vrnnn9"}):(0,Q.jsx)(u.cC,{id:"S+De3s"}):(0,Q.jsx)(u.cC,{id:"Gyxbvb"}))}),[t,h,p,j,b]),(0,Q.jsx)(Ie.Z,{disabled:n||t,loading:t,type:"submit",children:(0,Q.jsx)("span",{className:(0,Ve.cn)("duration-200",c),children:g?(0,Q.jsx)(u.cC,{id:"0ZecgP",values:{shouldShowError:g}}):m})})},Ae=n(53636),Pe=n(28940),Oe=n(55948),De=n(43723),Be=function(e){var t=e.fromValue,n=e.fromTokenInfo,s=e.toTokenInfo,r=e.increaseBy,a=e.intervalNumber,i=e.period,l=e.startAt,o=(0,Pe.Z)(),c=o.showSummary,d=o.toggleSummary;return(0,Q.jsxs)("div",{className:"w-full",children:[(0,Q.jsx)("div",{className:"mb-4 mt-3 flex items-center justify-center",children:(0,Q.jsxs)("button",{type:"button",onClick:d,className:"flex cursor-pointer items-center space-x-2 text-white/25 hover:text-v2-primary",children:[(0,Q.jsx)("div",{className:"flex h-4 w-4 items-center fill-current",children:c?(0,Q.jsx)(De.Z,{}):(0,Q.jsx)(Oe.Z,{})}),(0,Q.jsx)("span",{className:"text-xs font-medium",children:(0,Q.jsx)(u.cC,{id:"qZG5kl"})})]})}),c&&(0,Q.jsx)("div",{className:"mt-3 w-full rounded-lg border border-v2-lily/10 p-5 text-xs",children:(0,Q.jsxs)("div",{className:"space-y-1",children:[(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"Du/eK3"})}),(0,Q.jsxs)("span",{className:"text-white/[.75]",children:[(0,Q.jsx)(Ae.Z,{currency:!1,value:t.floatValue||"-"})," ",null===n||void 0===n?void 0:n.symbol]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"GtPYOF"})}),(0,Q.jsx)("span",{className:"text-white/[.75]",children:null===s||void 0===s?void 0:s.symbol})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"zyOaUi"})}),(0,Q.jsxs)("span",{className:"text-white/[.75]",children:[(0,Q.jsx)(Ae.Z,{currency:!1,value:r.floatValue||"-"})," ","USD"]})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"CRsuq4"})}),(0,Q.jsx)("span",{className:"text-white/[.75]",children:"".concat(a.floatValue," ").concat(i)})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"WAjFYI"})}),(0,Q.jsx)("span",{className:"text-white/[.75]",children:l?(0,me.Z)(l,"d, MMM y, p"):"Now"})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{className:"text-white/50",children:x.ag._({id:"J3lhKT"})}),(0,Q.jsx)("span",{className:"font-bold text-v2-primary",children:"0.1%"})]}),(0,Q.jsxs)("div",{className:"bg-black/15 mt-3 rounded-lg border border-white/[.15] bg-white/5 px-4 py-3 text-xs text-white/75",children:[(0,Q.jsx)(u.cC,{id:"egVHzO"}),(0,Q.jsx)("a",{className:"ml-1 cursor-pointer underline",href:"https://station.jup.ag/guides/va/how-va-work",target:"_blank",children:x.ag._({id:"zwWKhA"})})]})]})})]})},Fe=n(63956);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,Fe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=function(e){var t=e.incrementAmount,n=e.toTokenAddress,s=i.useMemo((function(){var e=new Date;return new URLSearchParams({address:n,type:"1D",time_to:(e.getTime()/1e3).toFixed(0),time_ago:"SIX_MONTHS",round_off_epoch:"300"})}),[n]),r=(0,te.a)(["va_back_test",s.toString()],(0,o.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://birdeye-proxy.jup.ag/defi/ohlcv","?").concat(s.toString()));case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("HTTP ERROR");case 6:return e.next=8,t.json();case 8:return n=e.sent,r=n.data.items,e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),{keepPreviousData:!0}),a=r.data,l=r.isFetching;return{data:i.useMemo((function(){if(a&&0!==a.length&&0!==t){var e=[],n=new y.Z(0),s=new y.Z(0),r=new y.Z(0),i=0;a.forEach((function(a){r=r.add(new y.Z(t));var l=new y.Z(a.c),o=s.mul(l),c=r.minus(o);if(c.gt(0)){i++;var d=c.div(l);s=s.add(d),n=n.add(c),e.push(Le(Le({},a),{},{buyDetails:{spent:c,boughtAmount:d,purchasedPrice:l,purchasedDate:a.unixTime,totalInvestment:s,totalSpent:n}}))}else e.push(Le(Le({},a),{},{buyDetails:null}))}));var l=a[a.length-1].c,o=s.mul(l),c=n.div(s),d=s,u=o.minus(n),x=u.mul(100).div(n);return{priceData:e,averagePrice:c,totalToken:d,pnl:u,pnlPercentage:x,totalSpent:n,numberOfBuys:i,currentInvestmentValue:o}}}),[a,t]),isLoading:l}},Ue=n(82838),Ke=n(74925),qe=n(82948),Ee=n(31242),Re=n(39913),We=n(76419),ze=n(69551),Ge=n(89349),Qe=n(49334),Ye=n(37030),Je=n(19488),Xe=n(88451),$e=function(e){var t=e.priceData,n=e.averagePrice,r=e.toTokenInfo,a=r.decimals,l=r.symbol,o=Math.max.apply(null,t.map((function(e){var t;return(null===(t=e.buyDetails)||void 0===t?void 0:t.boughtAmount.toNumber())||0}))),c=function(e){var t=e.cx,n=e.cy,s=e.payload,r=e.width;if(!s.buyDetails)return null;var i=s.buyDetails.boughtAmount/o*40+15;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Ue.o,{cx:t,cy:n,r:i,fill:"#E8F9FF26"}),r?(0,Q.jsx)("g",{children:(0,Q.jsx)("text",{fontSize:10,fontWeight:500,x:t,y:n,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",children:B.uf.format(s.buyDetails.boughtAmount,a)})}):null]})},d=function(e){var t=e.active,n=e.payload;if(t&&n&&n.length&&n[0].payload.buyDetails){var s=n[0].payload.buyDetails;return(0,Q.jsxs)("div",{className:"border-v2-/5 flex min-w-[250px] flex-col rounded-lg border bg-v3 px-3 py-2",children:[(0,Q.jsx)("span",{className:"text-sm font-semibold",children:"Order Details"}),(0,Q.jsxs)("div",{className:"flex justify-between text-xs text-v2-lily/50",children:[(0,Q.jsx)("div",{children:"Date"}),(0,Q.jsx)("div",{children:(0,me.Z)(1e3*s.purchasedDate,"dd/MM/yy")})]}),(0,Q.jsxs)("div",{className:"flex justify-between text-xs text-v2-lily/50",children:[(0,Q.jsx)("div",{children:"Spent"}),(0,Q.jsxs)("div",{children:[B.uf.format(s.spent,6)," USD"]})]}),(0,Q.jsxs)("div",{className:"flex justify-between text-xs text-v2-lily/50",children:[(0,Q.jsx)("div",{children:"Bought"}),(0,Q.jsxs)("div",{children:[B.uf.format(s.boughtAmount,a)," ",l]})]}),(0,Q.jsxs)("div",{className:"flex justify-between text-xs text-v2-lily/50",children:[(0,Q.jsx)("div",{children:"Purchased Price"}),(0,Q.jsxs)("div",{children:[B.uf.format(s.purchasedPrice,6)," USD"]})]}),(0,Q.jsxs)("div",{className:"flex justify-between text-xs text-v2-lily/50",children:[(0,Q.jsx)("div",{children:"Cummulative Bought"}),(0,Q.jsxs)("div",{children:[B.uf.format(s.totalInvestment,a)," ",l]})]}),(0,Q.jsxs)("div",{className:"flex justify-between text-xs text-v2-lily/50",children:[(0,Q.jsx)("div",{children:"Cummulative Spent"}),(0,Q.jsxs)("div",{children:[B.uf.format(s.totalSpent,6)," USD"]})]})]})}return null},x=function(e){if(!e.viewBox)return null;var t=e.viewBox,n=t.x,s=t.y;return(0,Q.jsx)("g",{children:(0,Q.jsx)("text",{fontSize:11,x:n,y:s?s-10:0,fill:"#C7F284",children:(0,Q.jsx)(u.cC,{id:"ocovOd"})})})},m=i.useState(0),f=(0,s.Z)(m,2),v=f[0],h=f[1],j=i.useState((0,p.tq)()?6:9),b=(0,s.Z)(j,2),g=b[0],w=b[1];return(0,Q.jsxs)("div",{className:"h-[350px] p-4 pb-8 lg:h-[400px]",children:[(0,Q.jsxs)("div",{className:"mb-3 flex justify-between text-sm font-semibold text-white/75",children:[(0,Q.jsx)(u.cC,{id:"SWbWiK"}),(0,Q.jsxs)("div",{className:"text-xs font-semibold text-white/75",children:[(0,me.Z)(1e3*t[v].unixTime,"dd/MM/yy")," -"," ",(0,me.Z)(1e3*t[g].unixTime,"dd/MM/yy")]})]}),(0,Q.jsx)("div",{className:"relative h-full w-full",children:(0,Q.jsx)("div",{className:"absolute left-0 top-0 h-full w-full",children:(0,Q.jsx)(Ke.h,{children:(0,Q.jsxs)(qe.c,{data:t,margin:{top:20,right:0,bottom:20,left:0},children:[(0,Q.jsx)(Ee.K,{dataKey:"unixTime",tickLine:!1,axisLine:!1,tick:{fontSize:"11px"},tickFormatter:function(e){return new Date(1e3*e).getDate().toString()}}),(0,Q.jsx)(Re.B,{domain:["auto","auto"],type:"number",dataKey:"c",axisLine:!1,tickLine:!1,tick:{fontSize:"11px"},tickFormatter:function(e){return Number(e)>10?e.toFixed(2):e.toFixed(a)}}),(0,Q.jsx)(We.q,{vertical:!1,strokeWidth:.2,strokeOpacity:.5}),(0,Q.jsx)(ze.d,{y:n.toNumber(),stroke:"#C7F284",strokeWidth:2,strokeDasharray:"5 3",ifOverflow:"discard",label:(0,Q.jsx)(x,{})}),(0,Q.jsx)(Ge.u,{content:(0,Q.jsx)(d,{}),cursor:!1,offset:20}),(0,Q.jsx)(Qe.u,{type:"monotone",dataKey:"c",stroke:"#E8F9FF40",fill:"#E8F9FF26",strokeWidth:2}),(0,Q.jsx)(Ye.b,{dataKey:"buyDetails.purchasedPrice",shape:(0,Q.jsx)(c,{})}),(0,Q.jsx)(Je.B,{onChange:function(e){var t=e.startIndex,n=e.endIndex;t&&h(t),n&&w(n)},travellerWidth:2,startIndex:v,endIndex:g,height:20,fill:"#131B24",dataKey:"unixTime",children:(0,Q.jsx)(Xe.T,{children:(0,Q.jsx)(Qe.u,{type:"monotone",dataKey:"c",stroke:"#E8F9FF40",fill:"#E8F9FF26",strokeWidth:2})})})]})})})})]})},et=function(e){var t=e.baseTokenInfo,n=e.quoteTokenInfo;return(0,te.a)({queryKey:["birdeye-ohlcv-base-quote",null===t||void 0===t?void 0:t.address,null===n||void 0===n?void 0:n.address],queryFn:function(){var e=(0,o.Z)(d().mark((function e(){var s,r,a,i,l,o,c,u,x,m,f,v,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",null);case 2:return s=Date.now(),r=Math.floor(s/1e3-86400).toString(),a=Math.floor(s/1e3).toString(),i=new URLSearchParams({base_address:t.address,quote_address:n.address,type:"1H",time_from:r,time_to:a,round_off_epoch:"60"}),e.next=8,fetch("".concat("https://birdeye-proxy.jup.ag/defi/ohlcv/base_quote","?").concat(i.toString()));case 8:return l=e.sent,e.next=11,l.json();case 11:return o=e.sent,c=new y.Z(o.data.items[0].c),u=new y.Z(o.data.items[o.data.items.length-1].c),x=new y.Z(u).minus(c).div(c),m=new y.Z(u).minus(c).div(c).mul(100),f=new y.Z(o.data.items.reduce((function(e,t){return Math.max(e,t.h)}),0)),v=new y.Z(o.data.items.reduce((function(e,t){return Math.min(e,t.l)}),1/0)),h=new y.Z(o.data.items.reduce((function(e,t){return e+t.vBase}),0)),e.abrupt("return",{initialPrice:c,currentPrice:u,priceChange:x,priceChangePct:m,highestPrice:f,lowestPrice:v,baseTotalVolume:h});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enabled:Boolean((null===t||void 0===t?void 0:t.address)&&(null===n||void 0===n?void 0:n.address)),refetchOnMount:!1,refetchOnReconnect:!1,retry:!1,refetchOnWindowFocus:!1,refetchInterval:3e4,refetchIntervalInBackground:!0})},tt=function(e){var t=e.title,n=e.description,s=e.descriptionColor;return(0,Q.jsxs)("div",{className:"flex flex-col rounded-lg border border-v2-lily/10 bg-v3 p-3",children:[(0,Q.jsx)("div",{className:"text-xs text-white/40",children:(0,Q.jsx)(u.cC,{id:"pDgeaz",values:{title:t}})}),(0,Q.jsx)("div",{className:(0,D.cn)("text-sm font-semibold text-white/75",s),children:(0,Q.jsx)(u.cC,{id:"DZsWoY",values:{description:n}})})]})},nt=function(e){var t,n=e.toTokenAddress,s=e.incrementAmount,a=(0,r.Bn)().getTokenInfo,l=He({toTokenAddress:n,incrementAmount:s}),o=l.data,c=l.isLoading,d=i.useMemo((function(){return a(n)||(0,ae.Tr)({address:n})}),[a,n]),m=d.decimals,v=i.useMemo((function(){return!(null===o||void 0===o||!o.pnl||!o.pnl.gt(0))}),[null===o||void 0===o?void 0:o.pnl]),h=i.useMemo((function(){return 0===s||!o||o.priceData.length<10}),[o,s]),p=et({baseTokenInfo:d,quoteTokenInfo:f.Gm}),j=p.data,b=p.isLoading;return(0,Q.jsxs)("div",{className:"relative flex h-full w-full flex-col rounded-2xl bg-uiv2 shadow-xl",children:[(0,Q.jsxs)("div",{className:"flex w-full justify-between border-b border-v2-lily/5 px-4 py-2",children:[(0,Q.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,Q.jsx)(ie.Z,{info:d,width:28,height:28}),(0,Q.jsxs)("div",{className:"text-md flex gap-2 font-semibold",children:[(0,Q.jsx)("span",{children:d.symbol}),(0,Q.jsx)("span",{children:x.ag._({id:"kzwPbK"})})]})]}),b?(0,Q.jsx)(Se.O,{className:"h-7 w-20"}):(0,Q.jsxs)("div",{className:"flex text-xl font-semibold text-v2-lily",children:["$",(0,Q.jsx)(fe.ZP,{value:null!==(t=null===j||void 0===j?void 0:j.currentPrice.toNumber())&&void 0!==t?t:0,maxSuffix:5})]})]}),(0,Q.jsxs)("div",{className:"flex w-full",children:[c&&(0,Q.jsx)("div",{className:"absolute inset-y-0 left-0 z-20 w-full bg-black/10 backdrop-blur-sm"}),h?(0,Q.jsx)("div",{className:"flex w-full flex-1 items-center justify-center text-xs text-v2-lily/75",children:(0,Q.jsx)(u.cC,{id:"tMFDem"})}):(0,Q.jsxs)("div",{className:"w-full",children:[(0,Q.jsx)("div",{className:"text-xxl p-4 font-bold text-v2-primary",children:(0,Q.jsx)(u.cC,{id:"ydbX/t"})}),o&&o.priceData.length>=10?(0,Q.jsx)("div",{className:"border-b border-v2-lily/5 px-4 py-2",children:(0,Q.jsxs)("div",{className:"text-sm text-white/75",children:[(0,Q.jsx)(u.cC,{id:"s8xAfa",values:{0:d.symbol,1:(0,me.Z)(1e3*o.priceData[0].unixTime,"dd/MM/yy"),2:o.totalSpent.toFixed(2),3:o.pnl.toFixed(2),4:o.pnlPercentage.toFixed(2),5:o.currentInvestmentValue.toFixed(2),incrementAmount:s}}),(0,Q.jsx)("p",{className:"pt-2 text-xs italic",children:"*historic performance does not indicate future performance"})]})}):null,o&&o.priceData.length>=10?(0,Q.jsxs)("div",{className:"flex flex-col",children:[(0,Q.jsxs)("div",{className:"grid grid-cols-2 gap-3 border-b border-v2-lily/5 p-4 md:grid-cols-3",children:[(0,Q.jsx)(tt,{title:"Average Price",description:x.ag._({id:"fafKe2",values:{0:(0,fe.M)({value:o.averagePrice.toNumber()})}})}),(0,Q.jsx)(tt,{title:"Total Bought",description:"".concat(B.uf.format(o.totalToken,m)," ").concat(d.symbol)}),(0,Q.jsx)(tt,{title:"Number of Buys",description:"".concat(o.numberOfBuys)}),(0,Q.jsx)(tt,{title:"Total Spent",description:"".concat(B.uf.format(o.totalSpent,2)," USD")}),(0,Q.jsx)(tt,{title:"Current Investment Value",description:x.ag._({id:"fafKe2",values:{0:B.uf.format(o.currentInvestmentValue,2)}})}),(0,Q.jsx)(tt,{title:"PnL",description:x.ag._({id:"rb43H3",values:{0:B.uf.format(o.pnl,2),1:B.uf.format(o.pnlPercentage,2)}}),descriptionColor:v?"text-perps-green":"text-perps-red"})]}),(0,Q.jsx)($e,{priceData:o.priceData,averagePrice:o.averagePrice,toTokenInfo:d})]}):(0,Q.jsxs)("div",{className:"flex w-full flex-col space-y-2",children:[(0,Q.jsx)(Se.O,{className:"h-10 w-full"}),(0,Q.jsx)(Se.O,{className:"h-20 w-full"}),(0,Q.jsx)(Se.O,{className:"h-20 w-full"})]})]})]})]})},st="pairs-select-to-pair-modal-va",rt={autoWithdraw:!0,fromTokenAddress:Z.cq.toBase58(),toTokenAddress:Z.W4.toBase58(),intervalNumber:{formattedValue:"1",value:"1",floatValue:1},period:"day",fromValue:{formattedValue:"100",value:"100",floatValue:100},increaseBy:{formattedValue:"50",value:"50",floatValue:50},startAt:null},at=function(e){var t=e.outToken,n=e.inToken,a=(0,r.Os)(),c=(0,I.R3)(),P=(0,w.NL)(),J=(0,M.T)(),X=(0,N.KO)(h.yz),$=(0,s.Z)(X,1)[0],te=(0,N.KO)(O.isLoading),ne=(0,s.Z)(te,1)[0],se=(0,N.KO)(O.refetchId),re=(0,s.Z)(se,2),ae=(re[0],re[1]),ie=(0,i.useState)((0,p.wm)()),le=ie[0],oe=ie[1],ce=(0,T.gs)().priorityLevel,de=(0,r.Rc)(),ue=i.useMemo((function(){return new v._V(de,"mainnet-beta","https://va.jup.ag")}),[de]),xe=i.useState("Active VAs"),me=(0,s.Z)(xe,2),fe=me[0],ve=me[1],he=(0,C.cI)({defaultValues:rt,mode:"onChange"}),pe=he.control,je=he.setValue,be=he.handleSubmit,ge=he.formState,we=ge.errors,ye=ge.isValid,Ne=ge.isSubmitting,ke=he.trigger,Se=(0,V.hv)().appDomain,Ve=(0,r.y6)().tokenPriceMap,Te=(0,r.Bn)().tokens,Ie=(0,C.qo)({control:pe,name:"fromTokenAddress"}),Ae=(0,C.qo)({control:pe,name:"toTokenAddress"}),Pe=(0,C.qo)({control:pe,name:"period"}),Oe=(0,C.qo)({control:pe,name:"intervalNumber"}),De=(0,C.qo)({control:pe,name:"increaseBy"}),Fe=(0,C.qo)({control:pe,name:"autoWithdraw"}),_e=(0,C.qo)({control:pe,name:"fromValue"}),Le=(0,C.qo)({control:pe,name:"startAt"});i.useEffect((function(){ke()}),[ke,De,_e,Le]),(0,i.useEffect)((function(){n&&je("fromTokenAddress",n.address),t&&je("toTokenAddress",t.address)}),[n,t]);var He=(0,W.Q)({fromTokenInfo:n,toTokenInfo:t,quoteResponse:void 0,isLaunchPage:!1}),Ue=i.useMemo((function(){return(0,p.kL)(n)||(0,p.kL)(t)}),[n,t]),Ke=(0,F.useIsAccountFrozen)(n),qe=(0,F.useIsAccountFrozen)(t),Ee=(0,r.FB)(Ie).balance,Re=i.useMemo((function(){var e;return null===(e=Ve[Ie])||void 0===e?void 0:e.usd}),[Ve,Ie]),We=i.useMemo((function(){return Te.map((function(e){return e.address}))}),[Te]),ze=i.useMemo((function(){return H.tc.find((function(e){return e.id===Pe}))}),[Pe]),Ge=i.useMemo((function(){return H.tc.map((function(e){return e.id})).filter((function(e){return!["second"].includes(e)}))}),[]),Qe=i.useMemo((function(){return!(null===n||void 0===n?void 0:n.decimals)||new y.Z((null===_e||void 0===_e?void 0:_e.floatValue)||0).lessThanOrEqualTo(Ee)}),[Ee,null===n||void 0===n?void 0:n.decimals,null===_e||void 0===_e?void 0:_e.floatValue]),Ye=i.useCallback((function(e){e&&je("fromTokenAddress",e)}),[je]),Je=i.useCallback((function(e){e&&je("toTokenAddress",e)}),[je]),Xe=i.useCallback((function(e){je("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[je]),$e=i.useCallback((function(){J(t,n)}),[n,t,J]),et=i.useCallback(function(){var e=(0,o.Z)(d().mark((function e(s){var r,i,o,x,m,f,w,N,k,C,S,Z;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=s.fromValue,i=s.increaseBy,o=s.autoWithdraw,x=s.startAt,!(r.value&&i.value&&ze&&Oe&&n&&t&&a.publicKey)){e.next=17;break}return f=new y.Z(r.value).mul(Math.pow(10,n.decimals)),w=new y.Z(i.value).mul(Math.pow(10,q.Gm.decimals)),e.next=7,ue.open({autoWithdraw:o,inputTokenProgram:(0,p.kL)(n)?b.nA:j.H_,outputTokenProgram:(0,p.kL)(t)?b.nA:j.H_,inputMint:new g.PublicKey(Ie),outputMint:new g.PublicKey(Ae),depositAmount:BigInt(f.toFixed(0)),incrementUSDCValue:BigInt(w.toFixed(0)),user:a.publicKey,payer:a.publicKey,startAtUnix:x?BigInt(x/1e3):void 0,orderInterval:BigInt((null===ze||void 0===ze?void 0:ze.secondsInPeriod)*(Number(Oe.value)||0))});case 7:return N=e.sent,k=N.ixs,e.next=11,de.getLatestBlockhash("confirmed");case 11:return C=e.sent,S=C.blockhash,Z=C.lastValidBlockHeight,e.next=16,c((m=new g.Transaction({feePayer:a.publicKey,blockhash:S,lastValidBlockHeight:Z})).add.apply(m,(0,l.Z)(k)),{blockhash:S,lastValidBlockHeight:Z,idl:v.xO,idlProgramId:new g.PublicKey(v.MG["mainnet-beta"])},{successMessage:(0,Q.jsx)(u.cC,{id:"tylKkb",values:{0:r.value,1:n.symbol,2:i.floatValue}}),submittingMessage:(0,Q.jsx)(u.cC,{id:"S+De3s"}),errorMessage:(0,Q.jsx)(u.cC,{id:"4zZcxO"}),toastId:le,referenceFee:"MEDIUM"===ce?$.va.m:"HIGH"===ce?$.va.h:"VERY_HIGH"===ce?$.va.vh:void 0,minimumFee:h.uo,requestComputeBudgetLimit:3e5});case 16:P.invalidateQueries({queryKey:["va"]});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0);case 22:return e.prev=22,oe((0,p.wm)()),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,19,22,25]])})));return function(t){return e.apply(this,arguments)}}(),[ze,Oe,n,t,a.publicKey,ue,Ie,Ae,de,c,P,ce,$.va.m,$.va.h,$.va.vh,le]),tt=i.useMemo((function(){return null!==Oe&&void 0!==Oe&&Oe.floatValue?"minute"===Pe&&Oe.floatValue<10&&x.ag._({id:"rG1XPn"}):"Please enter an interval above 0"}),[Pe,null===Oe||void 0===Oe?void 0:Oe.floatValue]),at=i.useMemo((function(){return!ye||Ue||!Qe||Ke||qe||qe||Boolean(tt)}),[ye,Ue,Qe,Ke,qe,tt]),it=i.useCallback((function(){var e=new y.Z(Ee);Ie===Z.W4.toBase58()&&(e=e.minus(f.WO)),je("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[Ee,Ie,je]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{className:"flex h-full w-full flex-col items-center justify-between text-lg text-v2-lily lg:text-2xl",children:(0,Q.jsx)("div",{className:"flex w-full justify-center",children:(0,Q.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-5 lg:gap-0",children:[(0,Q.jsxs)("form",{className:"flex h-auto w-full flex-col space-y-2",onSubmit:be(et),children:[(0,Q.jsxs)("div",{className:"flex flex-col",children:[(0,Q.jsx)("div",{children:(0,Q.jsx)(C.Qr,{name:"fromValue",control:pe,rules:{validate:function(e){return!!we.increaseBy||(Re&&De.floatValue&&(!e.floatValue||e.floatValue*Re<2*De.floatValue)?x.ag._({id:"g95zBH",values:{0:2*De.floatValue}}):void 0)},required:"Required"},render:function(e){var t=e.field,s=t.onChange,r=t.value,a=t.onBlur,i=e.fieldState.error;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("div",{className:(0,D.cn)("flex min-h-[124px] flex-col space-y-3 rounded-xl border border-transparent bg-uiv2 p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,Q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Q.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,Q.jsx)(u.cC,{id:"2Xn1tM"})}),n&&(0,Q.jsxs)("div",{className:"flex space-x-2",children:[(0,Q.jsx)("div",{className:"flex cursor-pointer items-center space-x-1 whitespace-nowrap text-xs font-normal text-v2-lily/50 hover:text-v2-lily",onClick:it,children:(0,Q.jsx)(L.Z,{tokenInfo:n,className:"hover:text-v2-lily"})}),(0,Q.jsx)(m.oi,{mint:n.address,onBalanceChange:Xe})]})]}),(0,Q.jsxs)("div",{className:"flex flex-1 items-center justify-between space-x-2",children:[(0,Q.jsx)(_.Z,{onChange:Ye,fromTokenAddress:Ie,toTokenAddress:Ae,modalId:st,name:"fromTokenAddress",mintsList:We,type:"tokenAndInput"}),(0,Q.jsx)(U.Z,{onBlur:a,onChange:s,tokenAddress:Ie,value:r,name:"fromValue",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/50"})]})]}),(null===i||void 0===i?void 0:i.message)&&(0,Q.jsx)(m.Bc,{message:i.message})]})}})}),(0,Q.jsx)(F.default,{tokenInfo:n,className:"mt-2"}),(0,Q.jsxs)("div",{className:"relative my-1 flex justify-center",children:[(0,Q.jsx)("hr",{className:"absolute top-[calc(50%-1px)] -z-0 w-full border-uiv2/50"}),(0,Q.jsx)("div",{className:"z-10 inline-block",children:(0,Q.jsx)("button",{type:"button",className:(0,D.cn)("group/flip flex h-8 w-8 cursor-pointer flex-col justify-center rounded-full border-[3px] border-uiv2 bg-v2-background-page text-v2-lily/50","hover:border-v2-primary hover:shadow-swap-input-dark"),onClick:$e,children:(0,Q.jsx)("span",{className:"flex w-full justify-center fill-current text-v2-lily/50 transition-none group-hover/flip:text-v2-primary",children:(0,Q.jsx)(G.Z,{})})})})]}),(0,Q.jsxs)("div",{className:(0,D.cn)("flex min-h-[124px] w-full flex-col justify-between rounded-xl border border-transparent bg-uiv2 pt-4","group hover:border-v2-primary/50 hover:shadow-swap-input-dark"),children:[(0,Q.jsxs)("div",{className:"mx-4 mb-2 flex items-center justify-between",children:[(0,Q.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,Q.jsx)(u.cC,{id:"Q7e7JF"})}),t&&(0,Q.jsx)(L.Z,{tokenInfo:t})]}),(0,Q.jsx)(_.Z,{onChange:Je,fromTokenAddress:Ie,toTokenAddress:Ae,modalId:st,mintsList:We,name:"toTokenAddress",type:"tokenSelectOnly"})]})]}),(0,Q.jsx)(F.default,{tokenInfo:t,className:"mt-2"}),(0,Q.jsx)(C.Qr,{rules:{validate:function(e){if(!e.floatValue||e.floatValue<50)return x.ag._({id:"RCF2a5",values:{MINIMUM_VALUE_PER_ORDER:H.Ye}})}},control:pe,name:"increaseBy",render:function(e){var t=e.field,n=t.onChange,s=t.value,r=e.fieldState.error;return(0,Q.jsxs)("div",{className:"flex flex-col",children:[(0,Q.jsxs)("div",{className:(0,D.cn)("flex flex-col space-y-3 rounded-xl border border-transparent bg-uiv2 p-4","group focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,Q.jsx)("span",{className:"text-xs font-medium text-v2-lily/50",children:(0,Q.jsx)(u.cC,{id:"cBuE1X"})}),(0,Q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Q.jsx)("span",{className:"rounded-lg bg-v2-background-page px-3 py-2 text-center text-sm font-semibold text-v2-lily",children:"USD"}),(0,Q.jsx)(z.Z,{name:"increaseBy",className:"!bg-transparent !text-right !text-xl !font-semibold !text-v2-lily !outline-none",onChange:n,value:null===s||void 0===s?void 0:s.value,decimals:2})]})]}),(null===r||void 0===r?void 0:r.message)&&(0,Q.jsx)(m.Bc,{message:r.message})]})}}),(0,Q.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Q.jsx)("div",{className:"flex basis-1/3 flex-col",children:(0,Q.jsxs)("div",{className:(0,D.cn)("flex flex-col space-y-2","rounded-xl border border-transparent bg-uiv2 p-4","group focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,Q.jsx)("span",{className:"text-xs font-medium text-v2-lily/50",children:(0,Q.jsx)(u.cC,{id:"CRsuq4"})}),(0,Q.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,Q.jsx)(C.Qr,{control:pe,name:"intervalNumber",render:function(e){var t=e.field,n=t.onChange,s=t.value;return(0,Q.jsx)(S.Z,{value:null===s||void 0===s?void 0:s.floatValue,onValueChange:n,thousandSeparator:","===B.A5?".":",",decimalSeparator:","===B.A5?",":".",decimalScale:0,allowNegative:!1,allowLeadingZeros:!1,className:"!w-full !bg-transparent !text-sm !font-semibold !text-v2-lily !outline-none"})}}),(0,Q.jsx)("div",{className:"flex items-center justify-end",children:(0,Q.jsx)(C.Qr,{control:pe,name:"period",render:function(e){var t=e.field,n=t.onChange,s=t.value;return(0,Q.jsxs)(E.Z,{onChange:n,className:"!bg-transparent !p-0 !text-sm !font-semibold !text-v2-lily",contentClassName:"!min-w-[124px]",data:Ge,value:s,rowRenderer:function(e){return(0,Q.jsx)("div",{className:"text-sm",children:e})},children:[s,(0,Q.jsx)("div",{className:"ml-2 fill-current text-v2-lily/25 hover:text-v2-lily",children:(0,Q.jsx)(A.Z,{})})]})}})})]})]})}),(0,Q.jsxs)("div",{className:(0,D.cn)("flex basis-2/3 flex-col space-y-2","rounded-xl border border-transparent bg-uiv2 p-4","group focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,Q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Q.jsx)("span",{className:"text-xs font-medium text-v2-lily/50",children:(0,Q.jsx)(u.cC,{id:"tkzlHe"})}),(0,Q.jsx)("button",{type:"button",className:"cursor-pointer rounded text-xxs font-semibold text-v2-lily/30 underline hover:text-v2-lily",onClick:function(){return je("startAt",Le?null:Date.now())},children:Le?(0,Q.jsx)(u.cC,{id:"OfhWJH"}):(0,Q.jsx)(u.cC,{id:"D3iCkb"})})]}),Le?(0,Q.jsx)(C.Qr,{rules:{validate:function(e){if(e&&e<=Date.now())return x.ag._({id:"Wbr6da"})}},control:pe,name:"startAt",render:function(e){var t=e.field.onChange;return(0,Q.jsx)("input",{type:"datetime-local",onChange:function(e){return t(new Date(e.target.value).getTime())},className:"w-full !bg-transparent !p-0 !text-sm !font-semibold !text-v2-lily !outline-none"})}}):(0,Q.jsx)("span",{className:"text-sm font-semibold text-v2-lily",children:"Start Now"})]})]}),tt&&(0,Q.jsx)(m.Bc,{message:tt}),(0,Q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Q.jsxs)("label",{htmlFor:"autoWithdraw",className:"text-xs font-medium text-v2-lily/50",children:[(0,Q.jsx)(u.cC,{id:"Xl0vxS"})," $",null===t||void 0===t?void 0:t.symbol," ",(0,Q.jsx)(u.cC,{id:"2J/QWD"})]}),(0,Q.jsx)(Y,{buttons:[{value:x.ag._({id:"R9Khdg"}),onChange:function(){return je("autoWithdraw",!0)},isSelected:Fe},{value:x.ag._({id:"yHCNzt"}),onChange:function(){return je("autoWithdraw",!1)},isSelected:!Fe}]})]}),(0,Q.jsx)(R.Z,{loading:!1,listOfSuggestions:He}),a.connected?(0,Q.jsx)(Me,{disabled:at,isAccountFrozen:Ke||qe,hasEnoughBalance:Qe,isToken2022:Ue,loading:Ne,toastId:le}):(0,Q.jsx)(K.Z,{}),(0,Q.jsx)(Be,{fromValue:_e,fromTokenInfo:n,toTokenInfo:t,increaseBy:De,intervalNumber:Oe,period:Pe,startAt:Le})]}),(0,V.mD)(Se)&&Se.container.leftContainerGraph&&Se.container.leftContainerGraph.current&&(0,k.createPortal)((0,Q.jsx)(nt,{toTokenAddress:Ae,incrementAmount:De.floatValue||0}),Se.container.leftContainerGraph.current)]})})}),(0,Q.jsx)("div",{className:"flex w-full items-start justify-start space-x-2 overflow-y-auto",children:(0,V.mD)(Se)&&Se.container.leftContainerHistories&&Se.container.leftContainerHistories.current&&(0,k.createPortal)((0,Q.jsxs)(ee,{isLoading:ne,tabs:["Active VAs","Past VAs"],activeTab:fe,setActiveTab:ve,refreshButtonDisabled:!a.connected,refetch:function(){ae((function(e){return e+1}))},children:["Active VAs"===fe?(0,Q.jsx)(Ce,{vaClient:ue}):null,"Past VAs"===fe?(0,Q.jsx)(Ze,{vaClient:ue}):null]}),Se.container.leftContainerHistories.current)}),(0,Q.jsx)("div",{className:"flex w-full items-start justify-start space-x-2 overflow-y-auto",children:(0,V.mD)(Se)&&Se.container.bottomPageHistories&&Se.container.bottomPageHistories.current&&(0,k.createPortal)((0,Q.jsxs)(ee,{isLoading:ne,tabs:["Active VAs","Past VAs"],activeTab:fe,setActiveTab:ve,refreshButtonDisabled:!a.connected,refetch:function(){ae((function(e){return e+1}))},children:["Active VAs"===fe?(0,Q.jsx)(Ce,{vaClient:ue}):null,"Past VAs"===fe?(0,Q.jsx)(Ze,{vaClient:ue}):null]}),Se.container.bottomPageHistories.current)})]})},it=n(22466),lt=!0,ot=function(){var e=(0,it.V)(),t=(0,s.Z)(e,2),n=t[0],l=t[1],o=(0,r.gZ)().fetchTokenAccounts;return(0,i.useEffect)((function(){n&&l&&o([n.address,l.address])}),[n,l,o]),n&&l?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(a.PB,{title:"VA"}),(0,Q.jsx)(at,{inToken:n,outToken:l})]}):null}},51550:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/va/[inOut]",function(){return n(82483)}])}},function(e){e.O(0,[13215,23649,57673,61936,49774,92888,40179],(function(){return t=51550,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[inOut]-084a5fbe94d56cf8.js.map