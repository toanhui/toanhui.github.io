"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63312],{49488:function(e,t,n){n.d(t,{Nk:function(){return x},QX:function(){return h}});var r=n(27195),s=n(97620),i=n(8857),a=n.n(i),o=n(93981),l=n(72215),c=n(71957),u=n(3011),d=n(1242),m=n(45009),x=new Array(32).fill(null),f=23e4,h=function(e){var t=function(e){var t=(0,c.p)().data,n=(0,u.KO)(d.dS),i=(0,s.Z)(n,1)[0],o=i.TARGET_MINT,x=i.useMerkleDistributorV2,f=(0,l.Os)().publicKey;return{claimTimes:(0,m.a)(["enabled-time",null===f||void 0===f?void 0:f.toBase58(),o.toString(),x],(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===t||void 0===t?void 0:t.getClaimTimes(f));case 1:case"end":return e.stop()}}),e)}))),{enabled:e&&!!t,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,staleTime:1e4}).data}}(!(null!==e&&void 0!==e&&e.disabled)).claimTimes,n=function(e){var t=(0,l.Rc)();return{currentSlot:(0,m.a)(["currentSlot"],(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getSlot("processed"));case 1:case"end":return e.stop()}}),e)}))),{refetchInterval:function(t){return!(t&&e&&e.enableSlot<t)&&3e3},refetchIntervalInBackground:!1,staleTime:1e4}).data}}(t),i=n.currentSlot,h=(0,o.useMemo)((function(){return Boolean(i&&t&&i>t.enableSlot)}),[t,i]),p=(0,o.useMemo)((function(){if(!t||!i)return 0;var e=f/x.length,n=Math.floor((f-(t.enableSlot-i))/e);return Math.max(n,1)}),[t,i]);return{claimTimes:t,currentSlot:i,activeSlot:p,isReady:h}}},76640:function(e,t,n){n.d(t,{S:function(){return c}});var r=n(93981),s=n(11805),i="https://raw.githubusercontent.com/jup-ag/static",a="".concat(i,"/lfg-preview/src/pages/lfg"),o="".concat(i,"/main/src/pages/lfg"),l=(s.env.VERCEL_ENV,"token ".concat(s.env.GITHUB_TOKEN),(0,r.createContext)({getUserEndpoint:"https://worker.jup.ag/jup-claim-proof/"})),c=(l.Provider,function(){return(0,r.useContext)(l)})},53636:function(e,t,n){var r=n(63956),s=n(54423),i=n(93981),a=n(87821),o=n(25546),l=n(29541),c=["currency"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.currency,n=void 0===t||t,r=(0,s.Z)(e,c),u=i.useMemo((function(){return","===o.A5?".":","}),[]);return(0,l.jsx)(a.Z,d(d({displayType:"text",prefix:n?"$":""},r),{},{decimalSeparator:o.A5,thousandSeparator:u}))}},63312:function(e,t,n){n.d(t,{Z:function(){return ct}});var r=n(27195),s=n(97620),i=n(8857),a=n.n(i),o=n(8473),l=n(4707),c=n(43165),u=n(12627),d=n(93981),m=n(13215),x=n(87821),f=n(4246),h=n(35682),p=n(72215),v=n(25224),b=n(38272),g=n(13838),w=n(13170),j=n(69667),y=n(24201),k=n(25546),N=n(99438),C=n(26260),S=n(3561),M=n(11681),P=n(32529),T=n(30825),Z=n(70107),A=n(81652),O=n(45009),V=n(41144),D="active-dca-orders",B=n(63956),I=n(76442),F=n(40993),_=n(11711),E=n(65558),L=n(3011),K=n(64508),R=n.n(K),H=n(59978),q=n(40558),U=n(41118),W=n(90342),G=n(66956),Y=n(33130),Q=n(42082),z=n(45462),J=n(24628),X=n(71932),$=n(57722),ee=n(3955),te=n(67768),ne=n(1739),re=n(88381),se=n(29541),ie=function(e){var t=e.fillHistory,n=t.inputMint,r=t.outputMint,s=t.inputAmount,i=t.outputAmount,a=t.confirmedAt,o=t.txId,l=t.action,c=e.inverseRate,m=e.setInverseRate,x=(0,p.Bn)().getTokenInfo,f=(0,p.oP)().getExplorer,h=d.useMemo((function(){return{fromTokenInfo:x(n.toString()),toTokenInfo:x(r.toString())}}),[x,n,r]),b=h.fromTokenInfo,w=h.toTokenInfo,j=d.useMemo((function(){return(0,u.Z)(new Date(a),"y/MM/dd HH:mm")}),[a]),y=d.useMemo((function(){return f(o)}),[f,o]),k=(0,d.useMemo)((function(){return new g.Z(s||0).isZero()||new g.Z(i||0).isZero()?null:new g.Z(i).div(s)}),[s,i]);return(0,se.jsxs)("div",{className:"flex items-stretch justify-between gap-4 text-xs",children:[(0,se.jsxs)("div",{className:"flex max-w-[120px] flex-1 flex-col justify-center gap-1 self-stretch",children:[(0,se.jsxs)("div",{className:"flex items-center gap-2",children:[(0,se.jsx)(ne.Z,{action:l}),(0,se.jsx)("a",{href:y,target:"_blank",rel:"noreferrer",className:"h-5 w-3 text-xs text-v2-lily/50 hover:text-v2-primary",children:(0,se.jsx)(J.Z,{width:12,height:20})})]}),(0,se.jsx)("span",{className:"flex flex-shrink flex-wrap items-center text-v2-lily/50",children:j})]}),(0,se.jsx)("div",{className:"flex max-w-[150px] flex-1 flex-col gap-1",children:"Close"!==l&&"Open"!==l&&"Attempted Fill"!==l?(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)("span",{className:"flex items-center space-x-1 text-v2-lily/50",children:(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(H.Z,{info:b,width:16,height:16}),(0,se.jsxs)("span",{children:[te.uf.format(s,null===b||void 0===b?void 0:b.decimals)," ",null===b||void 0===b?void 0:b.symbol]})]})}),(0,se.jsx)("span",{className:(0,v.cn)("flex items-center space-x-1",i?"":"text-v2-lily/50"),children:(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(H.Z,{info:w,width:16,height:16}),(0,se.jsxs)("span",{children:[te.uf.format(i,null===w||void 0===w?void 0:w.decimals)," ",null===w||void 0===w?void 0:w.symbol]})]})})]}):(0,se.jsx)("span",{className:"flex h-full items-center space-x-1 text-v2-lily/50",children:"-"})}),(0,se.jsx)("span",{className:"flex max-w-[120px] flex-1 cursor-pointer items-center text-v2-lily/50 hover:text-v2-primary",onClick:function(){return m(!c)},children:k?"".concat(c?(0,re.M)({value:+new g.Z(1).div(k).toSignificantDigits(null===b||void 0===b?void 0:b.decimals)}):(0,re.M)({value:+k.toSignificantDigits(null===w||void 0===w?void 0:w.decimals)})):"-"})]})},ae=function(e){var t,n,r,i,a,o=e.dcaOrder,c=d.useState(!0),u=(0,s.Z)(c,2),m=u[0],x=u[1];return(0,se.jsxs)("div",{className:"bg-history-expanded p-6",children:[(0,se.jsxs)("div",{className:"flex w-full items-center justify-between gap-4 text-xs text-v2-lily/50",children:[(0,se.jsx)("span",{className:"max-w-[120px] flex-1",children:l.ag._({id:"nYfwRw"})}),(0,se.jsx)("span",{className:"max-w-[150px] flex-1",children:l.ag._({id:"5mWjZj"})}),(0,se.jsx)("span",{onClick:function(){return x(!m)},className:"max-w-[120px] flex-1 cursor-pointer hover:text-v2-primary",children:l.ag._({id:"J/hVSQ",values:{0:m?"".concat(null===(t=o.inputToken)||void 0===t?void 0:t.symbol," per ").concat(null===(n=o.outputToken)||void 0===n?void 0:n.symbol):"".concat(null===(r=o.outputToken)||void 0===r?void 0:r.symbol," per ").concat(null===(i=o.inputToken)||void 0===i?void 0:i.symbol)}})})]}),(0,se.jsx)("div",{className:"hideScrollbar mt-3 max-h-[300px] space-y-4 overflow-y-auto",children:o.trades&&(null===(a=o.trades)||void 0===a?void 0:a.length)>0?o.trades.map((function(e){return(0,se.jsx)(ie,{fillHistory:e,inverseRate:m,setInverseRate:x},e.txId)})):(0,se.jsx)("div",{className:"mt-4 flex items-center justify-center text-xs text-v2-lily/50",children:l.ag._({id:"7MClw4"})})})]})},oe=n(49488),le=3e5,ce=function(e){var t=e.data,n=t.nextCycleAt,s=t.isLaunchToken,i=t.publicKey,o=t.warnings,c=o.tooFarFromExecution,u=o.lessThanDCALimit,m=t.trades,x=d.useMemo((function(){return i.toBase58()}),[i]),f=(0,O.a)(["dca-errors",u,x],(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://errors.jup.ag/logs?service=dca&accountID=".concat(x));case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.data.length?n.data[0].friendlyError:void 0);case 8:case"end":return e.stop()}}),e)}))),{enabled:!u,keepPreviousData:!0,retry:5,retryDelay:2e3}).data,h=d.useMemo((function(){var e=(new Date).getTime(),t=n&&e-n.getTime()>le;try{var r=(null===m||void 0===m?void 0:m.length)&&e-new Date(m[0].confirmedAt).getTime()>le;return t&&r}catch(s){return console.error("Error determining recent order: ",s),!1}}),[m,n]);return u?(0,se.jsx)("div",{className:"mb-2 space-y-2 rounded-lg border border-v2-lily/5 bg-v2-lily/5 p-5",children:(0,se.jsxs)("div",{className:"flex space-x-1 text-xs text-warning",children:[(0,se.jsx)("div",{className:"mt-0.5 h-3 w-3",children:(0,se.jsx)(X.Z,{width:12,height:12})}),(0,se.jsx)("div",{children:l.ag._({id:"spsoy5",values:{ACTIVE_DCA_MINIMUM_VALUE_PER_ORDER:$.hl}})})]})}):f&&h?(0,se.jsx)("div",{className:"mb-2 space-y-2 rounded-lg border border-v2-lily/5 bg-v2-lily/5 p-5",children:(0,se.jsxs)("div",{className:"flex space-x-1 text-xs text-warning",children:[(0,se.jsx)("div",{className:"mt-0.5 h-3 w-3",children:(0,se.jsx)(X.Z,{width:12,height:12})}),(0,se.jsx)("div",{className:"flex flex-col space-y-1",children:(0,se.jsx)("div",{children:f})})]})}):c&&!s?(0,se.jsx)("div",{className:"mb-2 space-y-2 rounded-lg border border-v2-lily/5 bg-v2-lily/5 p-5",children:(0,se.jsxs)("div",{className:"flex space-x-1 text-xs text-warning",children:[(0,se.jsx)("div",{className:"mt-0.5 h-3 w-3",children:(0,se.jsx)(X.Z,{width:12,height:12})}),(0,se.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,se.jsx)("span",{children:l.ag._({id:"QZkhpe"})}),(0,se.jsxs)("div",{className:"flex space-x-1",children:[(0,se.jsx)("span",{children:l.ag._({id:"eKC+EC"})}),(0,se.jsx)("span",{children:l.ag._({id:"41PcSB"})})]}),(0,se.jsxs)("div",{className:"flex space-x-1",children:[(0,se.jsx)("span",{children:l.ag._({id:"eKC+EC"})}),(0,se.jsx)("span",{children:l.ag._({id:"dd0AAd"})})]}),(0,se.jsxs)("div",{className:"flex space-x-1",children:[(0,se.jsx)("span",{children:l.ag._({id:"eKC+EC"})}),(0,se.jsx)("span",{children:l.ag._({id:"P0Erxu"})})]}),(0,se.jsx)("div",{className:"pt-3",children:(0,se.jsx)("span",{className:"italic",children:l.ag._({id:"w3W1lY"})})})]})]})}):null},ue=function(e){var t,n,r,i,a=e.data,c=(0,p.y6)(),m=c.tokenPriceMap,x=c.getUSDValue,f=d.useState(!1),h=(0,s.Z)(f,2),b=h[0],w=h[1],j=d.useState(!1),y=(0,s.Z)(j,2),N=y[0],C=y[1];(0,d.useEffect)((function(){if(a){var e=[a.inputToken.address,a.outputToken.address];x(e)}}),[a,x]);var S=(0,oe.QX)().isReady,M=(0,G.b)(null===a||void 0===a?void 0:a.inputToken,null===a||void 0===a?void 0:a.outputToken).baseTokenInfo,P=d.useMemo((function(){var e;if(!U.d.find((function(e){var t,n;return e===(null===a||void 0===a||null===(t=a.inputToken)||void 0===t?void 0:t.address)||e===(null===a||void 0===a||null===(n=a.outputToken)||void 0===n?void 0:n.address)})))return null;var t=(null===a||void 0===a||null===(e=a.inputToken)||void 0===e?void 0:e.address)===(null===M||void 0===M?void 0:M.address);return{isFromBase:Boolean(t)}}),[null===M||void 0===M?void 0:M.address,null===a||void 0===a||null===(t=a.inputToken)||void 0===t?void 0:t.address,null===a||void 0===a||null===(n=a.outputToken)||void 0===n?void 0:n.address]);if(!a)return null;var T=a.inputToken,Z=a.outputToken,A=a.warnings.hasUnknownToken,O=a.createdAt,V=a.totalFilled,D=a.cycleFrequency,B=a.inWithdrawn,I=a.outWithdrawn,F=a.outRemaining,_=a.initialDeposited,E=a.avgPrice,L=a.inverseAvgPrice,K=a.balance,R=a.cyclesLeft,H=a.totalCycles,q=a.filledPercentage,W=a.nextCycleAt,Y=a.minOutAmount,Q=a.maxOutAmount,z=a.inRemaining,J=a.isLaunchToken,$=a.inAmountPerCycle;return(0,se.jsxs)("div",{className:"flex flex-col gap-5 bg-history-expanded p-6 text-xs",children:[A?(0,se.jsx)("div",{className:"space-y-2 rounded-lg border border-v2-lily/5 bg-v2-lily/5 p-5",children:(0,se.jsxs)("div",{className:"flex space-x-1 text-xs text-warning",children:[(0,se.jsx)("div",{className:"mt-0.5 h-3 w-3",children:(0,se.jsx)(X.Z,{width:12,height:12})}),(0,se.jsx)("span",{children:l.ag._({id:"c/YYU0"})})]})}):null,(0,se.jsx)(ce,{data:a}),(0,se.jsxs)("div",{className:"flex w-full justify-between",children:[(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"v3xrrA",values:{0:T.symbol}})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsxs)("span",{children:[K.toString()," ",T.symbol]})})})]}),(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"v3xrrA",values:{0:Z.symbol}})}),(0,se.jsxs)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:[F.toString()," ",Z.symbol]})]})]}),(0,se.jsxs)("div",{className:"flex w-full justify-between",children:[(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"oENZeD",values:{0:T.symbol}})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsxs)("span",{children:[B?B.toString():0," ",T.symbol]})})})]}),(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"oENZeD",values:{0:Z.symbol}})}),(0,se.jsxs)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:[I.toString()," ",Z.symbol]})]})]}),(0,se.jsxs)("div",{className:"flex w-full justify-between",children:[(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"2r2h/U"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsxs)("span",{children:[v.uf.format(_.toNumber())," ",T.symbol]})})})]}),(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"Ksq6nD"})}),(0,se.jsxs)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:[v.uf.format(V.toNumber())," ",T.symbol," ",(0,se.jsxs)("span",{className:"font-normal text-v2-lily/40",children:["(",new g.Z(q).mul(100).round().toNumber(),"%)"]})]})]})]}),(0,se.jsxs)("div",{className:"flex w-full justify-between",children:[(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"CRsuq4"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsxs)("span",{children:[(0,k.FM)(D),"(s)"]})})})]}),(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"FlgGDK"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:l.ag._({id:"B2jngP",values:{0:H.toString()}})})]})]}),(0,se.jsxs)("div",{className:"flex w-full justify-between",children:[(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"JgBY92"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsxs)("span",{children:[$.toString()," ",T.symbol]})})})]}),(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"FgCfwU"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:l.ag._({id:"B2jngP",values:{0:R.toNumber()}})})]})]}),Y||Q?(0,se.jsxs)("div",{className:"flex w-full justify-between",children:[Q&&(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"QYcUEf"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsx)("span",{children:"".concat(Q.toFixed(null!==P&&void 0!==P&&P.isFromBase?Z.decimals:T.decimals)," ").concat(null!==P&&void 0!==P&&P.isFromBase?Z.symbol:T.symbol)})})})]}),Y&&(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"rW4Gfm"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:"".concat(Y.toFixed(null!==P&&void 0!==P&&P.isFromBase?Z.decimals:T.decimals)," ").concat(null!==P&&void 0!==P&&P.isFromBase?Z.symbol:T.symbol)})]})]}):null,(0,se.jsxs)("div",{className:"flex w-full justify-between",children:[(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:z.eq(0)?l.ag._({id:"Y6e6FG"}):l.ag._({id:"HmUXXZ"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsx)("span",{className:"cursor-pointer hover:text-v2-primary",onClick:function(){return w(!b)},children:isNaN(E.toNumber())||isNaN(L.toNumber())?l.ag._({id:"eKC+EC"}):b?l.ag._({id:"SfKvGB",values:{0:(0,re.M)({value:Z.decimals?+L.toDecimalPlaces(Z.decimals):+L.toFixed()}),1:Z.symbol,2:T.symbol}}):l.ag._({id:"SfKvGB",values:{0:(0,re.M)({value:T.decimals?+E.toDecimalPlaces(T.decimals):+E.toFixed()}),1:T.symbol,2:Z.symbol}})})})})]}),(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"kNeEXg"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsx)("span",{className:"cursor-pointer hover:text-v2-primary",onClick:function(){return C((function(e){return!e}))},children:null!==(r=m[T.address])&&void 0!==r&&r.usd&&null!==(i=m[Z.address])&&void 0!==i&&i.usd?N?l.ag._({id:"SfKvGB",values:{0:(0,re.M)({value:m[T.address].usd/m[Z.address].usd}),1:Z.symbol,2:T.symbol}}):l.ag._({id:"SfKvGB",values:{0:(0,re.M)({value:m[Z.address].usd/m[T.address].usd}),1:T.symbol,2:Z.symbol}}):l.ag._({id:"eKC+EC"})})})})]})]}),(0,se.jsxs)("div",{className:"flex w-full justify-between",children:[O?(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:(0,se.jsx)(o.cC,{id:"88kg0+"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:(0,se.jsx)("span",{children:(0,u.Z)(O,"dd MMM y HH:mm")})})})]}):null,(0,se.jsxs)("div",{className:"flex basis-6/12 flex-col",children:[(0,se.jsx)("span",{className:"text-xs text-v2-lily/40",children:l.ag._({id:"bV0wGI"})}),(0,se.jsx)("span",{className:"mt-1 text-xs font-semibold text-v2-lily/75",children:(0,se.jsx)("div",{className:"flex space-x-1",children:J&&(null===W||void 0===W?void 0:W.toString())===(null===O||void 0===O?void 0:O.toString())&&!S?(0,se.jsx)("span",{children:(0,se.jsx)(o.cC,{id:"8JT1Lw"})}):(0,se.jsx)("span",{children:W?(0,u.Z)(W,"dd MMM y HH:mm"):l.ag._({id:"eKC+EC"})})})})]})]})]})};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,B.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){var t=e.filledPercentage;return(0,se.jsx)("div",{className:"flex w-24 items-center lg:w-fit",children:function(e){return e.eq(0)?(0,se.jsxs)("div",{className:(0,y.cn)("flex w-full flex-col items-center rounded-full px-2 py-1 text-xs text-danger lg:flex-row lg:gap-1"),children:[(0,se.jsx)(I.Wl,{width:18,height:18}),l.ag._({id:"vv7kpg"})]}):e.gte(100)?(0,se.jsxs)("div",{className:(0,y.cn)("flex w-full flex-col items-center px-2 py-1 text-xs text-light-active-state lg:flex-row lg:gap-1"),children:[(0,se.jsx)(I.bT,{width:18,height:18}),(0,se.jsx)("span",{children:l.ag._({id:"qqWcBV"})})]}):(0,se.jsxs)("div",{className:(0,y.cn)("flex w-full flex-col items-center px-2 py-1 text-xs text-warning lg:flex-row lg:gap-1"),children:[(0,se.jsx)(I.I4,{width:18,height:18}),l.ag._({id:"WRBOEH"})]})}(t)})},fe=function(e){var t=e.data,n=e.dcaClient,i=e.hideButtons,o=e.isActive,c=d.useState(!1),u=(0,s.Z)(c,2),m=u[0],x=u[1],h=d.useState("Overview"),v=(0,s.Z)(h,2),b=v[0],w=v[1],k=t.inputToken,N=t.outputToken,C=t.netDeposited,S=t.filledPercentage,M=t.isLaunchToken,P=t.warnings,T=P.tooFarFromExecution,Z=P.hasUnknownToken,A=(0,p.Os)().publicKey,O=(0,p.oP)().getExplorer,V=(0,Y.R3)(),B=(0,L.KO)(F.yz),I=(0,s.Z)(B,1)[0],K=(0,W.gs)().priorityLevel,U=(0,_.NL)(),G=(0,p.Bn)().connection,$=(0,p.C9)(),ee=(0,Q.T)(),te=d.useMemo((function(){return null===t||void 0===t?void 0:t.outRemaining.gt(0)}),[null===t||void 0===t?void 0:t.outRemaining]),ne=d.useCallback((0,r.Z)(a().mark((function e(){var r,s,i,o,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&A){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.closeDCA({dca:t.publicKey,user:A});case 5:return r=e.sent,s=r.tx,e.next=9,G.getLatestBlockhash("confirmed");case 9:return i=e.sent,o=i.blockhash,c=i.lastValidBlockHeight,s.recentBlockhash=o,s.lastValidBlockHeight=c,s.feePayer=A,e.next=17,V(s,{blockhash:o,lastValidBlockHeight:c,idl:f.xO,idlProgramId:f.PN["mainnet-beta"]},{errorMessage:l.ag._({id:"USbwAv"}),submittingMessage:l.ag._({id:"c6Eijb"}),successMessage:l.ag._({id:"zeb5xW"}),referenceFee:"MEDIUM"===K?I.dca.m:"HIGH"===K?I.dca.h:"VERY_HIGH"===K?I.dca.vh:void 0,minimumFee:F.uo,requestComputeBudgetLimit:3e5});case 17:u=e.sent,u.success&&(U.setQueryData([D,null===A||void 0===A?void 0:A.toString()],(function(e){if(!e)return e;var n=e.pages.map((function(e){var n=e.orders.filter((function(e){return e.orderKey!==t.publicKey.toString()}));return me(me({},e),{},{orders:n})}));return me(me({},e),{},{pages:n})})),U.invalidateQueries({queryKey:[D,null===A||void 0===A?void 0:A.toString()]})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:if(e.prev=25,t){e.next=28;break}return e.abrupt("return");case 28:return $([t.inputToken.address,t.outputToken.address]),e.finish(25);case 30:case"end":return e.stop()}}),e,null,[[0,22,25,30]])}))),[G,t,n,V,K,A,U,I.dca.h,I.dca.m,I.dca.vh,$]),re=d.useCallback((0,r.Z)(a().mark((function e(){var r,s,i,o,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,te&&t&&A){e.next=3;break}return e.abrupt("return");case 3:return r=new g.Z(t.outRemaining.toString()).mul(Math.pow(10,t.outputToken.decimals)).toFixed(0),e.next=6,n.withdraw({user:A,dca:t.publicKey,outputMint:t.outputToken.address,inputMint:t.inputToken.address,withdrawOutAmount:new E.BN(r),withdrawInAmount:new E.BN(0)});case 6:return s=e.sent,i=s.tx,e.next=10,G.getLatestBlockhash("confirmed");case 10:return o=e.sent,c=o.blockhash,u=o.lastValidBlockHeight,i.recentBlockhash=c,i.lastValidBlockHeight=u,i.feePayer=A,e.next=18,V(i,{blockhash:c,lastValidBlockHeight:u,idl:f.xO,idlProgramId:f.PN["mainnet-beta"]},{errorMessage:l.ag._({id:"YQF2ps"}),submittingMessage:l.ag._({id:"YKgQD4"}),successMessage:l.ag._({id:"Fqv4j7",values:{0:t.outRemaining.toString(),1:t.outputToken.symbol}}),referenceFee:"MEDIUM"===K?I.dca.m:"HIGH"===K?I.dca.h:"VERY_HIGH"===K?I.dca.vh:void 0});case 18:U.invalidateQueries({queryKey:[D]}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:if(e.prev=24,t){e.next=27;break}return e.abrupt("return");case 27:return $([t.inputToken.address,t.outputToken.address]),e.finish(24);case 29:case"end":return e.stop()}}),e,null,[[0,21,24,29]])}))),[te,t,A,n,G,V,U,K,I.dca.m,I.dca.h,I.dca.vh,$]),ie=d.useMemo((function(){return O(t.publicKey.toString(),"account")}),[O,t.publicKey]),oe=d.useMemo((function(){var e=t.trades.filter((function(e){return"Close"!==e.action&&"Open"!==e.action&&"Attempted Fill"!==e.action})).length;return e?"(".concat(e,")"):""}),[t.trades]),le=d.useCallback((function(e){e.stopPropagation(),ee(k,N)}),[k,N,ee]);return(0,se.jsxs)("div",{className:"mb-2 rounded-lg bg-dca-item",children:[(0,se.jsxs)("button",{className:"flex h-[64px] w-full items-center justify-center gap-3 px-2 text-xs md:px-4",onClick:function(){x((function(e){return!e}))},children:[(0,se.jsxs)("div",{className:"flex flex-1 flex-col items-start gap-1",children:[(0,se.jsxs)("div",{className:"flex basis-2/12 items-center space-x-2 text-left",children:[!Z&&!T||M?(0,se.jsx)(q.Z,{content:l.ag._({id:"Yyubcm"}),children:(0,se.jsxs)("button",{onClick:function(e){le(e)},className:"group/tokens flex cursor-pointer -space-x-2",children:[(0,se.jsx)("div",{className:"rounded-full border border-transparent group-hover/tokens:border-v2-primary/50 group-hover/tokens:shadow-swap-input-dark",children:(0,se.jsx)(H.Z,{info:k,height:20,width:20})}),(0,se.jsx)("div",{className:"rounded-full border border-transparent group-hover/tokens:border-v2-primary/50 group-hover/tokens:shadow-swap-input-dark",children:(0,se.jsx)(H.Z,{info:N,height:20,width:20})})]})}):(0,se.jsx)("div",{className:"fill-current text-warning",children:(0,se.jsx)(X.Z,{height:20,width:20})}),(0,se.jsxs)("div",{className:"flex items-center justify-center space-x-1.5 text-white",children:[(0,se.jsx)("span",{children:k.symbol}),(0,se.jsx)("div",{className:"fill-current text-v2-lily/50",children:(0,se.jsx)(z.Z,{width:10,height:10})}),(0,se.jsx)("span",{children:N.symbol})]}),(0,se.jsx)(R(),{href:ie,target:"_blank",className:"text-v2-lily/50 hover:text-v2-primary",children:(0,se.jsx)(J.Z,{width:12,height:20})})]}),(0,se.jsxs)("div",{className:"text-white/[.75] sm:hidden",children:[C.toString()," ",k.symbol]})]}),(0,se.jsxs)("div",{className:"hidden text-white/[.75] sm:block",children:[C.toString()," ",k.symbol]}),(0,se.jsxs)("div",{className:"flex flex-1 items-center justify-end space-x-4",children:[o?(0,se.jsxs)("span",{className:"transition-none",children:[new g.Z(S).mul(100).round().toNumber(),"%"]}):(0,se.jsx)(xe,{filledPercentage:new g.Z(S).mul(100).round()}),(0,se.jsx)("div",{className:(0,y.cn)(["fill-current text-v2-lily/[.35] transition-transform",m?"":"-rotate-90"]),children:(0,se.jsx)(j.Z,{})})]})]}),(0,se.jsxs)("div",{className:(0,y.cn)("overflow-hidden rounded-b-lg bg-dca-item transition-max-height duration-200",m?"animate-fade-in":"max-h-0 animate-fade-out"),children:[(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsxs)("div",{className:"flex space-x-2 px-2 text-sm md:space-x-4 md:px-4",children:[(0,se.jsx)("button",{type:"button",onClick:function(){return w("Overview")},className:(0,y.cn)("border-b-2 border-transparent p-3 text-v2-lily/50","Overview"===b?"border-b-v2-primary font-semibold text-white":""),children:l.ag._({id:"6/dCYd"})}),(0,se.jsx)("button",{type:"button",onClick:function(){return w("Orders")},className:(0,y.cn)("border-b-2 border-transparent p-3 text-v2-lily/50","Orders"===b?"border-b-v2-primary font-semibold text-white":""),children:l.ag._({id:"BjVwX0",values:{completedOrders:oe}})})]}),i?null:(0,se.jsxs)("div",{className:"mr-3 flex gap-3 pb-2 md:mr-5",children:[te&&(0,se.jsx)("button",{onClick:re,type:"button",className:"from-[rgba(199,242,132,1))] w-full rounded-lg border border-v2-lily/10 bg-[#121D28] to-[rgba(0,190,240,1)] px-2 py-1.5 text-xs text-white hover:border hover:border-v2-primary hover:bg-v2-primary/5 hover:bg-gradient-to-r",children:l.ag._({id:"OsyKSt"})}),(0,se.jsx)("button",{onClick:ne,type:"button",className:"from-[rgba(199,242,132,1))] w-full rounded-lg border border-v2-lily/10 bg-[#121D28] to-[rgba(0,190,240,1)] px-2 py-1.5 text-xs text-white hover:border hover:border-v2-primary hover:bg-v2-primary/5 hover:bg-gradient-to-r",children:t.balance.gt(0)?l.ag._({id:"GPQ1MS"}):l.ag._({id:"1VvgeM"})})]})]}),"Overview"===b?(0,se.jsx)(ue,{data:t}):null,"Orders"===b?(0,se.jsx)(ae,{dcaOrder:t}):null]})]})},he=function(e){var t=e.dca,n=e.dcaClient,r=(0,p.Bn)(),i=r.getTokenInfo,a=r.newTokenListMap,o=(0,p.y6)().tokenPriceMap,c=d.useMemo((function(){return[i(t.inputMint),i(t.outputMint)]}),[t.inputMint,t.outputMint,i]),u=(0,s.Z)(c,2),m=u[0],x=u[1],f=d.useMemo((function(){var e;return o&&m?null===(e=o[null===m||void 0===m?void 0:m.address])||void 0===e?void 0:e.usd:null}),[o,m]),h=(0,G.b)(m,x).baseTokenInfo,v=d.useMemo((function(){if(!U.d.find((function(e){return e===(null===m||void 0===m?void 0:m.address)||e===(null===x||void 0===x?void 0:x.address)})))return null;var e=(null===m||void 0===m?void 0:m.address)===(null===h||void 0===h?void 0:h.address);return{isFromBase:Boolean(e)}}),[null===h||void 0===h?void 0:h.address,null===m||void 0===m?void 0:m.address,null===x||void 0===x?void 0:x.address]),w=d.useMemo((function(){var e=t.inputMint,n=t.outputMint,r=t.createdAt,s=t.cycleFrequency,o=t.outReceived,c=t.outWithdrawn,u=t.inAmountPerCycle,d=t.inDeposited,m=t.inUsed,x=t.inWithdrawn,h=t.minOutAmount,p=t.maxOutAmount,w=t.orderKey,j=t.trades,y=Date.parse(r);if(j.length>0){var N=j.find((function(e){return"Fill"===e.action}));N&&(y=Date.parse(N.confirmedAt)+1e3*Number(s))}var C=new g.Z(h),S=new g.Z(p),M=new g.Z(o),P=new g.Z(m),T=new g.Z(u),A=new g.Z(d),O=new g.Z(x),V=new g.Z(c),D=new g.Z(s),B=A.sub(O).sub(P),I=P.div(M),F=M.div(P),_=new g.Z(B).div(T).round(),E=new g.Z(A).div(T).round(),L=i(e),K=null!==L&&void 0!==L?L:(0,ee.Tr)({address:e}),R=i(n),H=null!==R&&void 0!==R?R:(0,ee.Tr)({address:n}),q=new g.Z(y).add(36e5).lte(Date.now());g.Z.set({rounding:g.Z.ROUND_DOWN});var U=new g.Z(A).div(T).round(),W=f?new g.Z(A).div(U).mul(f):void 0,G=!!W&&W.lessThan($.hl),Y=new g.Z(A).minus(O),Q=new g.Z(P),z=a.has(H.address)||a.has(K.address),J=(0,ee.z$)({inputMint:e,outputMint:n,orderKey:w,openTx:t.openTx,createdAt:t.createdAt}),X=[].concat((0,Z.Z)(j),[J]);return{publicKey:new b.PublicKey(w),inputToken:K,outputToken:H,isLaunchToken:z,warnings:{hasUnknownToken:!L||!R,tooFarFromExecution:q,lessThanDCALimit:G},inAmountPerCycle:new g.Z(T),createdAt:(0,k.bl)(r),cycleFrequency:D.toNumber(),balance:B,initialDeposited:new g.Z(A),netDeposited:Y,totalFilled:Q,outReceived:new g.Z(M),outRemaining:new g.Z(M).sub(V),outWithdrawn:new g.Z(V),inRemaining:new g.Z(A.sub(P).sub(O)).div(new g.Z(10).toPower(K.decimals)),avgPrice:I,inverseAvgPrice:F,filledPercentage:Q.div(Y),status:Q.eq(Y)?l.ag._({id:"qqWcBV"}):l.ag._({id:"J6n7sl"}),cyclesLeft:_,totalCycles:E,nextCycleAt:new Date(y),minOutAmount:function(){if(null!==v&&void 0!==v&&v.isFromBase){if(!S||S.isZero())return null;var e=new g.Z(T);return new g.Z(S).div(e)}if(!C||C.isZero())return null;var t=new g.Z(T),n=new g.Z(C);return t.div(n)}(),maxOutAmount:function(){if(null!==v&&void 0!==v&&v.isFromBase){if(!C||C.isZero())return null;var e=new g.Z(T);return new g.Z(C).div(e)}if(!S||S.isZero())return null;var t=new g.Z(T),n=new g.Z(S);return t.div(n)}(),trades:X}}),[t,i,null===v||void 0===v?void 0:v.isFromBase,f,a]);return w?(0,se.jsx)(fe,{data:w,isActive:!0,dcaClient:n}):null},pe=function(e){var t,n=e.dcaClient,i=(0,p.Os)(),l=d.useState(0),c=(0,s.Z)(l,2),u=c[0],m=c[1],x=function(e){var t=e.walletPublicKey,n=e.pageNumber,s=void 0===n?1:n,i=(0,A.Bn)().requestTokenInfo;return(0,O.a)([D,null===t||void 0===t?void 0:t.toString(),s],(0,r.Z)(a().mark((function e(){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return e.prev=1,e.next=4,V.ZP.get("https://worker.jup.ag/active-dca/v2/".concat(t.toBase58(),"?page=").concat(s,"&includeFailedTx=true"),{headers:{"Cache-Control":"no-cache"}}).json();case 4:return n=e.sent,r=n.orders.map((function(e){return e.inputMint})),o=n.orders.map((function(e){return e.outputMint})),e.next=9,i(Array.from(new Set([].concat((0,Z.Z)(r),(0,Z.Z)(o)))).map((function(e){return e.toString()})));case 9:return e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(1),console.error("DCA List failed to load",e.t0);case 15:return e.abrupt("return",{totalPages:0,page:1,orders:[]});case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),{keepPreviousData:!0,refetchInterval:3e4})}({walletPublicKey:i.publicKey,pageNumber:u+1}),f=x.data,h=x.isFetching,v=(0,P.Y)({pageIndex:u,pageCount:null!==(t=null===f||void 0===f?void 0:f.totalPages)&&void 0!==t?t:0,setPageIndex:m}),b=v.pager,g=v.canPreviousPage,w=v.canNextPage,j=v.gotoPage;return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"relative mt-3",children:[f&&f.orders.length>0?(0,se.jsx)("div",{className:"hideScrollbar w-full overflow-x-auto border-white/5",children:f.orders.map((function(e){return(0,se.jsx)(he,{dca:e,dcaClient:n},e.orderKey)}))}):null,f&&f.orders.length>0&&h?(0,se.jsx)("div",{className:"absolute left-0 top-0 h-full min-h-[64px] w-full bg-black/10 backdrop-blur-sm"}):null,f&&0===f.orders.length&&(0,se.jsx)(M.Z,{loading:h,emptyText:(0,se.jsx)(o.cC,{id:"14NA+n"})})]}),f&&f.orders.length>0&&void 0!==(null===f||void 0===f?void 0:f.totalPages)&&(null===f||void 0===f?void 0:f.totalPages)>0?(0,se.jsx)(T.Z,{canPreviousPage:g,gotoPage:j,pageIndex:u,pager:b,canNextPage:w}):null]})},ve=n(56100),be="historical-dca-orders",ge=function(e){var t,n=e.dcaClient,i=(0,p.Os)(),l=(0,p.Bn)().getTokenInfo,c=d.useState(0),u=(0,s.Z)(c,2),m=u[0],x=u[1],f=function(e){var t=e.walletPublicKey,n=e.pageNumber,s=void 0===n?1:n,i=(0,A.Bn)().requestTokenInfo;return(0,O.a)([be,null===t||void 0===t?void 0:t.toString(),s],(0,r.Z)(a().mark((function e(){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{totalPages:0,page:1,orders:[]});case 2:return e.prev=2,e.next=5,V.ZP.get("https://worker.jup.ag/historical-dca/v2/".concat(t.toBase58(),"?page=").concat(s,"&includeFailedTx=true"),{headers:{"Cache-Control":"no-cache"}}).json();case 5:return n=e.sent,r=n.orders.map((function(e){return e.inputMint})),o=n.orders.map((function(e){return e.outputMint})),e.next=10,i(Array.from(new Set([].concat((0,Z.Z)(r),(0,Z.Z)(o)))).map((function(e){return e.toString()})));case 10:return e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(2),console.error("DCA List failed to load",e.t0),e.abrupt("return",{totalPages:0,page:1,orders:[]});case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),{keepPreviousData:!0})}({walletPublicKey:i.publicKey,pageNumber:m+1}),h=f.data,v=f.isFetching,w=(0,P.Y)({pageIndex:m,pageCount:null!==(t=null===h||void 0===h?void 0:h.totalPages)&&void 0!==t?t:0,setPageIndex:x}),j=w.pager,y=w.canPreviousPage,k=w.canNextPage,N=w.gotoPage,C=d.useMemo((function(){return null!==h&&void 0!==h&&h.orders&&0!==h.orders.length?null===h||void 0===h?void 0:h.orders.map((function(e){var t=e.inputMint,n=e.outputMint,r=e.createdAt,s=e.cycleFrequency,i=e.outReceived,a=e.inAmountPerCycle,o=e.inDeposited,c=e.inUsed,u=e.inWithdrawn,d=e.orderKey,m=e.trades,x=l(t.toString())||(0,ee.Tr)({address:t.toString()}),f=l(n.toString())||(0,ee.Tr)({address:n.toString()}),h=new g.Z(a),p=new g.Z(o),v=new g.Z(u),w=new g.Z(s),j=new g.Z(i),y=new g.Z(c),k=new g.Z(p.toString()),N=new g.Z(y.toString()),C=new g.Z(j.toString()),S=new g.Z(v.toString()),M=new g.Z(p.toString()),P=new g.Z(p.toString()).div(h.toString()).round(),T=(0,ee.oY)({inputMint:t,outputMint:n,orderKey:d,closeTx:e.closeTx,updatedAt:e.updatedAt}),A=(0,ee.z$)({inputMint:t,outputMint:n,orderKey:d,openTx:e.openTx,createdAt:e.createdAt}),O=[T].concat((0,Z.Z)(m),[A]);return{account:d,publicKey:new b.PublicKey(d),inputToken:x,outputToken:f,isLaunchToken:!1,warnings:{},createdAt:new Date(r),initialDeposited:k,inAmountPerCycle:new g.Z(h.toString()),cycleFrequency:w.toNumber(),outReceived:C,totalFilled:N,inWithdrawn:S,outWithdrawn:C,avgPrice:N.div(C),inverseAvgPrice:C.div(N),filledPercentage:N.div(k),fills:e.trades,netDeposited:M,cyclesLeft:new g.Z(0),totalCycles:P,balance:new g.Z(0),outRemaining:new g.Z(0),inRemaining:new g.Z(0),status:"closed",nextCycleAt:null,adjustedNextCycleAmountLeft:new g.Z(0),closedFills:e.trades,trades:O}})):[]}),[null===h||void 0===h?void 0:h.orders,l]);return v&&!h?(0,se.jsx)(ve.O,{className:"mt-2"}):(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"relative mt-3",children:[C.length>0&&(0,se.jsx)("div",{className:"hideScrollbar mt-3 w-full overflow-x-auto border-white/5",children:C.map((function(e){return(0,se.jsx)(fe,{data:e,dcaClient:n,hideButtons:!0},e.publicKey.toString())}))}),h&&h.orders.length>0&&v?(0,se.jsx)("div",{className:"absolute left-0 top-0 h-full min-h-[64px] w-full bg-black/10 backdrop-blur-sm"}):null,h&&0===C.length&&(0,se.jsx)(M.Z,{loading:v,emptyText:(0,se.jsx)(o.cC,{id:"14NA+n"})})]}),C&&C.length>0&&void 0!==(null===h||void 0===h?void 0:h.totalPages)&&(null===h||void 0===h?void 0:h.totalPages)>0?(0,se.jsx)(T.Z,{canPreviousPage:y,gotoPage:N,pageIndex:m,pager:j,canNextPage:k}):null]})},we=n(13246),je=n(11823),ye=n(56720),ke=n(71996),Ne=n(39268),Ce=n.n(Ne),Se=n(72997),Me=n(1242),Pe=n(67420),Te=n(23632),Ze=n(89521),Ae=n(68718),Oe=n(87148),Ve=n(3082),De=function(e){var t,n=e.defaultDuration,r=(0,Ve.useRouter)(),s=(0,Oe.Z)(null===r||void 0===r||null===(t=r.query)||void 0===t?void 0:t.period);return{period:(0,d.useMemo)((function(){var e,t;if(null!==r&&void 0!==r&&null!==(e=r.query)&&void 0!==e&&e.period&&s!==(null===r||void 0===r||null===(t=r.query)||void 0===t?void 0:t.period))switch(r.query.period){case"minute":return"minute";case"hour":return"hour";case"day":return"day";case"week":return"week";case"month":return"month";default:return}}),[r.query]),duration:n}},Be=n(50269),Ie=n(89881),Fe=n(54566),_e=n(71130),Ee=n(33118),Le=n(78013),Ke=n(81264),Re=n(6397),He=n(85394),qe=n(62146),Ue=n(10563),We=n(69825),Ge=n(95523),Ye=n(37124),Qe=n(57917),ze=function(e){var t=e.loading,n=e.disabled,r=e.isAccountFrozen,s=e.toastId,i=e.isToken2022,a=e.hasEnoughBalance,l=(0,d.useState)(""),c=l[0],u=l[1],m=(0,d.useState)(null),x=m[0],f=m[1],h=(0,Qe.kH)(s),p=h.isProcessing,v=h.isTxProcessed,b=h.isWaitingWalletToSign,g=(0,d.useCallback)((function(e){u("opacity-0"),setTimeout((function(){f(e),u("opacity-100")}),200)}),[]),w=(0,d.useMemo)((function(){return i?(0,se.jsx)(o.cC,{id:"4vEY9N"}):a?!!r&&(0,se.jsx)(o.cC,{id:"DtetjN"}):(0,se.jsx)(o.cC,{id:"znqB4T"})}),[i,a,r]);return(0,d.useEffect)((function(){g(t?v?(0,se.jsx)(o.cC,{id:"zisYnV"}):b?(0,se.jsx)(o.cC,{id:"fNEu19"}):p?(0,se.jsx)(o.cC,{id:"vrnnn9"}):(0,se.jsx)(o.cC,{id:"yfHIVJ"}):(0,se.jsx)(o.cC,{id:"Lz+k5R"}))}),[t,p,v,b,g]),(0,se.jsx)(Ye.Z,{disabled:n||t,loading:t,type:"submit",children:(0,se.jsx)("span",{className:(0,te.cn)("duration-200",c),children:w?(0,se.jsx)(o.cC,{id:"0ZecgP",values:{shouldShowError:w}}):x})})},Je=n(55259),Xe=n(53636),$e=n(28940),et=n(55948),tt=n(43723),nt=function(e){var t,n=e.fromValue,r=e.intervalNumber,s=e.selectedPeriodName,i=e.fromTokenInfo,a=e.toTokenInfo,c=e.orderInfo,u=e.atomFormState,d=e.isLaunchPage,m=e.jupiterResult,x=(0,$e.Z)(),f=x.showSummary,h=x.toggleSummary;return(0,se.jsxs)("div",{className:"w-full",children:[(0,se.jsx)("div",{className:"mb-4 mt-3 flex items-center justify-center",children:(0,se.jsxs)("button",{type:"button",onClick:h,className:"flex cursor-pointer items-center space-x-2 text-white/25 hover:text-v2-primary",children:[(0,se.jsx)("div",{className:"flex h-4 w-4 items-center fill-current",children:f?(0,se.jsx)(tt.Z,{}):(0,se.jsx)(et.Z,{})}),(0,se.jsx)("span",{className:"text-xs font-medium",children:(0,se.jsx)(o.cC,{id:"UzLpLn"})})]})}),f&&(0,se.jsx)("div",{className:"mt-3 w-full rounded-lg border border-v2-lily/10 p-5 text-xs",children:(0,se.jsxs)("div",{className:"space-y-1",children:[(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("span",{className:"text-white/50",children:l.ag._({id:"1biLLk"})}),(0,se.jsxs)("span",{className:"text-white/[.75]",children:[(0,se.jsx)(Xe.Z,{currency:!1,value:n.floatValue||"-"})," ",i.symbol]})]}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("span",{className:"text-white/50",children:l.ag._({id:"Xl5OLz"})}),(0,se.jsxs)("span",{className:"flex space-x-1 text-white/[.75]",children:[(0,se.jsx)(Xe.Z,{currency:!1,value:(null===c||void 0===c?void 0:c.perCycle)||"-"}),(0,se.jsx)("span",{children:i.symbol})]})]}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("span",{className:"text-white/50",children:l.ag._({id:"GtPYOF"})}),(0,se.jsx)("span",{className:"text-white/[.75]",children:a.symbol})]}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("span",{className:"text-white/50",children:l.ag._({id:"m8p0jR"})}),(0,se.jsx)("span",{className:"text-white/[.75]",children:"".concat(r.formattedValue," ").concat(s,"(s)")})]}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("span",{className:"text-white/50",children:l.ag._({id:"WAjFYI"})}),(0,se.jsx)("span",{className:"text-white/[.75]",children:"pre-launch"===(null===u||void 0===u?void 0:u.marketStatus)?l.ag._({id:"8JT1Lw"}):l.ag._({id:"9L7NSU"})})]}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("span",{className:"text-white/50",children:l.ag._({id:"RGhLp7"})}),(0,se.jsx)("span",{className:"text-white/[.75]",children:"pre-launch"===(null===u||void 0===u?void 0:u.marketStatus)?l.ag._({id:"LEZk0n"}):(null===c||void 0===c?void 0:c.endDate)||"-"})]}),!d&&(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("span",{className:"text-white/50",children:l.ag._({id:"u5EmZu"})}),(0,se.jsxs)("span",{className:"flex space-x-1 text-white/[.75]",children:[(null===m||void 0===m||null===(t=m.priceImpactPct)||void 0===t?void 0:t.toFixed(2))||"-","%"]})]}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("span",{className:"text-white/50",children:l.ag._({id:"J3lhKT"})}),(0,se.jsx)("span",{className:"font-bold text-v2-primary",children:"0.1%"})]}),(0,se.jsxs)("div",{className:"bg-black/15 mt-3 rounded-lg border border-white/[.15] bg-white/5 px-4 py-3 text-xs text-white/75",children:[(0,se.jsx)(o.cC,{id:"egVHzO"}),(0,se.jsx)("a",{className:"ml-1 cursor-pointer underline",href:"https://station.jup.ag/guides/dca/how-dca-work",target:"_blank",children:l.ag._({id:"zwWKhA"})})]})]})})]})},rt=n(32044);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){(0,B.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=Ce()((function(){return Promise.resolve().then(n.bind(n,89881))}),{ssr:!1,loadableGenerated:{webpack:function(){return[89881]}}}),ot={fromTokenAddress:"",toTokenAddress:"",period:"minute",fromValue:{formattedValue:"120",value:"120",floatValue:120},intervalNumber:{formattedValue:"1",value:"1",floatValue:1},numberOfOrders:{formattedValue:"2",value:"2",floatValue:2},minValue:{formattedValue:"",value:"",floatValue:void 0},maxValue:{formattedValue:"",value:"",floatValue:void 0}},lt="PAIRS_SELECT_TO_PAIR_MODAL_ID",ct=function(e){var t=e.inToken,n=e.outToken,i=e.type,M=(0,p.Os)(),P=(0,p.Rc)(),T=d.useMemo((function(){return new f.DA(P,"mainnet-beta")}),[P]),Z=(0,p.C9)(),A=(0,h._)("dca-interval-number",ot.intervalNumber),V=(0,s.Z)(A,2),B=V[0],I=V[1],E=(0,h._)("dca-period",ot.period),K=(0,s.Z)(E,2),R=K[0],H=K[1],U=(0,h._)("dca-number-of-orders",ot.numberOfOrders),G=(0,s.Z)(U,2),z=G[0],J=G[1],X=(0,L.KO)(Me.dS),te=(0,s.Z)(X,1)[0].GRAPH_PARAMS,ne=(0,d.useState)(""),ie=ne[0],ae=ne[1],oe=(0,ke.y)({queryKey:[D]}),le=(0,ke.y)({queryKey:[be]}),ce=d.useMemo((function(){return Boolean(oe)||Boolean(le)}),[oe,le]),ue=(0,m.cI)({mode:"onChange",defaultValues:ot}),de=ue.control,me=ue.setValue,xe=ue.handleSubmit,fe=ue.formState,he=fe.isDirty,Ne=fe.isSubmitting,Ce=ue.watch,Oe=(0,Pe.hv)().appDomain,Ve=(0,p.Bn)(),Ye=Ve.getTokenInfo,Qe=Ve.newTokenListMap,Xe=Ve.tokenMap,$e=(0,_.NL)(),et=(0,Q.T)(),tt=(0,p.MG)().constants.MAX_INPUT_LIMIT,st=d.useMemo((function(){return Array.from(Xe.values()).map((function(e){return e.address}))}),[Xe]),ct=(0,m.qo)({control:de,name:"fromValue"}),ut=(0,m.qo)({control:de,name:"fromTokenAddress"}),dt=(0,m.qo)({control:de,name:"toTokenAddress"}),mt=(0,m.qo)({control:de,name:"intervalNumber"}),xt=(0,m.qo)({control:de,name:"period"}),ft=(0,m.qo)({control:de,name:"numberOfOrders"}),ht=(0,m.qo)({control:de,name:"minValue"}),pt=(0,m.qo)({control:de,name:"maxValue"}),vt="launch-page"===(null===i||void 0===i?void 0:i.mode),bt=d.useMemo((function(){return(0,v.kL)(t)||(0,v.kL)(n)}),[t,n]),gt=(0,Ue.Q)({fromTokenInfo:t,toTokenInfo:n,quoteResponse:void 0,isLaunchPage:vt});d.useEffect((function(){var e=Ce((function(e,t){var n=e.intervalNumber,r=e.numberOfOrders,s=e.period,i=t.name;"intervalNumber"===i?I(n):"period"===i?H(s):"numberOfOrders"===i&&r&&J(r)}));return function(){return e.unsubscribe()}}),[Ce,me,I,J,H]),d.useEffect((function(){me("intervalNumber",B),me("period",R),me("numberOfOrders",z)}),[me]),d.useEffect((function(){t!==n&&(t&&me("fromTokenAddress",t.address),n&&me("toTokenAddress",n.address))}),[t,n,me,et,ut,dt]);var wt=d.useMemo((function(){return{fromTokenInfo:Ye(ut)||(0,ee.Tr)({address:ut}),toTokenInfo:Ye(dt)||(0,ee.Tr)({address:dt})}}),[Ye,ut,dt]),jt=wt.fromTokenInfo,yt=wt.toTokenInfo,kt=d.useMemo((function(){return $.tc.find((function(e){return e.id===xt}))}),[xt]),Nt=d.useMemo((function(){return{selectedPeriodName:(null===kt||void 0===kt?void 0:kt.name)||"",periodOption:$.tc.map((function(e){return e.id})),secondsInPeriod:(null===kt||void 0===kt?void 0:kt.secondsInPeriod)||0}}),[kt]),Ct=Nt.selectedPeriodName,St=Nt.periodOption,Mt=Nt.secondsInPeriod,Pt=(0,p.y6)(),Tt=Pt.tokenPriceMap,Zt=Pt.getUSDValue,At=Pt.isLatest,Ot=d.useMemo((function(){var e,t;return jt&&yt?[null===(e=Tt[jt.address])||void 0===e?void 0:e.usd,null===(t=Tt[yt.address])||void 0===t?void 0:t.usd]:[null,null]}),[jt,yt,Tt,At]),Vt=(0,s.Z)(Ot,2),Dt=Vt[0],Bt=Vt[1];d.useEffect((function(){Dt||Zt(jt.address),Bt||Zt(yt.address)}),[Dt,Bt,Zt,jt.address,yt.address]);var It=d.useMemo((function(){if(kt&&mt.value&&jt&&null!==ct&&void 0!==ct&&ct.value&&null!==ft&&void 0!==ft&&ft.value&&(0,v.Hd)(null===ft||void 0===ft?void 0:ft.value)&&(0,v.Hd)(ct.value)){var e=new g.Z(ct.value).div(ft.value).toDP(jt.decimals).toFixed(),t=new g.Z(mt.value).mul(kt.secondsInPeriod),n=Number(ft.value)-1,r=(0,c.Z)(new Date,{seconds:new g.Z(t).mul(n).toNumber()});return{perCycle:e,endDate:(0,u.Z)(r,"dd MMM y HH:mm")}}}),[kt,mt.value,jt,ct.value,null===ft||void 0===ft?void 0:ft.value]),Ft=d.useMemo((function(){return Qe.has(ut)||Qe.has(dt)}),[Qe,ut,dt]),_t=(0,p.FB)(ut).balance,Et=(0,p.FB)(dt).hasBalance,Lt=d.useMemo((function(){return!(null===jt||void 0===jt?void 0:jt.decimals)||new g.Z((null===ct||void 0===ct?void 0:ct.floatValue)||0).lessThanOrEqualTo(_t)}),[_t,null===jt||void 0===jt?void 0:jt.decimals,null===ct||void 0===ct?void 0:ct.floatValue]),Kt=d.useCallback((function(){var e=new g.Z(_t);ut===w.W4.toBase58()&&(e=e.minus(ye.WO)),me("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[_t,ut,me]),Rt=d.useMemo((function(){return null===jt||void 0===jt?void 0:jt.symbol}),[jt]),Ht=d.useMemo((function(){return null===yt||void 0===yt?void 0:yt.symbol}),[yt]),qt=d.useRef(!1),Ut=(0,Ke.s)({fromPair:ut,fromTokenInfo:jt,toTokenInfo:yt,side:null===i||void 0===i?void 0:i.side,isSubmitting:Ne}),Wt=d.useCallback((function(e,t){if(e){var n=t?e.mul(t):e;me("maxValue",{formattedValue:n.toFixed(),value:n.toFixed(),floatValue:n.toNumber()}),me("minValue",{formattedValue:"0",value:"0",floatValue:0})}}),[me]),Gt=d.useCallback((function(e,t){if(e){var n=t?e.mul(t):e;me("maxValue",{formattedValue:"0",value:"0",floatValue:0}),me("minValue",{formattedValue:n.toFixed(),value:n.toFixed(),floatValue:n.toNumber()})}}),[me]),Yt=Ut.rateDecimals,Qt=Ut.isBaseQuoteMode,zt=Ut.isFetchingMarketPrice,Jt=Ut.quoteTokenInfo,Xt=Ut.baseTokenInfo,$t=function(e,t){var n=t.swapMarketPrice,r=t.jupSwapMarketPrice,i=t.fromTokenPrice,a=t.toTokenPrice,o=t.side,l=t.isEditingTargetPrice,c=t.onClickSetMaxPrice,u=t.onClickSetMinPrice,m=(0,L.KO)(Me.dS),x=(0,s.Z)(m,1)[0],f=x.GRAPH_PARAMS,h=x.FORM_CONFIG.DCA,p=d.useState({marketStatus:"unset",swapMarketPrice:new g.Z(f.i),hasNewToken:!1,constants:h.PRE_LAUNCH_CONSTANTS}),v=(0,s.Z)(p,2),b=v[0],w=v[1];return d.useEffect((function(){e&&w((function(e){return it(it({},e),{},{constants:h.PRE_LAUNCH_CONSTANTS,marketStatus:"unset",swapMarketPrice:n||null})}))}),[w,n,h,e]),d.useEffect((function(){if(e){if("unset"===b.marketStatus&&!r){if("buy"===o&&!i)return;if("sell"===o&&!a)return;if(w((function(e){return it(it({},e),{},{marketStatus:"pre-launch"})})),l.current)return;"buy"===o?b.constants.initialPrice&&c(new g.Z(b.constants.initialPrice||0).div(i||0)):u(new g.Z(b.constants.minPrice||0).div(a||0))}if(("unset"===b.marketStatus||"pre-launch"===b.marketStatus)&&r&&r.mul(.99).lt(f.m)){if(w((function(e){return it(it({},e),{},{constants:h.IN_RANGE_CONSTANTS,marketStatus:"in-range",swapMarketPrice:r})})),l.current)return;"buy"===o?c(new g.Z(r||0)):u(new g.Z(b.constants.minPrice||0).div(a||0))}if(r&&r.mul(.99).gte(f.m)){if(w((function(e){return it(it({},e),{},{constants:h.OUT_OF_RANGE_CONSTANTS,marketStatus:"out-of-range",swapMarketPrice:r})})),l.current)return;c(new g.Z(0)),u(new g.Z(0))}}}),[h,b.constants.initialPrice,b.constants.minPrice,b.marketStatus,b.swapMarketPrice,i,c,u,w,a,f,r,l,o,e]),e?b:null}(vt,{swapMarketPrice:Ut.swapMarketPrice,jupSwapMarketPrice:Ut.jupSwapMarketPrice,fromTokenPrice:Dt,toTokenPrice:Bt,side:null===i||void 0===i?void 0:i.side,isEditingTargetPrice:qt,onClickSetMaxPrice:Wt,onClickSetMinPrice:Gt});d.useMemo((function(){qt.current=!1,jt&&me("fromTokenAddress",jt.address),yt&&me("toTokenAddress",yt.address)}),[null===jt||void 0===jt?void 0:jt.address,null===yt||void 0===yt?void 0:yt.address,null===i||void 0===i?void 0:i.side,vt]);var en=(0,Ie.useIsAccountFrozen)(jt),tn=(0,Ie.useIsAccountFrozen)(yt),nn=(0,Te.Z)().fetchPrice,rn=(0,k.Nr)(d.useMemo((function(){return{fromTokenPrice:Dt,toTokenPrice:Bt,quoteTokenInfo:Jt,baseTokenInfo:Xt,isBaseQuoteMode:Qt,rateDecimals:Yt,fromValue:ct,numberOfOrders:ft}}),[Dt,Bt,Jt,Xt,Qt,Yt,ct,ft]),200),sn=(0,O.a)(["jupiter-quote",rn],(0,r.Z)(a().mark((function e(){var t,n,r,s,i,o,l,c,u,d,m,x,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=rn.fromTokenPrice,n=rn.toTokenPrice,r=rn.quoteTokenInfo,s=rn.baseTokenInfo,i=rn.isBaseQuoteMode,o=rn.rateDecimals,l=rn.fromValue,c=rn.numberOfOrders,t&&n&&r&&s&&l.value&&null!==c&&void 0!==c&&c.value){e.next=4;break}return e.abrupt("return",null);case 4:return u=null!==i&&void 0!==i&&i.isFromBase?{fromTokenInfo:s,toTokenInfo:r}:{fromTokenInfo:r,toTokenInfo:s},d=u.fromTokenInfo,m=u.toTokenInfo,x=new g.Z(l.value).div(new g.Z(c.value)).mul(Math.pow(10,d.decimals)).toFixed(0),null!==i&&void 0!==i&&i.isFromBase,f={fromTokenInfo:d,toTokenInfo:m,amount:x,decimals:o},e.next=9,nn(f);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),{enabled:!Ne,keepPreviousData:!0}),an=sn.data,on=sn.isLoading,ln=(0,Y.R3)(),cn=(0,L.KO)(F.yz),un=(0,s.Z)(cn,1)[0],dn=(0,W.gs)().priorityLevel,mn=d.useCallback(function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,s,i,l,c,u,d,m,x,h,p,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.fromValue,r=t.minValue,s=t.maxValue,!(jt&&yt&&n.floatValue&&null!==ft&&void 0!==ft&&ft.floatValue&&M.signTransaction&&M.publicKey)){e.next=23;break}return i=new g.Z(n.floatValue).mul(Math.pow(10,jt.decimals)),l=i.div(ft.floatValue),c=function(){if(null!==Qt&&void 0!==Qt&&Qt.isFromBase){if(!r.floatValue)return null;var e=new g.Z(l).div(Math.pow(10,jt.decimals)),t=new g.Z(r.floatValue),n=e.mul(t).mul(Math.pow(10,yt.decimals)).floor().toFixed(0);return BigInt(n)}if(!s.floatValue)return null;var i=new g.Z(l).div(Math.pow(10,jt.decimals)),a=new g.Z(s.floatValue),o=i.div(a).mul(Math.pow(10,yt.decimals)).floor().toFixed(0);return BigInt(o)}(),u=function(){if(null!==Qt&&void 0!==Qt&&Qt.isFromBase){if(!s.floatValue)return null;var e=new g.Z(l).div(Math.pow(10,jt.decimals)),t=new g.Z(s.floatValue),n=e.mul(t).mul(Math.pow(10,yt.decimals)).floor().toFixed(0);return BigInt(n)}if(!r.floatValue)return null;var i=new g.Z(l).div(Math.pow(10,jt.decimals)),a=new g.Z(r.floatValue),o=i.div(a).mul(Math.pow(10,yt.decimals)).floor().toFixed(0);return BigInt(o)}(),d=Re.Zt.address===dt?void 0:!!Et||void 0,e.next=10,T.createDcaV2({inAmount:BigInt(i.toFixed(0)),cycleSecondsApart:BigInt(Mt*((null===mt||void 0===mt?void 0:mt.floatValue)||1)),inAmountPerCycle:BigInt(l.toFixed(0)),inputMint:new b.PublicKey(ut),outputMint:new b.PublicKey(dt),minOutAmountPerCycle:c,maxOutAmountPerCycle:u,startAt:null,user:M.publicKey,payer:M.publicKey},!0,d);case 10:return m=e.sent,x=m.tx,e.next=14,P.getLatestBlockhash("confirmed");case 14:return h=e.sent,p=h.blockhash,w=h.lastValidBlockHeight,x.recentBlockhash=p,x.lastValidBlockHeight=w,x.feePayer=M.publicKey,e.next=22,ln(x,{blockhash:p,idl:f.xO,idlProgramId:f.PN["mainnet-beta"],lastValidBlockHeight:w},{successMessage:(0,se.jsx)(o.cC,{id:"dTHUMT",values:{0:n.floatValue,1:jt.symbol,2:yt.symbol,3:ft.floatValue}}),submittingMessage:(0,se.jsx)(o.cC,{id:"yfHIVJ"}),errorMessage:(0,se.jsx)(o.cC,{id:"cv8C1w"}),referenceFee:"MEDIUM"===dn?un.dca.m:"HIGH"===dn?un.dca.h:"VERY_HIGH"===dn?un.dca.vh:void 0,minimumFee:F.uo,toastId:ie,requestComputeBudgetLimit:3e5});case 22:$e.invalidateQueries({queryKey:[D]});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.error(e.t0);case 28:if(e.prev=28,t){e.next=31;break}return e.abrupt("return");case 31:return Z([t.fromTokenAddress,t.toTokenAddress]),ae((0,v.wm)()),e.finish(28);case 34:case"end":return e.stop()}}),e,null,[[0,25,28,34]])})));return function(t){return e.apply(this,arguments)}}(),[jt,yt,null===ft||void 0===ft?void 0:ft.floatValue,M.signTransaction,M.publicKey,dt,Et,T,Mt,null===mt||void 0===mt?void 0:mt.floatValue,ut,P,ln,$e,null===Qt||void 0===Qt?void 0:Qt.isFromBase,dn,un.dca,Z,ae,ie]),xn=d.useState("Active DCAs"),fn=(0,s.Z)(xn,2),hn=fn[0],pn=fn[1],vn=d.useState(!1),bn=(0,s.Z)(vn,2),gn=bn[0],wn=bn[1],jn=d.useCallback((function(){return wn((function(e){return!e}))}),[]),yn=(0,Ze.Z)();d.useEffect((function(){yn&&me("fromValue",{formattedValue:yn,value:yn,floatValue:Number(yn)})}),[me,yn]);var kn=De({defaultDuration:10}),Nn=kn.period,Cn=kn.duration;d.useEffect((function(){Nn&&Cn&&(me("period",Nn),me("numberOfOrders",{value:String(Cn),floatValue:Cn,formattedValue:String(Cn)}))}),[me,Nn,Cn]);var Sn=d.useMemo((function(){return Math.min(((null===jt||void 0===jt?void 0:jt.decimals)||0)+((null===yt||void 0===yt?void 0:yt.decimals)||0),12)||6}),[null===jt||void 0===jt?void 0:jt.decimals,null===yt||void 0===yt?void 0:yt.decimals]),Mn=d.useCallback((function(){et(yt,jt)}),[yt,jt,et]),Pn=d.useMemo((function(){var e=new g.Z(0);if(null===$t||void 0===$t||!$t.swapMarketPrice)return e;if("buy"===(null===i||void 0===i?void 0:i.side)&&!pt.floatValue)return e;if("sell"===(null===i||void 0===i?void 0:i.side)&&!ht.floatValue)return e;var t="buy"===(null===i||void 0===i?void 0:i.side)?new g.Z(pt.floatValue||0).sub($t.swapMarketPrice).div($t.swapMarketPrice):new g.Z(ht.floatValue||0).sub($t.swapMarketPrice).div($t.swapMarketPrice);return(e=new g.Z(100).mul(t).toDP(2)).isFinite()?e:new g.Z(0)}),[null===$t||void 0===$t?void 0:$t.swapMarketPrice,pt.floatValue,ht.floatValue,null===i||void 0===i?void 0:i.side]),Tn=d.useMemo((function(){return Pn.gt(1e4)?">10000":"".concat(Pn.toNumber()>0?"+":"").concat(Pn.toDP(2).toString())}),[Pn]),Zn=d.useMemo((function(){return null!==Qt&&void 0!==Qt&&Qt.isFromBase?Pn.toNumber()<0:Pn.toNumber()>0}),[null===Qt||void 0===Qt?void 0:Qt.isFromBase,Pn]),An=d.useMemo((function(){return null!==Qt&&void 0!==Qt&&Qt.isFromBase?Pn.toNumber()>0:Pn.toNumber()<0}),[null===Qt||void 0===Qt?void 0:Qt.isFromBase,Pn]),On=d.useMemo((function(){return"pre-launch"!==(null===$t||void 0===$t?void 0:$t.marketStatus)&&Zn||An}),[null===$t||void 0===$t?void 0:$t.marketStatus,Zn,An]),Vn=d.useRef(),Dn=d.useRef(null),Bn=d.useRef(null),In=d.useState(!1),Fn=(0,s.Z)(In,2),_n=Fn[0],En=Fn[1],Ln=d.useCallback((function(){"Active DCAs"===hn?$e.refetchQueries({queryKey:[D]}):"Past DCAs"===hn&&$e.refetchQueries({queryKey:[be]})}),[hn,$e]),Kn=d.useMemo((function(){var e=[];"pre-launch"===(null===$t||void 0===$t?void 0:$t.marketStatus)&&(!("buy"!==(null===i||void 0===i?void 0:i.side)||!pt.floatValue)&&new g.Z(pt.floatValue).mul(Dt||0).lt(new g.Z(te.m).mul(.99))&&e.push(l.ag._({id:"zjXaws"})));return e}),[null===$t||void 0===$t?void 0:$t.marketStatus,Dt,pt.floatValue,null===i||void 0===i?void 0:i.side,te]),Rn=d.useMemo((function(){if(!Tt||!kt||!mt.floatValue||null===ft||void 0===ft||!ft.floatValue)return{isIntervalTooLow:!mt.floatValue,isPerCycleTooLow:!1,isNumberOfOrdersTooLow:!(null!==ft&&void 0!==ft&&ft.floatValue),isMinBiggerThanMax:!1,isNewMintPerOrderTooLow:!1};var e=new g.Z(ct.floatValue||0).mul(Dt||0).div(ft.floatValue),t="pre-launch"===(null===$t||void 0===$t?void 0:$t.marketStatus)||"in-range"===(null===$t||void 0===$t?void 0:$t.marketStatus);return{isIntervalTooLow:!mt.floatValue,isPerCycleTooLow:!Ft&&e.lt($.Ye),isNewMintPerOrderTooLow:!!Ft&&e.lt(t?$t.constants.minUSDPerOrder:$.Pf),isNumberOfOrdersTooLow:Number((null===ft||void 0===ft?void 0:ft.floatValue)||0)<$.YB,isMinBiggerThanMax:!(!ht.floatValue||!pt.floatValue)&&new g.Z(ht.floatValue||0).gte(pt.floatValue||0)}}),[Ft,Dt,mt,ct.floatValue,Tt,null===ft||void 0===ft?void 0:ft.floatValue,kt,ht,pt,$t]),Hn=Rn.isNumberOfOrdersTooLow,qn=Rn.isIntervalTooLow,Un=Rn.isPerCycleTooLow,Wn=Rn.isMinBiggerThanMax,Gn=Rn.isNewMintPerOrderTooLow,Yn=d.useMemo((function(){var e=[],t="pre-launch"===(null===$t||void 0===$t?void 0:$t.marketStatus)||"in-range"===(null===$t||void 0===$t?void 0:$t.marketStatus);t&&(!("buy"!==(null===i||void 0===i?void 0:i.side)||!$t.constants.minPrice)&&new g.Z(pt.floatValue||0).mul(Dt||0).lt($t.constants.minPrice)&&(pt.floatValue||0)>0&&e.push(l.ag._({id:"DqEb92",values:{0:$t.constants.minPrice}})));if(vt&&("buy"===i.side&&0===pt.floatValue&&e.push(l.ag._({id:"kc4YNT"})),"sell"===i.side&&0===ht.floatValue&&e.push(l.ag._({id:"kc4YNT"}))),qn&&e.push(l.ag._({id:"oJFinp"})),Hn&&e.push(l.ag._({id:"kNSwO+"})),M.connected&&ct.floatValue&&null!==ft&&void 0!==ft&&ft.floatValue){if(Gn){var n,r=t?null===$t||void 0===$t||null===(n=$t.constants)||void 0===n?void 0:n.minUSDPerOrder:$.Pf;e.push(l.ag._({id:"KTUa82",values:{0:ft.floatValue*r,1:null===ft||void 0===ft?void 0:ft.floatValue,minimumValue:r}}))}Un&&e.push(l.ag._({id:"wIitUk",values:{0:ft.floatValue*$.Ye,1:null===ft||void 0===ft?void 0:ft.floatValue,MINIMUM_VALUE_PER_ORDER:$.Ye}}))}return function(){if("pre-launch"===(null===$t||void 0===$t?void 0:$t.marketStatus)||"in-range"===(null===$t||void 0===$t?void 0:$t.marketStatus)){if("sell"===(null===i||void 0===i?void 0:i.side))return;if(!$t.constants.maxPrice)return;new g.Z(pt.floatValue||0).mul(Dt||0).mul(.99).gt($t.constants.maxPrice||0)&&e.push(l.ag._({id:"poal82"}))}}(),e}),[qn,null===$t||void 0===$t?void 0:$t.marketStatus,null===$t||void 0===$t?void 0:$t.constants,Hn,M.connected,ct.floatValue,null===ft||void 0===ft?void 0:ft.floatValue,null===i||void 0===i?void 0:i.side,pt.floatValue,Dt,vt,ht.floatValue,Gn,Un]),Qn=Boolean(!ct.floatValue||Hn||Un||qn||en||tn||bt||!Lt||Wn),zn=(0,Ae.Z)({tokens:[]}),Jn=d.useCallback((function(e){me("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()},{shouldDirty:!0})}),[me]),Xn=d.useCallback((function(e){e&&me("fromTokenAddress",e)}),[me]);return vt?(0,se.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-between text-v2-lily",children:[(0,se.jsx)("form",{className:"flex w-full flex-col items-center justify-between",onSubmit:xe(mn),children:(0,se.jsx)("div",{className:"w-full text-lg lg:text-2xl",children:(0,se.jsxs)("div",{className:"relative flex-col space-y-2",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("label",{htmlFor:"fromValue",className:"flex items-center text-xs font-medium text-white md:text-sm",children:[(0,se.jsx)(o.cC,{id:"WruaET"}),(0,se.jsx)(q.Z,{content:l.ag._({id:"GySpT+"}),children:(0,se.jsx)("div",{className:"-mt-0.5 ml-2 fill-current text-white/20 md:mt-0",children:(0,se.jsx)(Be.Z,{width:12,height:12})})})]}),(0,se.jsxs)("div",{className:"flex space-x-2",children:[(0,se.jsx)("div",{className:"item-center ml-1 flex cursor-pointer hover:text-white-50",onClick:Kt,children:(0,se.jsx)(rt.Z,{tokenInfo:jt,className:"hover:text-white-50"})}),(0,se.jsx)(je.oi,{mint:ut,onBalanceChange:Jn})]})]}),(0,se.jsx)("div",{className:(0,y.cn)("group relative flex h-[72px] flex-col space-y-3 rounded-xl border border-transparent bg-v2-background-dark p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,se.jsxs)("div",{className:"flex",children:[(0,se.jsx)(we.Z,{onChange:Xn,fromTokenAddress:ut,toTokenAddress:dt,modalId:lt,name:"fromTokenAddress",mintsList:st,type:"tokenAndInput",disabled:"sell"===i.side}),(0,se.jsx)("span",{className:"flex-1 text-right",children:(0,se.jsx)(m.Qr,{name:"fromValue",control:de,rules:{required:"Required"},render:function(e){var t=e.field,n=t.onChange,r=t.value,s=t.onBlur;return(0,se.jsx)(Je.Z,{onBlur:s,onChange:n,tokenAddress:ut,value:r,name:"fromValue"})}})})]})}),(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsx)("label",{className:"text-xs font-medium text-white md:text-sm",children:(0,se.jsx)(o.cC,{id:"GtPYOF"})}),(0,se.jsx)("div",{className:"flex",children:(0,se.jsx)(rt.Z,{tokenInfo:yt})})]}),(0,se.jsx)("div",{className:"flex h-[72px] flex-col space-y-3 rounded-xl border-0 bg-v2-background-dark",children:(0,se.jsx)(we.Z,{onChange:Xn,fromTokenAddress:ut,toTokenAddress:dt,modalId:lt,name:"toTokenAddress",mintsList:st,type:"tokenSelectOnly",disabled:"buy"===i.side})}),(0,se.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,se.jsxs)("div",{className:"flex w-full flex-col justify-between",children:[(0,se.jsx)("label",{className:"text-xs font-medium text-white md:text-sm",children:(0,se.jsx)(o.cC,{id:"CRsuq4"})}),(0,se.jsx)(m.Qr,{control:de,name:"intervalNumber",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsx)("div",{className:(0,y.cn)("mt-2 flex h-[54px] items-center space-x-3 rounded-xl bg-v2-background-dark px-2","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,se.jsx)(x.Z,{className:"w-full bg-transparent px-4 py-3 !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===k.A5?".":",",decimalSeparator:","===k.A5?",":".",decimalScale:0,allowNegative:!1,allowLeadingZeros:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}})})}})]}),(0,se.jsx)("div",{className:"flex w-full flex-col justify-between",children:(0,se.jsx)(m.Qr,{control:de,name:"period",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsx)("div",{className:(0,y.cn)("mt-2 flex h-[54px] items-center space-x-3 rounded-xl bg-v2-background-dark px-2","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,se.jsxs)(C.Z,{onChange:n,className:"flex !w-full justify-between !bg-transparent !px-3 !py-1 text-sm !text-v2-lily",contentClassName:"!w-full",data:St,value:r,rowRenderer:function(e){return(0,se.jsx)("div",{className:"text-sm",children:e})},children:[r,(0,se.jsx)("div",{className:"ml-auto fill-current text-white/25 group-hover/select:text-[#00D1DF]",children:(0,se.jsx)(j.Z,{})})]})})}})}),(0,se.jsxs)("div",{className:"hidden w-full flex-col justify-between md:flex",children:[(0,se.jsxs)("label",{className:"flex items-center text-xs font-medium text-white md:text-sm",children:[(0,se.jsx)(o.cC,{id:"FlgGDK"}),(0,se.jsx)(q.Z,{content:l.ag._({id:"lUtbcA"}),children:(0,se.jsx)("div",{className:"-mt-0.5 ml-2 fill-current text-white/20 md:mt-0",children:(0,se.jsx)(Be.Z,{width:12,height:12})})})]}),(0,se.jsx)(m.Qr,{control:de,name:"numberOfOrders",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsxs)("div",{className:(0,y.cn)("mt-2 flex h-[54px] items-center space-x-3 rounded-xl bg-v2-background-dark px-2","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:[(0,se.jsx)(x.Z,{className:"w-full bg-transparent py-3 pl-2 !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===k.A5?".":",",decimalSeparator:","===k.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e6}}),(0,se.jsx)("div",{className:"text-sm",children:l.ag._({id:"V5khLm"})})]})}})]})]}),(0,se.jsxs)("div",{className:"flex w-full flex-col md:hidden",children:[(0,se.jsxs)("label",{className:"flex items-center text-xs font-medium text-white md:text-sm",children:[(0,se.jsx)(o.cC,{id:"FlgGDK"}),(0,se.jsx)(q.Z,{content:l.ag._({id:"lUtbcA"}),children:(0,se.jsx)("div",{className:"-mt-0.5 ml-2 fill-current text-white/20 md:mt-0",children:(0,se.jsx)(Be.Z,{width:12,height:12})})})]}),(0,se.jsx)(m.Qr,{control:de,name:"numberOfOrders",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsxs)("div",{className:(0,y.cn)("mt-2 flex h-[54px] items-center space-x-3 rounded-xl bg-v2-background-dark px-2","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:[(0,se.jsx)(x.Z,{className:"w-full bg-transparent py-3 pl-2 !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===k.A5?".":",",decimalSeparator:","===k.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e6}}),(0,se.jsx)("div",{className:"text-sm",children:l.ag._({id:"V5khLm"})})]})}})]}),(0,se.jsx)("div",{children:"buy"===i.side?(0,se.jsxs)("div",{className:"flex w-full flex-col justify-between",children:[(0,se.jsxs)("label",{className:"flex items-center text-xs font-medium text-white md:text-sm",children:[(0,se.jsx)(o.cC,{id:"Eq83tw"}),(0,se.jsx)(q.Z,{content:l.ag._({id:"DYyONk"}),children:(0,se.jsx)("div",{className:"-mt-0.5 ml-2 fill-current text-white/20 md:mt-0",children:(0,se.jsx)(Be.Z,{width:12,height:12})})})]}),(0,se.jsx)(m.Qr,{control:de,name:"maxValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsxs)("div",{className:(0,y.cn)("relative mt-2 flex w-full flex-col justify-center rounded-xl bg-v2-background-dark px-4 pb-6 pt-2","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),ref:Dn,children:[(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("button",{type:"button",className:"absolute right-2 top-2 cursor-pointer rounded text-xxs text-white-35 underline hover:text-black",onClick:function(){qt.current=!0,"unset"!==(null===$t||void 0===$t?void 0:$t.marketStatus)&&"pre-launch"!==(null===$t||void 0===$t?void 0:$t.marketStatus)||Wt(new g.Z((null===$t||void 0===$t?void 0:$t.constants.maxPrice)||0).div(Dt||0)),"in-range"!==(null===$t||void 0===$t?void 0:$t.marketStatus)&&"out-of-range"!==(null===$t||void 0===$t?void 0:$t.marketStatus)||Wt(new g.Z((null===$t||void 0===$t?void 0:$t.swapMarketPrice)||0))},children:"unset"===(null===$t||void 0===$t?void 0:$t.marketStatus)||"pre-launch"===(null===$t||void 0===$t?void 0:$t.marketStatus)?(0,se.jsx)(o.cC,{id:"kak/2U"}):(0,se.jsx)(o.cC,{id:"+NNtb4"})}),(0,se.jsx)(x.Z,{className:"w-full bg-transparent text-lg font-semibold !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===k.A5?".":",",decimalSeparator:","===k.A5?",":".",decimalScale:Sn,allowNegative:!1,onFocus:function(){qt.current=!0}}),Jt?(0,se.jsx)("div",{className:"absolute right-2 top-6 flex items-center",children:(0,se.jsx)("span",{className:"text-sm font-semibold",children:null===Jt||void 0===Jt?void 0:Jt.symbol})}):(0,se.jsx)(ve.O,{className:"h-6 w-11"})]}),Jt&&(0,se.jsxs)("div",{className:"absolute bottom-2 flex gap-x-1 text-xs text-v2-lily/30",children:[(0,se.jsx)(Fe.default,{tokenInfo:Jt,amount:r.floatValue,maxDecimals:Sn}),On?(0,se.jsx)("div",{className:"flex items-center text-xs font-medium text-v2-lily/30",children:"(".concat(Tn,"%)")}):null]})]})}}),(0,se.jsx)("div",{className:"flex justify-end pr-2 text-xxs text-[#CFF3FF] text-opacity-[0.35]",children:l.ag._({id:"ZqcQza",values:{toTokenSymbol:Ht,fromTokenSymbol:Rt}})})]}):(0,se.jsxs)("div",{className:"flex w-full flex-col justify-between",children:[(0,se.jsxs)("label",{className:"flex items-center justify-between text-xs font-medium text-white md:text-sm",children:[(0,se.jsx)(o.cC,{id:"jjuKOj"}),(0,se.jsx)(q.Z,{content:l.ag._({id:"e6I4oo"}),children:(0,se.jsx)("div",{className:"-mt-0.5 ml-2 fill-current text-white/20 md:mt-0",children:(0,se.jsx)(Be.Z,{width:12,height:12})})})]}),(0,se.jsx)(m.Qr,{control:de,name:"minValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsxs)("div",{className:(0,y.cn)("relative mt-2 flex w-full flex-col justify-center rounded-xl bg-v2-background-dark px-4 pb-6 pt-2","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),ref:Bn,children:[(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsxs)("div",{className:"flex items-center",children:[Xt?(0,se.jsxs)("p",{className:"flex items-center text-xs text-v2-lily/50",children:[null!==Qt&&void 0!==Qt&&Qt.isFromBase?(0,se.jsx)(o.cC,{id:"xNB0TS"}):(0,se.jsx)(o.cC,{id:"qiOIiY"})," ",(0,se.jsx)(o.cC,{id:"kBSo/e",values:{0:null===Xt||void 0===Xt?void 0:Xt.symbol}}),zt?(0,se.jsx)(He.Z,{className:"ml-1",width:8,height:8}):null]}):(0,se.jsx)(ve.O,{className:"h-4 w-2"}),On?(0,se.jsx)("div",{className:"ml-1 flex items-center text-xs font-medium text-v2-lily/50",children:"(".concat(Tn,"%)")}):null]}),(0,se.jsx)("button",{type:"button",className:"cursor-pointer rounded text-xxs text-white-35 underline hover:text-white-75",onClick:function(){"in-range"===(null===$t||void 0===$t?void 0:$t.marketStatus)||"out-of-range"===(null===$t||void 0===$t?void 0:$t.marketStatus)?Gt(new g.Z((null===$t||void 0===$t?void 0:$t.swapMarketPrice)||0).div(Bt||0)):null!==$t&&void 0!==$t&&$t.constants.minPrice&&Gt(new g.Z(null===$t||void 0===$t?void 0:$t.constants.minPrice).div(Bt||0))},children:"in-range"===(null===$t||void 0===$t?void 0:$t.marketStatus)||"out-of-range"===(null===$t||void 0===$t?void 0:$t.marketStatus)?(0,se.jsx)(o.cC,{id:"+NNtb4"}):(0,se.jsx)(o.cC,{id:"K8r38O"})})]}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)(x.Z,{className:"w-full bg-transparent text-sm font-semibold !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===k.A5?".":",",decimalSeparator:","===k.A5?",":".",decimalScale:Sn,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}}),Jt?(0,se.jsx)("div",{className:"flex items-center",children:(0,se.jsx)("span",{className:"text-sm font-semibold",children:null===Jt||void 0===Jt?void 0:Jt.symbol})}):(0,se.jsx)(ve.O,{className:"h-6 w-11"})]}),Jt&&(0,se.jsx)("div",{className:"absolute bottom-2 text-xs text-v2-lily/30",children:(0,se.jsx)(Fe.default,{prefix:"\u2248 ",tokenInfo:Jt,amount:r.floatValue,maxDecimals:Sn})})]})}}),(0,se.jsx)("div",{className:"flex justify-end pr-2 text-xxs text-[#CFF3FF] text-opacity-[0.35]",children:l.ag._({id:"ZqcQza",values:{toTokenSymbol:Ht,fromTokenSymbol:Rt}})})]})}),he&&Kn.length>0&&(0,se.jsxs)("div",{className:"mt-3 flex w-full items-center space-x-2 rounded-lg bg-warning py-3 pl-2 text-xs text-white",children:[(0,se.jsx)("div",{className:"mt-0.5 h-3 w-3 fill-current",children:(0,se.jsx)(S.Z,{fill:"inherit"})}),(0,se.jsx)("div",{className:"flex flex-col space-y-1",children:Kn.map((function(e,t){return(0,se.jsx)("div",{children:e},t)}))})]}),Yn.length>0?(0,se.jsxs)("div",{className:"mb-4 flex w-full items-center space-x-2 rounded-lg bg-jupiter-red px-2 py-3 text-xs text-white",children:[(0,se.jsx)("div",{className:"mt-0.5 h-3 w-3 fill-current",children:(0,se.jsx)(S.Z,{fill:"inherit"})}),(0,se.jsx)("div",{className:"flex flex-col space-y-1",children:Yn.map((function(e,t){return(0,se.jsx)("div",{children:e},t)}))})]}):null,(0,se.jsx)(_e.Z,{className:"!px-0 text-xs text-v2-lily/60",iconSize:12,message:l.ag._({id:"MQthXJ"})}),M.connected?(0,se.jsx)(ze,{hasEnoughBalance:Lt,toastId:ie,disabled:Qn||Yn.length>0,loading:Ne,isAccountFrozen:tn||en}):(0,se.jsx)(Ee.Z,{})]})})}),(0,se.jsx)("div",{className:"mt-3 flex w-full flex-col justify-center text-lg lg:text-2xl",children:(0,se.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:_n?(0,se.jsx)("div",{className:"flex-row justify-between px-5 md:flex lg:px-0",children:M.connected?(0,se.jsxs)(Le.Z,{tabs:["Active DCAs","Past DCAs"],activeTab:hn,setActiveTab:pn,isLoading:ce,refetch:Ln,children:["Active DCAs"===hn?(0,se.jsx)(pe,{dcaClient:T,inputMint:i.targetToken,outputMint:i.targetToken}):null,"Past DCAs"===hn?(0,se.jsx)(ge,{dcaClient:T,inputMint:i.targetToken,outputMint:i.targetToken}):null]}):null}):(0,se.jsx)("div",{className:"mt-3 flex w-full flex-col items-center justify-center overflow-x-auto rounded-lg border border-white/5 p-4 text-xs",children:(0,se.jsx)(N.Z,{type:"button",size:"sm",className:"w-auto border border-transparent bg-[#121D28] px-4",onClick:function(){Ln(),En(!0)},children:(0,se.jsx)("span",{className:"text-sm",children:"View Orders"})})})})})]}):(0,se.jsx)("div",{className:"flex h-full w-full flex-col items-center justify-between text-lg text-v2-lily lg:text-2xl",children:(0,se.jsxs)("div",{className:"z-10 w-full",children:[(0,se.jsx)("form",{className:"flex w-full flex-col items-center justify-between",onSubmit:xe(mn),children:(0,se.jsxs)("div",{className:"w-full",children:[(0,se.jsxs)("div",{className:"relative flex-col space-y-2",children:[(0,se.jsxs)("div",{className:"flex flex-col",children:[(0,se.jsxs)("div",{className:(0,y.cn)("relative flex min-h-[124px] flex-col space-y-3 rounded-xl border border-transparent p-4","bg-uiv2 focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,se.jsx)(o.cC,{id:"3KX4OO"})}),(0,se.jsxs)("div",{className:"flex space-x-2",children:[(0,se.jsx)(rt.Z,{tokenInfo:jt}),(0,se.jsx)(je.oi,{mint:ut,onBalanceChange:Jn})]})]}),(0,se.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,se.jsx)(we.Z,{onChange:Xn,fromTokenAddress:ut,toTokenAddress:dt,modalId:lt,name:"fromTokenAddress",mintsList:st,type:"tokenAndInput"}),(0,se.jsx)("span",{className:"flex-1 text-right",children:(0,se.jsx)(m.Qr,{name:"fromValue",control:de,rules:{required:"Required"},render:function(e){var t=e.field,n=t.onChange,r=t.value,s=t.onBlur;return(0,se.jsx)(Je.Z,{onBlur:s,onChange:n,tokenAddress:ut,value:r,name:"fromValue",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/50"})}})})]})]}),!Hn&&Un&&(null===ft||void 0===ft?void 0:ft.floatValue)&&(0,se.jsx)(je.Bc,{message:l.ag._({id:"Kdh5mq",values:{0:ft.floatValue*$.Ye,1:ft.floatValue}})}),(0,se.jsx)(at,{tokenInfo:jt,className:"mt-2"}),(0,se.jsxs)("div",{className:"relative my-1 flex justify-center",children:[(0,se.jsx)("hr",{className:"absolute top-[calc(50%-1px)] -z-0 w-full border-uiv2/50"}),(0,se.jsx)("div",{className:"z-10 inline-block",children:(0,se.jsx)("button",{type:"button",className:(0,y.cn)("group/flip flex h-8 w-8 cursor-pointer flex-col justify-center rounded-full border-[3px] border-uiv2 bg-v2-background-page text-v2-lily/50","hover:border-v2-primary hover:shadow-swap-input-dark"),onClick:Mn,children:(0,se.jsx)("span",{className:"flex w-full justify-center fill-current text-v2-lily/50 transition-none group-hover/flip:text-v2-primary",children:(0,se.jsx)(Ge.Z,{})})})})]}),(0,se.jsxs)("div",{className:(0,y.cn)("flex min-h-[124px] flex-col rounded-xl border border-transparent bg-uiv2 pt-4","group hover:border-v2-primary/50 hover:shadow-swap-input-dark"),children:[(0,se.jsxs)("div",{className:"mb-2 flex items-center justify-between px-4",children:[(0,se.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,se.jsx)(o.cC,{id:"Q7e7JF"})}),(0,se.jsx)(rt.Z,{tokenInfo:yt})]}),(0,se.jsx)("div",{className:"flex flex-1 items-center",children:(0,se.jsx)(we.Z,{onChange:Xn,fromTokenAddress:ut,toTokenAddress:dt,modalId:lt,mintsList:st,name:"toTokenAddress",type:"tokenSelectOnly"})})]}),(0,se.jsx)(at,{tokenInfo:yt,className:"mt-2"})]}),(0,se.jsxs)("div",{className:"flex space-x-2",children:[(0,se.jsxs)("div",{className:(0,y.cn)("flex basis-1/2 flex-col space-y-2","rounded-xl border border-transparent bg-uiv2 p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,se.jsx)("label",{className:"text-xs font-medium text-v2-lily/50",children:(0,se.jsx)(o.cC,{id:"CRsuq4"})}),(0,se.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,se.jsx)(m.Qr,{control:de,name:"intervalNumber",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsx)(x.Z,{value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===k.A5?".":",",decimalSeparator:","===k.A5?",":".",decimalScale:0,allowNegative:!1,allowLeadingZeros:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4},className:"!w-full !bg-transparent !text-sm !font-semibold !text-v2-lily !outline-none"})}}),(0,se.jsx)("div",{className:"flex items-center justify-end",children:(0,se.jsx)(m.Qr,{control:de,name:"period",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsxs)(C.Z,{onChange:n,className:"!bg-transparent !p-0 !text-sm !font-semibold !text-v2-lily",contentClassName:"!min-w-[124px]",data:St,value:r,rowRenderer:function(e){return(0,se.jsx)("div",{className:"text-sm",children:e})},children:[r,(0,se.jsx)("div",{className:"ml-2 fill-current text-v2-lily/25 hover:text-v2-lily",children:(0,se.jsx)(j.Z,{})})]})}})})]})]}),(0,se.jsxs)("div",{className:(0,y.cn)("flex basis-1/2 flex-col space-y-2","rounded-xl border border-transparent bg-uiv2 p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,se.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,se.jsx)("label",{className:"text-xs font-medium text-v2-lily/50",children:(0,se.jsx)(o.cC,{id:"FlgGDK"})}),(0,se.jsx)(q.Z,{content:l.ag._({id:"lUtbcA"}),children:(0,se.jsx)("div",{className:"fill-current text-v2-lily/25",children:(0,se.jsx)(Be.Z,{width:12,height:12})})})]}),(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsx)(m.Qr,{control:de,name:"numberOfOrders",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsx)(x.Z,{value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===k.A5?".":",",decimalSeparator:","===k.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e6},className:"!w-full !bg-transparent !text-sm !font-semibold !text-v2-lily !outline-none"})}}),(0,se.jsx)("span",{className:"text-sm font-semibold text-v2-lily",children:l.ag._({id:"V5khLm"})})]})]})]}),qn&&(0,se.jsx)(je.Bc,{message:"Please enter an interval above 0"}),Hn&&(0,se.jsx)(je.Bc,{message:"Number of Orders cannot be lower than 2"}),(0,se.jsxs)("div",{className:(0,y.cn)("flex w-full flex-col space-y-2 text-xs","rounded-xl border border-transparent bg-uiv2 p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,se.jsxs)("div",{className:"flex flex-row items-center justify-between space-x-2",children:[(0,se.jsxs)("div",{className:"flex flex-row items-center space-x-1 font-medium text-v2-lily/50",children:[(0,se.jsx)("div",{children:(0,se.jsx)(o.cC,{id:"5qwQOE"})}),(0,se.jsx)(q.Z,{content:l.ag._({id:"pIyXbb"}),children:(0,se.jsx)("div",{className:"fill-current text-white/25",children:(0,se.jsx)(Be.Z,{width:12,height:12})})})]}),(0,se.jsxs)("div",{className:"group flex items-center gap-x-1 text-white/50",children:[(0,se.jsx)("p",{className:"group-hover:text-v2-primary",children:(0,se.jsx)(o.cC,{id:"+7GJzj"})}),on?(0,se.jsx)(ve.O,{className:"!h-3 !w-12"}):an?(0,se.jsxs)("div",{className:"flex cursor-pointer items-center space-x-1 group-hover:text-v2-primary",onClick:jn,children:[(0,se.jsx)(re.ZP,{value:gn?an.marketRate.toNumber():new g.Z(1).div(an.marketRate).toNumber(),maxSuffix:6}),(0,se.jsx)("span",{className:"text-xxs",children:gn?"".concat(Ht," / ").concat(Rt):"".concat(Rt," / ").concat(Ht)})]}):"-"]})]}),(0,se.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,se.jsx)(m.Qr,{control:de,name:"minValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsx)(We.Z,{placeholder:l.ag._({id:"jjuKOj"}),value:r.value,onChange:n,decimals:Yt,isAllowed:function(e){var t=e.floatValue;return!t||t<=tt},allowNegative:!1,className:"!rounded-lg !bg-uiv2-background px-4 py-3 !text-left !text-sm !font-semibold !text-v2-lily !outline-none placeholder:!text-v2-lily/25"})}}),(0,se.jsx)("span",{className:"flex text-sm font-semibold text-v2-lily",children:"-"}),(0,se.jsx)(m.Qr,{control:de,rules:{validate:function(e){return!(ht.value&&parseFloat(e.value)<=parseFloat(ht.value))||"Max price must be greater than Min price"}},name:"maxValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,se.jsx)(We.Z,{value:r.value,onChange:n,placeholder:l.ag._({id:"Eq83tw"}),isAllowed:function(e){var t=e.floatValue;return!t||t<=tt},ref:Vn,decimals:Yt,allowNegative:!1,className:"!rounded-lg !bg-uiv2-background px-4 py-3 !text-left !text-sm !font-semibold !text-v2-lily !outline-none placeholder:!text-v2-lily/25"})}})]})]}),Wn&&(0,se.jsx)(je.Bc,{message:"Minimum price must be lower than Maximum Price."}),Ft&&(0,se.jsxs)("div",{className:"my-2 flex w-full items-center space-x-2 rounded-lg bg-warning/80 px-4 py-2 text-xs leading-tight text-white",children:[(0,se.jsx)("div",{className:"mt-0.5 h-3 w-3 fill-current",children:(0,se.jsx)(S.Z,{fill:"inherit"})}),(0,se.jsx)("div",{className:"space-y-2",children:(0,se.jsx)("p",{children:(0,se.jsx)(o.cC,{id:"z3wSmE",components:{0:(0,se.jsx)("b",{})}})})})]}),(0,se.jsx)(qe.Z,{loading:!1,listOfSuggestions:gt}),zn?(0,se.jsx)(Ae.y,{}):M.connected?(0,se.jsx)(ze,{toastId:ie,disabled:Qn,loading:Ne,isAccountFrozen:tn||en,isToken2022:bt,hasEnoughBalance:Lt}):(0,se.jsx)(Ee.Z,{})]}),(0,se.jsx)(nt,{fromValue:ct,intervalNumber:mt,selectedPeriodName:Ct,fromTokenInfo:jt,toTokenInfo:yt,orderInfo:It,atomFormState:$t,isLaunchPage:vt,jupiterResult:an})]})}),(0,Pe.mD)(Oe)&&Oe.container.leftContainerHistories&&Oe.container.leftContainerHistories.current&&(0,Se.createPortal)((0,se.jsxs)(Le.Z,{tabs:["Active DCAs","Past DCAs"],activeTab:hn,setActiveTab:pn,isLoading:ce,refreshButtonDisabled:!M.connected,refetch:Ln,children:["Active DCAs"===hn?(0,se.jsx)(pe,{dcaClient:T}):null,"Past DCAs"===hn?(0,se.jsx)(ge,{dcaClient:T}):null]}),Oe.container.leftContainerHistories.current),(0,Pe.mD)(Oe)&&Oe.container.bottomPageHistories&&Oe.container.bottomPageHistories.current&&(0,Se.createPortal)((0,se.jsxs)(Le.Z,{tabs:["Active DCAs","Past DCAs"],activeTab:hn,setActiveTab:pn,isLoading:ce,refreshButtonDisabled:!M.connected,refetch:Ln,children:["Active DCAs"===hn?(0,se.jsx)(pe,{dcaClient:T}):null,"Past DCAs"===hn?(0,se.jsx)(ge,{dcaClient:T}):null]}),Oe.container.bottomPageHistories.current)]})})}},55259:function(e,t,n){var r=n(72215),s=n(93981),i=n(24201),a=n(56100),o=n(82625),l=n(69825),c=n(29541);t.Z=function(e){var t=e.onChange,n=e.onBlur,u=e.tokenAddress,d=e.loading,m=e.value,x=e.name,f=e.disabled,h=e.tokenAmountClassname,p=e.usdValueClassname,v=(0,r.Bn)().getTokenInfo,b=s.useRef(null),g=s.useMemo((function(){return v(u)}),[v,u]);return(0,c.jsxs)("div",{className:"flex h-full flex-col text-right",children:[d||!g?(0,c.jsx)(a.O,{className:"ml-2 h-6 w-24 self-end"}):(0,c.jsx)(l.Z,{name:x,className:(0,i.cn)("outline-none",h),decimals:g.decimals,onChange:t,value:m.value,disabled:f,ref:b,onBlur:n}),d?(0,c.jsx)(a.O,{className:"ml-2 mt-0.5 h-4 w-8 self-end"}):null!==m&&void 0!==m&&m.value?(0,c.jsx)("div",{className:(0,i.cn)("text-xs text-white-35"),onClick:function(){var e;return null===b||void 0===b||null===(e=b.current)||void 0===e?void 0:e.focus()},children:(0,c.jsx)(o.Z,{tokenAddress:u,value:m,className:p})}):null]})}},13246:function(e,t,n){var r=n(93981),s=n(72215),i=n(70006),a=n(65670),o=n(59978),l=n(1242),c=n(42082),u=n(69667),d=n(24201),m=n(29541),x=function(e){var t=e.showAllPairs,n=e.currentTokenInfo,r=e.disabled;return(0,m.jsx)("div",{className:"group/select flex items-center justify-between",children:(0,m.jsxs)("button",{disabled:r,type:"button",className:(0,d.cn)("flex h-10 items-center space-x-3 rounded-xl border border-transparent px-3 py-2",r?"cursor-default":"bg-v2-background-page group-hover/select:border-v2-primary/50 group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),onClick:t,children:[(0,m.jsx)("div",{className:"rounded-full",children:(null===n||void 0===n?void 0:n.logoURI)&&(0,m.jsx)(o.Z,{width:24,height:24,info:n})}),(0,m.jsx)("div",{className:"text-sm font-semibold",translate:"no",children:null===n||void 0===n?void 0:n.symbol}),!r&&(0,m.jsx)("div",{className:"fill-current text-white/25 group-hover/select:text-v2-primary",children:(0,m.jsx)(u.Z,{})})]})})},f=function(e){var t=e.showAllPairs,n=e.currentTokenInfo,r=e.disabled;return(0,m.jsx)("div",{className:"flex h-full w-full items-center justify-between rounded-lg",children:(0,m.jsxs)("button",{type:"button",className:(0,d.cn)("flex h-full w-full items-center space-x-3 rounded-xl border border-transparent px-4 pb-4 pt-2",r?"cursor-default":""),onClick:t,children:[(0,m.jsx)("div",{className:"rounded-full",children:(null===n||void 0===n?void 0:n.logoURI)&&(0,m.jsx)(o.Z,{width:24,height:24,info:n})}),(0,m.jsx)("div",{className:"text-base font-semibold",translate:"no",children:null===n||void 0===n?void 0:n.symbol}),!r&&(0,m.jsx)("div",{className:"!ml-auto fill-current text-white/25 group-hover:text-v2-primary",children:(0,m.jsx)(u.Z,{})})]})})};t.Z=function(e){var t=e.fromTokenAddress,n=e.toTokenAddress,o=e.onChange,u=e.name,d=e.modalId,h=e.mintsList,p=e.type,v=e.disabled,b=(0,s.Bn)().getTokenInfo,g=(0,i.JT)(),w=g.openContextualModal,j=g.setContextValue,y=g.ModalContextConsumer,k=g.closeModal,N=(0,c.T)(),C=(0,r.useMemo)((function(){return"fromTokenAddress"===u?t:n}),[t,n,u]),S=(0,r.useMemo)((function(){return b(C)}),[b,C]),M=function(e){if(e){var r,s;if("fromTokenAddress"===u)n===e.address?(r=e,s=b(t)):(r=e,s=b(n));else t===e.address?(r=b(n),s=e):(r=b(t),s=e);r&&s&&(k(),o("fromTokenAddress"===u?r.address:s.address),N(r,s))}},P=function(){y&&!v&&(j(d,h),w(d,h,(0,m.jsx)(y,{children:function(e){return(0,m.jsx)(a.ZP,{onSubmit:M,mintsList:e,shouldSortByBalance:"fromTokenAddress"===u,bestTokens:l.KG})}}),{position:"top",noCloseButton:!0}))};return"tokenAndInput"===p?(0,m.jsx)(x,{disabled:v,showAllPairs:P,currentTokenInfo:S}):(0,m.jsx)(f,{disabled:v,showAllPairs:P,currentTokenInfo:S})}},32044:function(e,t,n){var r=n(72215),s=(n(93981),n(96404)),i=n(16344),a=n(24201),o=n(29541);t.Z=function(e){var t=e.className,n=e.tokenInfo;if(!(0,r.Os)().connected||!n)return null;var l=n.address;return(0,o.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o.jsx)("div",{className:"mb-px fill-current text-white-75",children:(0,o.jsx)(i.Z,{width:12,height:12})}),(0,o.jsxs)("div",{className:(0,a.cn)("whitespace-nowrap text-xs font-normal text-v2-lily/50",t),children:[(0,o.jsx)(s.Z,{mintAddress:l})," ",(0,o.jsx)("span",{children:null===n||void 0===n?void 0:n.symbol})]})]})}},57722:function(e,t,n){n.d(t,{Pf:function(){return o},YB:function(){return i},Ye:function(){return a},hl:function(){return l},tc:function(){return u}});var r,s=n(4707),i=2,a=50,o=50,l=.5,c=86400,u=[{id:"minute",name:s.ag._({id:"rEY/kE"}),secondsInPeriod:60},{id:"hour",name:s.ag._({id:"N71Q1g"}),secondsInPeriod:3600},{id:"day",name:s.ag._({id:"/ITcnz"}),secondsInPeriod:c},{id:"week",name:s.ag._({id:"64X6l4"}),secondsInPeriod:604800},{id:"month",name:s.ag._({id:"kY2ll9"}),secondsInPeriod:2592e3}];!function(e){e.DCA="DCA",e.VA="VA"}(r||(r={}))},81264:function(e,t,n){n.d(t,{Z:function(){return qe},s:function(){return Re}});var r=n(63956),s=n(70107),i=n(27195),a=n(97620),o=n(8857),l=n.n(o),c=n(8473),u=n(4707),d=n(26174),m=n(11823),x=n(56720),f=n(92956),h=n(72215),p=n(27177),v=n(40993),b=n(25224),g=n(38272),w=n(45009),j=n(65558),y=n.n(j),k=n(13838),N=n(3011),C=n(9319),S=n.n(C),M=n(93981),P=n(13215),T=n(13170),Z=n(1242),A=n(41118),O=n(90342),V=n(66956),D=n(33130),B=n(77798),I=n(23632),F=n(42082),_=n(50269),E=n(94223),L=n(71932),K=n(24201),R=n(25546),H=n(54566),q=n(70006),U=n(71130),W=n(99438),G=n(33118),Y=n(11003),Q=n(29541),z=function(e){var t=e.actions;return(0,Q.jsx)("div",{className:(0,K.cn)("flex overflow-hidden rounded-lg bg-black/60 shadow-xl backdrop-blur-lg"),children:t.map((function(e,n){return(0,Q.jsx)("button",{type:"button",onClick:e.onClick,className:(0,K.cn)("w-13 flex justify-center p-2 text-xs font-semibold hover:bg-white/20",0!==n&&n!==t.length?"border-x border-white/20":""),children:e.text},n)}))})},J=n(12939),X=n(56100),$=n(85394),ee=n(96404),te=n(69825),ne=n(59295),re=n(59394),se=n(78013),ie=n(59243),ae=n(46267),oe=n(63068),le=n(12627),ce=n(16563),ue=n(45462),de=n(12866),me=n(30825),xe=n(88381),fe=n(69667),he=n(43723),pe=n(59978),ve=function(e){var t,n,r=e.order,s=r.inputMint,i=r.inAmount,a=r.oriInAmount,o=r.expiredAt,l=(0,h.Bn)().getTokenInfo,c=(0,M.useMemo)((function(){return l(s.toString())}),[s,l]),d=(0,M.useMemo)((function(){if(!c){var e=new k.Z(0);return{totalDepositedAmount:e,remainingFilledAmount:e,totalFilledAmount:e,filledPercentage:e}}var t=new k.Z((0,b.lt)(a,c.decimals)).toDP(6),n=new k.Z((0,b.lt)(i,c.decimals)).toDP(6),r=t.minus(n),s=r.div(t).mul(100);return{totalDepositedAmount:t,remainingFilledAmount:n,totalFilledAmount:r,filledPercentage:s}}),[c,a,i]),m=d.totalDepositedAmount,x=d.totalFilledAmount,f=d.filledPercentage,p=(0,M.useMemo)((function(){return o&&!new(y())(Number(o)).isZero()?(0,le.Z)((0,ce.Z)(Number(o)),"H:mm dd/MM/yyyy (x)"):u.ag._({id:"qqeAJM"})}),[o]);return(0,Q.jsxs)("div",{className:"flex w-full flex-col space-y-1 px-2 md:px-4",children:[(0,Q.jsxs)("div",{className:"flex items-center justify-between text-sm font-normal text-v2-lily/30",children:[(0,Q.jsx)("span",{children:u.ag._({id:"2r2h/U"})}),(0,Q.jsxs)("span",{children:[m.toString()," ",null!==(t=null===c||void 0===c?void 0:c.symbol)&&void 0!==t?t:""]})]}),(0,Q.jsxs)("div",{className:"flex items-center justify-between text-sm font-normal text-v2-lily/30",children:[(0,Q.jsx)("span",{children:u.ag._({id:"mnr0o5"})}),(0,Q.jsxs)("span",{children:[x.toString(),"/",m.toString()," ",null!==(n=null===c||void 0===c?void 0:c.symbol)&&void 0!==n?n:""," ",(0,Q.jsxs)("span",{className:"font-normal text-v2-lily/75",children:["(",f.toFixed(2),"%)"]})]})]}),(0,Q.jsxs)("div",{className:"flex items-center justify-between text-sm font-normal text-v2-lily/30",children:[(0,Q.jsx)("span",{children:u.ag._({id:"agO/T/"})}),(0,Q.jsx)("span",{children:p})]})]})},be=function(e){var t=e.order.state;return"Cancelled"===t?(0,Q.jsxs)("span",{className:"flex flex-wrap items-center justify-center space-x-1 text-sm font-normal text-jupiter-yellow",children:[(0,Q.jsx)(de.Z,{width:12,height:12}),(0,Q.jsx)("span",{children:(0,Q.jsx)(c.cC,{id:"vv7kpg"})})]}):"Completed"===t?(0,Q.jsxs)("span",{className:"flex flex-wrap items-center justify-center space-x-1 text-sm font-normal text-[#40C1C9]",children:[(0,Q.jsx)("svg",{width:12,height:12,viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Q.jsx)("path",{d:"M19 0C8.5204 0 0 8.5204 0 19C0 29.4796 8.5204 38 19 38C29.4796 38 38 29.4796 38 19C38 8.5204 29.4796 0 19 0ZM28.6 14.7592L18.4408 26.32C18.0814 26.72 17.6002 26.9606 17.0814 26.9606H17.0018C16.5221 26.9606 16.0424 26.7606 15.6814 26.4013L9.47983 20.1593C8.75951 19.439 8.75951 18.239 9.47983 17.5186C10.2002 16.7983 11.4002 16.7983 12.1205 17.5186L16.9613 22.3594L25.8005 12.2798C26.4802 11.4798 27.6802 11.4392 28.4411 12.1205C29.2411 12.8001 29.3203 13.9592 28.6 14.7592Z",fill:"#40C1C9"})}),(0,Q.jsx)("span",{children:(0,Q.jsx)(c.cC,{id:"qqWcBV"})})]}):(0,Q.jsx)("span",{className:"text-sm font-normal text-v2-lily",children:"Waiting"})},ge=n(24628),we=function(e){var t=e.height,n=void 0===t?12:t,r=e.width,s=void 0===r?12:r;return(0,Q.jsx)("svg",{width:s,height:n,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Q.jsx)("path",{d:"M1.25 10.7502L4.02463 9.68299C4.2021 9.61473 4.29084 9.5806 4.37386 9.53603C4.4476 9.49645 4.5179 9.45077 4.58402 9.39946C4.65846 9.34169 4.72569 9.27447 4.86014 9.14001L10.5 3.50015C11.0523 2.94787 11.0523 2.05244 10.5 1.50015C9.94773 0.947867 9.0523 0.947866 8.50001 1.50015L2.86014 7.14001C2.72569 7.27446 2.65846 7.34169 2.6007 7.41613C2.54939 7.48225 2.5037 7.55255 2.46412 7.62629C2.41955 7.70931 2.38542 7.79805 2.31717 7.97552L1.25 10.7502ZM1.25 10.7502L2.27906 8.07463C2.3527 7.88317 2.38952 7.78744 2.45267 7.74359C2.50786 7.70527 2.57615 7.69078 2.64215 7.70338C2.71767 7.7178 2.79019 7.79033 2.93524 7.93538L4.06479 9.06493C4.20984 9.20997 4.28236 9.2825 4.29678 9.35802C4.30939 9.42401 4.29489 9.49231 4.25657 9.5475C4.21272 9.61065 4.11699 9.64747 3.92554 9.72111L1.25 10.7502Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})},je=function(e){var t=e.height,n=void 0===t?10:t,r=e.width,s=void 0===r?10:r;return(0,Q.jsxs)("svg",{width:s,height:n,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Q.jsx)("path",{d:"M3.35355 0.853553C3.54882 0.658291 3.54882 0.341709 3.35355 0.146447C3.15829 -0.0488155 2.84171 -0.0488155 2.64645 0.146447L0.646447 2.14645C0.451184 2.34171 0.451184 2.65829 0.646447 2.85355L2.64645 4.85355C2.84171 5.04882 3.15829 5.04882 3.35355 4.85355C3.54882 4.65829 3.54882 4.34171 3.35355 4.14645L2.20711 3L9 3C9.27614 3 9.5 2.77614 9.5 2.5C9.5 2.22386 9.27614 2 9 2L2.20711 2L3.35355 0.853553Z",fill:"currentColor"}),(0,Q.jsx)("path",{d:"M7.35355 5.14645C7.15829 4.95118 6.84171 4.95118 6.64645 5.14645C6.45118 5.34171 6.45118 5.65829 6.64645 5.85355L7.79289 7H1C0.723858 7 0.5 7.22386 0.5 7.5C0.5 7.77614 0.723858 8 1 8H7.79289L6.64645 9.14645C6.45118 9.34171 6.45118 9.65829 6.64645 9.85355C6.84171 10.0488 7.15829 10.0488 7.35355 9.85355L9.35355 7.85355C9.54882 7.65829 9.54882 7.34171 9.35355 7.14645L7.35355 5.14645Z",fill:"currentColor"})]})},ye=n(30431),ke=function(e){var t=e.type,n=e.inputMint,r=e.outputMint,s=e.inAmount,i=e.outAmount,a=e.dateTime,o=e.tx,l=(0,h.Bn)().getTokenInfo,u=(0,h.oP)().getExplorer,d=(0,M.useMemo)((function(){return"create"===t?(0,Q.jsx)(c.cC,{id:"hYgDIe"}):"trade"===t?(0,Q.jsx)(c.cC,{id:"JHxGP5"}):"cancel"===t?(0,Q.jsx)(c.cC,{id:"dEgA5A"}):""}),[t]),m=(0,M.useMemo)((function(){return l(n.toString())}),[n,l]),x=(0,M.useMemo)((function(){return l(r.toString())}),[r,l]),f=(0,M.useMemo)((function(){return m?(0,b.lt)(s,m.decimals):void 0}),[s,m]),p=(0,M.useMemo)((function(){return x&&i?(0,b.lt)(i,x.decimals):void 0}),[i,x]);return(0,Q.jsxs)("div",{className:"flex w-full items-center justify-between py-1 text-sm",children:[(0,Q.jsxs)("div",{className:(0,K.cn)("flex basis-2/12 items-center space-x-1",{"text-[#12B76A]":"create"===t,"text-[#2E90FA]":"trade"===t,"text-[#F04438]":"cancel"===t}),children:["create"===t?(0,Q.jsx)(we,{}):null,"trade"===t?(0,Q.jsx)(je,{}):null,"cancel"===t?(0,Q.jsx)(ye.Z,{height:10,width:10}):null,(0,Q.jsx)("span",{children:d})]}),(0,Q.jsxs)("div",{className:"flex basis-4/12 flex-col items-center font-normal text-v2-lily/50",children:["trade"!==t&&f&&m&&(0,Q.jsx)("span",{children:"".concat(f.toFixed(m.decimals)," ").concat(m.symbol)}),"trade"===t&&f&&m&&p&&x&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("span",{className:"text-center text-perps-red",children:["Sell ","".concat(f.toFixed(m.decimals)," ").concat(m.symbol)]}),(0,Q.jsxs)("span",{className:"text-center text-perps-green",children:["Buy ",p&&x&&(0,Q.jsx)("span",{children:"".concat(p," ").concat(x.symbol)})]})]})]}),(0,Q.jsx)("div",{className:"basis-2/12 text-center text-v2-lily/50",children:(0,le.Z)(a,"H:mm dd/MM/yyyy (x)")}),(0,Q.jsx)("a",{href:u(o),target:"_blank",rel:"noreferrer",className:"w-auto text-v2-lily/50",children:(0,Q.jsx)(ge.Z,{width:12,height:12})})]})},Ne=function(e){var t=e.order,n=t.createTxid,r=t.cancelTxid,s=t.inputMint,i=t.outputMint,a=t.trades,o=t.inAmount,l=t.oriInAmount,c=t.createdAt,u=t.updatedAt;return(0,Q.jsxs)("div",{className:"flex w-full flex-col space-y-1 px-2 md:px-4",children:[r&&(0,Q.jsx)(ke,{type:"cancel",inAmount:o,inputMint:s,outputMint:i,dateTime:u,tx:r}),a.map((function(e){return(0,Q.jsx)(ke,{type:"trade",inAmount:e.inAmount,outAmount:e.outAmount,inputMint:s,outputMint:i,dateTime:e.createdAt,tx:e.txid},e.id)})),(0,Q.jsx)(ke,{type:"create",inAmount:l,inputMint:s,outputMint:i,dateTime:c,tx:n})]})},Ce=function(e){var t=e.order,n=t.oriInAmount,r=t.oriOutAmount,s=t.inputMint,i=t.outputMint,a=(0,M.useState)(!1),o=a[0],l=a[1],d=(0,M.useState)("overview"),m=d[0],x=d[1],f=(0,h.Bn)().getTokenInfo,p=(0,M.useMemo)((function(){return f(s.toString())}),[s,f]),v=(0,M.useMemo)((function(){return f(i.toString())}),[i,f]),g=(0,V.b)(p,v),w=g.quoteTokenInfo,j=g.baseTokenInfo,y=g.rateDecimals,N=(0,M.useMemo)((function(){return p?(0,b.lt)(n,p.decimals):void 0}),[n,p]),C=(0,M.useMemo)((function(){return v?(0,b.lt)(r,v.decimals):void 0}),[r,v]),S=(0,M.useMemo)((function(){if(w&&j&&N&&C){var e=w.address===s,t=new k.Z(N).div(C),n=e?t:new k.Z(1).div(t);return(0,Q.jsx)("div",{className:"flex flex-wrap items-center justify-center space-x-1",children:(0,Q.jsx)(c.cC,{id:"KsSKV6",values:{0:null===w||void 0===w?void 0:w.symbol,1:null===j||void 0===j?void 0:j.symbol},components:{0:(0,Q.jsx)(xe.ZP,{value:n.toDP(y).toNumber()}),1:(0,Q.jsx)("span",{})}})})}}),[N,C,w,j,s,y]);return(0,Q.jsxs)("div",{className:"flex w-full flex-col",children:[(0,Q.jsxs)("button",{onClick:function(){l((function(e){return!e}))},className:(0,b.cn)("flex min-h-[64px] w-full items-center justify-between overflow-hidden rounded-lg bg-history-item p-2 md:p-4",{"rounded-b-none":o}),children:[(0,Q.jsxs)("div",{className:"flex basis-5/12 flex-col space-y-1",children:[(0,Q.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Q.jsx)(pe.Z,{info:p,width:20,height:20}),(0,Q.jsx)("p",{className:"text-left text-xs font-normal text-perps-red",children:(0,Q.jsx)(c.cC,{id:"8voG6y",values:{0:b.uf.format(N),1:(null===p||void 0===p?void 0:p.symbol)||""}})})]}),(0,Q.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Q.jsx)(pe.Z,{info:v,width:20,height:20}),(0,Q.jsx)("p",{className:"text-left text-xs font-normal text-perps-green",children:(0,Q.jsx)(c.cC,{id:"0qGCm+",values:{0:b.uf.format(C),1:(null===v||void 0===v?void 0:v.symbol)||""}})})]})]}),(0,Q.jsx)("div",{className:"basis-3/12 text-center text-xs font-normal text-v2-lily/50",children:S}),(0,Q.jsx)("div",{className:"flex basis-2/12 items-center justify-center",children:(0,Q.jsx)(be,{order:e.order})}),(0,Q.jsx)("div",{className:(0,b.cn)("w-auto fill-v2-lily",o?"":"-rotate-90"),children:(0,Q.jsx)(fe.Z,{})})]}),(0,Q.jsxs)("div",{className:(0,b.cn)("flex flex-col space-y-2 overflow-hidden rounded-b-lg bg-history-expanded transition-max-height duration-300",o?"animate-fade-in":"max-h-0 animate-fade-out"),children:[(0,Q.jsxs)("div",{className:"flex space-x-2 px-2 text-xs md:space-x-4 md:px-4",children:[(0,Q.jsx)("button",{type:"button",onClick:function(){return x("overview")},className:(0,b.cn)("border-b-2 border-transparent p-3 text-v2-lily/50","overview"===m?"border-b-v2-primary font-semibold text-white":""),children:u.ag._({id:"6/dCYd"})}),(0,Q.jsx)("button",{type:"button",onClick:function(){return x("transactions")},className:(0,b.cn)("border-b-2 border-transparent p-3 text-v2-lily/50","transactions"===m?"border-b-v2-primary font-semibold text-white":""),children:u.ag._({id:"4wyw8H"})})]}),(0,Q.jsxs)("div",{className:"pb-3",children:["overview"===m&&(0,Q.jsx)(ve,{order:e.order}),"transactions"===m&&(0,Q.jsx)(Ne,{order:e.order})]})]})]})},Se=n(11681),Me=function(e){var t=e.type,n=e.inputMint,r=e.outputMint,s=e.inAmount,i=e.outAmount,a=e.dateTime,o=e.tx,l=(0,h.Bn)().getTokenInfo,u=(0,h.oP)().getExplorer,d=(0,M.useMemo)((function(){return"create"===t?(0,Q.jsx)(c.cC,{id:"hYgDIe"}):"trade"===t?(0,Q.jsx)(c.cC,{id:"JHxGP5"}):"cancel"===t?(0,Q.jsx)(c.cC,{id:"dEgA5A"}):""}),[t]),m=(0,M.useMemo)((function(){return l(n.toString())}),[n,l]),x=(0,M.useMemo)((function(){return l(r.toString())}),[r,l]),f=(0,M.useMemo)((function(){return m?(0,b.lt)(s,m.decimals):void 0}),[s,m]),p=(0,M.useMemo)((function(){return x&&i?(0,b.lt)(i,x.decimals):void 0}),[i,x]);return(0,Q.jsxs)("div",{className:"flex items-center justify-between px-2 py-5",children:[(0,Q.jsxs)("div",{className:"flex items-center",children:[(0,Q.jsxs)("div",{className:(0,K.cn)("flex items-center space-x-1",{"text-[#12B76A]":"create"===t,"text-[#2E90FA]":"trade"===t,"text-[#F04438]":"cancel"===t}),children:["create"===t?(0,Q.jsx)(we,{}):null,"trade"===t?(0,Q.jsx)(je,{}):null,"cancel"===t?(0,Q.jsx)(ye.Z,{height:10,width:10}):null,(0,Q.jsx)("span",{children:d})]}),(0,Q.jsxs)("div",{className:"ml-5 flex items-center whitespace-nowrap font-semibold text-white/50",children:[f&&m?(0,Q.jsx)("span",{children:"".concat(f.toFixed(m.decimals)," ").concat(m.symbol)}):(0,Q.jsx)(X.O,{className:"h-[15px] w-14"}),"trade"===t?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{className:"mx-1 h-2.5 w-4",children:(0,Q.jsx)(ue.Z,{width:16,height:10})}),p&&x?(0,Q.jsx)("span",{children:"".concat(p," ").concat(x.symbol)}):(0,Q.jsx)(X.O,{className:"h-[15px] w-14"})]}):null]})]}),(0,Q.jsxs)("div",{className:"flex items-center space-x-4 text-white/50",children:[(0,Q.jsx)("div",{className:"text-center",children:(0,le.Z)(a,"H:mm dd/MM/yyyy (x)")}),(0,Q.jsxs)("a",{href:u(o),target:"_blank",rel:"noreferrer",className:"flex items-center space-x-2 rounded-lg border border-white/5 px-2 py-1",children:[(0,Q.jsx)("span",{children:(0,Q.jsx)(c.cC,{id:"ONvOor"})}),(0,Q.jsx)(ge.Z,{})]})]})]})},Pe=n(32529),Te=n(64192);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=function(e){var t=e.data,n=t.inputToken,r=t.outputToken,s=t.entryPrice,i=t.expiryText,o=t.filledStatusText,l=t.item,c=M.useState(!1),d=(0,a.Z)(c,2),m=d[0],x=d[1],f=(0,h.Bn)().getTokenInfo,p=(0,h.oP)().getExplorer,v=(0,M.useMemo)((function(){return f(l.inputMint.toString())}),[l,f]),g=(0,M.useMemo)((function(){return f(l.outputMint.toString())}),[l,f]);return(0,Q.jsxs)("div",{className:"mb-2 rounded-lg bg-history-item",children:[(0,Q.jsxs)("button",{className:"flex h-[64px] w-full items-center justify-between px-2 text-xs md:px-4",onClick:function(){x((function(e){return!e}))},children:[(0,Q.jsxs)("div",{className:"flex basis-2/12 items-center space-x-2 text-left",children:[(0,Q.jsxs)("div",{className:"flex cursor-pointer -space-x-2",children:[(0,Q.jsx)(pe.Z,{info:n,height:20,width:20}),(0,Q.jsx)(pe.Z,{info:r,height:20,width:20})]}),(0,Q.jsxs)("div",{className:"flex items-center justify-center space-x-1.5 text-white",children:[(0,Q.jsx)("span",{children:null===n||void 0===n?void 0:n.symbol}),(0,Q.jsx)("div",{className:"fill-current text-v2-lily/50",children:(0,Q.jsx)(ue.Z,{width:10,height:10})}),(0,Q.jsx)("span",{children:null===r||void 0===r?void 0:r.symbol})]})]}),(0,Q.jsx)("div",{className:"text-white/75",children:(0,Q.jsx)("span",{children:s})}),(0,Q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Q.jsx)("div",{children:"Completed"===l.state?(0,Q.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,Q.jsx)("g",{clipPath:"url(#clip0_20175_46044)",children:(0,Q.jsx)("path",{d:"M4.99967 7.99967L6.99967 9.99967L10.9997 5.99967M14.6663 7.99967C14.6663 11.6816 11.6816 14.6663 7.99967 14.6663C4.31778 14.6663 1.33301 11.6816 1.33301 7.99967C1.33301 4.31778 4.31778 1.33301 7.99967 1.33301C11.6816 1.33301 14.6663 4.31778 14.6663 7.99967Z",stroke:"#24AE8F",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Q.jsx)("defs",{children:(0,Q.jsx)("clipPath",{id:"clip0_20175_46044",children:(0,Q.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}):"Cancelled"===l.state?(0,Q.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,Q.jsx)("g",{clipPath:"url(#clip0_20175_46056)",children:(0,Q.jsx)("path",{d:"M9.99967 5.99967L5.99967 9.99967M5.99967 5.99967L9.99967 9.99967M14.6663 7.99967C14.6663 11.6816 11.6816 14.6663 7.99967 14.6663C4.31778 14.6663 1.33301 11.6816 1.33301 7.99967C1.33301 4.31778 4.31778 1.33301 7.99967 1.33301C11.6816 1.33301 14.6663 4.31778 14.6663 7.99967Z",stroke:"#F79009",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Q.jsx)("defs",{children:(0,Q.jsx)("clipPath",{id:"clip0_20175_46056",children:(0,Q.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}):null}),(0,Q.jsx)("div",{className:(0,K.cn)(["fill-current text-v2-lily/[.35]",m?"":"-rotate-90"]),children:(0,Q.jsx)(fe.Z,{})})]})]}),"Cancelled"===l.state,(0,Q.jsx)("div",{className:"px-3",children:(0,Q.jsx)("div",{className:(0,K.cn)("overflow-hidden rounded-t-lg bg-history-item transition-max-height duration-200",m?"max-h-[546px] animate-fade-in":"max-h-0 animate-fade-out"),children:(0,Q.jsx)("div",{className:"max-h-[460px] bg-history-expanded p-6 text-xs",children:(0,Q.jsxs)("div",{className:"space-y-3 text-v2-lily/30",children:[(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:u.ag._({id:"a7u1N9"})}),(0,Q.jsx)("span",{children:s})]}),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:u.ag._({id:"agO/T/"})}),(0,Q.jsx)("span",{children:i})]}),o&&(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:u.ag._({id:"DT739H"})}),(0,Q.jsx)("span",{children:o})]}),(0,Q.jsx)("div",{className:"border-t border-v2-lily/5"}),"Cancelled"===l.state&&l.cancelTxid&&(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:u.ag._({id:"vv7kpg"})}),(0,Q.jsx)("span",{children:(0,Q.jsxs)("a",{href:p(l.cancelTxid),target:"_blank",rel:"noreferrer",className:"underline",children:[v&&(0,b.lt)(l.oriInAmount,v.decimals)," ",v&&v.symbol]})})]}),l.trades.map((function(e){return(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:u.ag._({id:"JHxGP5"})}),(0,Q.jsx)("span",{children:(0,Q.jsxs)("a",{href:p(e.txid),target:"_blank",rel:"noreferrer",className:"underline",children:[v&&(0,b.lt)(e.inAmount,v.decimals)," ",v&&v.symbol," -"," ",g&&(0,b.lt)(e.outAmount,g.decimals)," ",g&&g.symbol]})})]},e.id)})),(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsx)("span",{children:u.ag._({id:"d+F6q9"})}),(0,Q.jsx)("span",{children:(0,Q.jsxs)("a",{href:p(l.createTxid),target:"_blank",rel:"noreferrer",className:"underline",children:[v&&(0,b.lt)(l.oriInAmount,v.decimals)," ",v&&v.symbol]})})]}),(0,Q.jsx)("div",{children:(0,Q.jsx)("div",{className:(0,K.cn)("py-2 text-center text-sm font-semibold",{"text-[#23C1AA]":"Completed"===l.state,"text-jupiter-yellow":"Cancelled"===l.state}),children:(0,Q.jsx)("span",{children:l.state})})})]})})})})]})},Ve=(0,M.memo)((function(e){var t=e.data,n=e.isV2,s=t.oriInAmount,i=t.inAmount,a=t.trades,o=t.oriOutAmount,l=t.inputMint,d=t.outputMint,m=t.expiredAt,x=t.state,f=t.createdAt,p=t.updatedAt,v=t.createTxid,g=t.cancelTxid,w=(0,M.useState)(!1),j=w[0],N=w[1],C=(0,F.T)(),S=(0,h.Bn)(),P=S.getTokenInfo,T=S.connection,Z=(0,M.useMemo)((function(){return P(l.toString())}),[l,P]),A=(0,M.useMemo)((function(){return P(d.toString())}),[d,P]),O=(0,V.b)(Z,A),D=O.quoteTokenInfo,B=O.baseTokenInfo,I=O.rateDecimals,_=(0,M.useMemo)((function(){return Z?(0,b.lt)(s,Z.decimals):void 0}),[s,Z]),E=(0,M.useMemo)((function(){return A?(0,b.lt)(o,A.decimals):void 0}),[o,A]),L=(0,M.useMemo)((function(){if(D&&B&&_&&E){var e=D.address===l,t=new k.Z(_).div(E),n=e?t:new k.Z(1).div(t);return(0,Q.jsx)("div",{className:"flex items-center justify-center space-x-1",children:(0,Q.jsx)(c.cC,{id:"DH23ks",values:{0:null===D||void 0===D?void 0:D.symbol,1:null===B||void 0===B?void 0:B.symbol},components:{0:(0,Q.jsx)(xe.ZP,{value:n.toDP(I).toNumber()}),1:(0,Q.jsx)("span",{})}})})}}),[_,E,D,B,l,I]),R=(0,M.useMemo)((function(){return m&&!new(y())(Number(m)).isZero()?(0,le.Z)((0,ce.Z)(Number(m)),"H:mm dd/MM/yyyy (x)"):u.ag._({id:"qqeAJM"})}),[m]),H=(0,M.useMemo)((function(){if(!Z||!A)return"";var e=new k.Z((0,b.lt)(s,Z.decimals)).minus((0,b.lt)(i,Z.decimals)).toDP(6).toNumber(),t=new k.Z((0,b.lt)(s,Z.decimals)).toDP(6).toNumber(),n=new k.Z(e).div(t).mul(100).toFixed(2).toString();return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("span",{className:"text-white",children:[e,"/",t," ",Z.symbol]})," ","(",n,"%)"]})}),[s,i,Z,A]),q=(0,M.useState)({}),U=q[0],W=q[1];(0,M.useEffect)((function(){Z||U[l]||(0,Te.D)(T,l).then((function(e){W(Ae(Ae({},U),{},(0,r.Z)({},l,{decimals:e.decimals})))})).catch((function(){})),A||U[d]||(0,Te.D)(T,d).then((function(e){W(Ae(Ae({},U),{},(0,r.Z)({},d,{decimals:e.decimals})))})).catch((function(){}))}),[T,Z,l,U,d,A]);var G=(0,M.useMemo)((function(){if(!Z||!A){var e,t,n=Z?Z.symbol:(0,b.Xn)(l.toString()),r=A?A.symbol:(0,b.Xn)(d.toString()),i=null!==_&&void 0!==_?_:(0,b.lt)(s,null===(e=U[l])||void 0===e?void 0:e.decimals),a=null!==E&&void 0!==E?E:(0,b.lt)(o,null===(t=U[d])||void 0===t?void 0:t.decimals);return(0,Q.jsxs)("div",{className:"flex min-w-[280px] basis-2/6 items-center px-6",children:[(0,Q.jsxs)("div",{className:"flex -space-x-2",children:[(0,Q.jsx)(pe.Z,{info:Z,height:20,width:20}),(0,Q.jsx)(pe.Z,{info:A,height:20,width:20})]}),(0,Q.jsxs)("div",{className:"ml-5 flex items-center whitespace-nowrap font-semibold",children:[i?(0,Q.jsx)("span",{children:"".concat(i," ").concat(n)}):(0,Q.jsx)(X.O,{className:"h-[15px] w-14"}),(0,Q.jsx)("div",{className:"mx-1 h-2.5 w-4",children:(0,Q.jsx)(ue.Z,{width:16,height:10})}),a?(0,Q.jsx)("span",{children:"".concat(a," ").concat(r)}):(0,Q.jsx)(X.O,{className:"h-[15px] w-14"})]})]})}return(0,Q.jsxs)("div",{className:"flex min-w-[280px] basis-2/6 items-center px-6",children:[(0,Q.jsxs)("div",{className:"flex cursor-pointer -space-x-2",onClick:function(){return C(Z,A)},children:[(0,Q.jsx)(pe.Z,{info:Z,height:20,width:20}),(0,Q.jsx)(pe.Z,{info:A,height:20,width:20})]}),(0,Q.jsxs)("div",{className:"ml-5 flex items-center whitespace-nowrap font-semibold",children:[_?(0,Q.jsx)("span",{children:"".concat(_," ").concat(Z.symbol)}):(0,Q.jsx)(X.O,{className:"h-[15px] w-14"}),(0,Q.jsx)("div",{className:"mx-1 h-2.5 w-4",children:(0,Q.jsx)(ue.Z,{width:16,height:10})}),E?(0,Q.jsx)("span",{children:"".concat(E," ").concat(A.symbol)}):(0,Q.jsx)(X.O,{className:"h-[15px] w-14"})]})]})}),[_,Z,l,U,C,s,o,d,E,A]);return n?(0,Q.jsx)(Oe,{data:{inputToken:Z,outputToken:A,entryPrice:L||(0,Q.jsx)(X.O,{className:"h-4 w-full"}),expiryText:R,filledStatusText:H,item:t}}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("button",{className:"flex h-[62px] w-full items-center justify-between border-b border-white/5 text-white/50",onClick:function(){return N(!j)},children:[G,(0,Q.jsxs)("div",{className:"flex basis-4/6 items-center justify-between",children:[(0,Q.jsx)("div",{className:"basis-3/12 text-center",children:L}),(0,Q.jsx)("div",{className:"basis-3/12 text-center",children:R}),(0,Q.jsx)("div",{className:"basis-3/12 text-center",children:H}),(0,Q.jsxs)("div",{className:"flex basis-2/12 items-center justify-center px-3 py-1.5",children:["Cancelled"===x?(0,Q.jsxs)("span",{className:"flex items-center space-x-1 font-semibold text-jupiter-yellow",children:[(0,Q.jsx)(de.Z,{width:12,height:12}),(0,Q.jsx)("span",{children:(0,Q.jsx)(c.cC,{id:"vv7kpg"})})]}):null,"Completed"===x?(0,Q.jsxs)("span",{className:"flex items-center space-x-1 font-semibold text-[#40C1C9]",children:[(0,Q.jsx)("svg",{width:12,height:12,viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Q.jsx)("path",{d:"M19 0C8.5204 0 0 8.5204 0 19C0 29.4796 8.5204 38 19 38C29.4796 38 38 29.4796 38 19C38 8.5204 29.4796 0 19 0ZM28.6 14.7592L18.4408 26.32C18.0814 26.72 17.6002 26.9606 17.0814 26.9606H17.0018C16.5221 26.9606 16.0424 26.7606 15.6814 26.4013L9.47983 20.1593C8.75951 19.439 8.75951 18.239 9.47983 17.5186C10.2002 16.7983 11.4002 16.7983 12.1205 17.5186L16.9613 22.3594L25.8005 12.2798C26.4802 11.4798 27.6802 11.4392 28.4411 12.1205C29.2411 12.8001 29.3203 13.9592 28.6 14.7592Z",fill:"#40C1C9"})}),(0,Q.jsx)("span",{children:(0,Q.jsx)(c.cC,{id:"qqWcBV"})})]}):null,"Waiting"===x?u.ag._({id:"uUehLT"}):""]}),(0,Q.jsx)("div",{className:(0,K.cn)("flex h-5 basis-1/12 items-center justify-center text-white/50",{"rotate-180":!j,"rotate-0":j}),children:(0,Q.jsx)(he.Z,{height:12,width:12})})]})]}),j?(0,Q.jsxs)("div",{className:(0,K.cn)("ml-6 flex flex-col divide-y divide-white/5 overflow-hidden border-l border-white/5 px-6 transition-all",{"h-0":!j,"h-auto":j}),children:[g?(0,Q.jsx)(Me,{type:"cancel",inAmount:i,inputMint:l,outputMint:d,dateTime:p,tx:g}):null,a.map((function(e){return(0,Q.jsx)(Me,{type:"trade",inAmount:e.inAmount,outAmount:e.outAmount,inputMint:l,outputMint:d,dateTime:e.createdAt,tx:e.txid},e.id)})),(0,Q.jsx)(Me,{type:"create",inAmount:s,inputMint:l,outputMint:d,dateTime:f,tx:v})]}):null]})})),De=function(e){var t=e.orders,n=e.loading,r=e.pageIndex,s=e.setPageIndex,a=e.pageCount,o=e.isV2,u=(0,h.Bn)(),d=u.requestTokenInfo,m=u.requestOnChainTokenInfo,x=(0,M.useState)([]),f=x[0],p=x[1],v=(0,Pe.Y)({pageIndex:r,pageCount:a,setPageIndex:s}),b=v.pager,g=v.canPreviousPage,w=v.canNextPage,j=v.gotoPage;return(0,M.useEffect)((function(){if(!0!==n&&t.length){var e=function(){var e=(0,i.Z)(l().mark((function e(){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=null!==(n=t.reduce((function(e,t){return t.inputMint&&e.push(t.inputMint),t.outputMint&&e.push(t.outputMint),e}),[]))&&void 0!==n?n:[],e.next=4,d(r);case 4:return e.next=6,m(r);case 6:p(t),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}}),[n,t,m,d]),o?(0,Q.jsxs)("div",{className:"relative mt-3",children:[0===t.length?(0,Q.jsx)("div",{className:"flex h-full min-h-[180px] w-full items-center justify-center rounded-lg border border-v2-lily/10 bg-v2-lily/5 text-sm text-white/20",children:(0,Q.jsx)(Se.Z,{loading:n,emptyText:(0,Q.jsx)(c.cC,{id:"MtN2oD"})})}):null,t.length>0?t.map((function(e,t){return(0,Q.jsx)(Ve,{data:e,index:t,isV2:!0},e.id)})):null,t.length>0&&n?(0,Q.jsx)("div",{className:"absolute left-0 top-0 min-h-[620px] w-full bg-black/10 backdrop-blur-sm"}):null,t.length>0&&a>0?(0,Q.jsx)(me.Z,{canPreviousPage:g,gotoPage:j,pageIndex:r,pager:b,canNextPage:w}):null]}):(0,Q.jsxs)("div",{className:"w-full",children:[(0,Q.jsxs)("div",{className:"relative mt-3 flex flex-col gap-y-2",children:[0===f.length?(0,Q.jsx)(Se.Z,{loading:n,emptyText:(0,Q.jsx)(c.cC,{id:"MtN2oD"})}):null,f.map((function(e){return(0,Q.jsx)(Ce,{order:e},e.id)})),f.length>0&&n?(0,Q.jsx)("div",{className:"absolute left-0 top-0 z-20 h-full w-full rounded-lg bg-black/10 backdrop-blur-sm"}):null]}),f.length>0&&a>0?(0,Q.jsx)(me.Z,{canPreviousPage:g,gotoPage:j,pageIndex:r,pager:b,canNextPage:w}):null]})},Be=n(78232),Ie=n(91511),Fe=function(){var e=(0,i.Z)(l().mark((function e(t){var n,r,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("standard"in t)||!("fuse:getEphemeralSigners"in t.wallet.features)){e.next=10;break}return n=t.wallet.features["fuse:getEphemeralSigners"],e.next=4,n.getEphemeralSigners(1);case 4:return r=e.sent,s=(0,a.Z)(r,1),i=s[0],e.abrupt("return",{publicKey:new g.PublicKey(i)});case 10:return e.abrupt("return",g.Keypair.generate());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=function(e){var t=e.fromPair,n=e.fromTokenInfo,r=e.toTokenInfo,s=e.side,i=e.isSubmitting,o=(0,h.Bn)().newTokenListMap,l=(0,V.b)(n,r),c=l.quoteTokenInfo,u=l.baseTokenInfo,d=l.quoteTokenPrice,m=l.baseTokenPrice,x=l.rateDecimals,f=(0,N.KO)(Z.dS),p=(0,a.Z)(f,1)[0].GRAPH_PARAMS,v=(0,M.useMemo)((function(){return!(!c||!u)&&(o.has(c.address)||o.has(u.address))}),[o,c,u]),b=(0,M.useMemo)((function(){if(!A.d.find((function(e){return e===(null===n||void 0===n?void 0:n.address)||e===(null===r||void 0===r?void 0:r.address)})))return null;var e=t===(null===u||void 0===u?void 0:u.address);return{isFromBase:Boolean(e)}}),[null===u||void 0===u?void 0:u.address,t,null===n||void 0===n?void 0:n.address,null===r||void 0===r?void 0:r.address]),g=(0,I.s)({quoteTokenInfo:c,baseTokenInfo:u,quoteTokenPrice:d,baseTokenPrice:m,isBaseQuoteMode:b,rateDecimals:x,isSubmitting:i}),w=g.swapMarketPrice,j=g.isFetching,y=g.isFetched,C=(0,M.useMemo)((function(){if(v&&!w){var e=Number(p.i),t="buy"===s?d:"sell"===s?null!==b&&void 0!==b&&b.isFromBase?d:m:void 0;return t?"sell"!==s||null!==b&&void 0!==b&&b.isFromBase?new k.Z(e).div(t):new k.Z(t).div(e):null}return w}),[m,v,null===b||void 0===b?void 0:b.isFromBase,w,d,s,p]);return{rateDecimals:x,isBaseQuoteMode:b,swapMarketPrice:C,isMarketPriceFetched:y,isFetchingMarketPrice:j,jupSwapMarketPrice:w,quoteTokenInfo:c,baseTokenInfo:u}},He=function(e){var t,n=e.limitOrder,r=e.fromTokenInfo,s=e.toTokenInfo,o=e.onOrderCreationFailed,p=e.onOrderCreationStart,y=e.onOrderCreationSuccess,C=e.side,A=e.description,V=e.setForm,I=(0,w.a)(["limit-order-fee-structure"],(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFee();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{staleTime:1/0}),W=(0,P.cI)({defaultValues:{fromPair:r.address,toPair:s.address,fromPairValue:"100",targetPrice:"",toPairValue:"",expiry:"Never"}}),Y=W.control,re=W.handleSubmit,se=W.watch,oe=W.setValue,le=W.formState,ce=(0,F.T)(),ue=(0,q.JT)().openModal,de=(0,f.O)(),me=de.wallet,xe=de.signTransaction,fe=de.signAllTransactions,he=(0,M.createRef)(),pe=(0,h.Bn)(),ve=pe.tokenMap,be=pe.connection,ge=(0,M.useRef)(!1),we=(0,M.useMemo)((function(){var e=new Array(ve.size);return ve.forEach((function(t){(0,b.kL)(t)||e.push(t.address)})),e}),[ve]),je=se(),ye=(0,D.R3)(),ke=(0,N.KO)(v.yz),Ne=(0,a.Z)(ke,1)[0],Ce=(0,O.gs)().priorityLevel,Se=M.useCallback((function(e){var t=e,n=s;s.address===e.address&&(t=s,n=r),n&&ce(t,n)}),[ce,r,s]),Me=M.useCallback((function(e){var t=r,n=e;r.address===e.address&&(t=s,n=r),t&&ce(t,n)}),[ce,r,s]),Pe=(0,M.useMemo)((function(){return(0,b.Hd)(je.targetPrice)?Number(je.targetPrice):0}),[je.targetPrice]),Te=(0,N.KO)(Z.dS),Ze=(0,a.Z)(Te,1)[0],Ae=Ze.RECOMMENDED_PARAMS,Oe=Ze.GRAPH_PARAMS,Ve=Ze.FORM_CONFIG.LIMIT_ORDER,De=(0,M.useState)({marketStatus:"unset",swapMarketPrice:new k.Z(Oe.i),hasNewToken:!1,constants:Ve.PRE_LAUNCH_CONSTANTS}),Ie=De[0],_e=De[1],Le=Re({fromPair:je.fromPair,fromTokenInfo:r,toTokenInfo:s,side:C,isSubmitting:le.isSubmitting}),Ke=Le.rateDecimals,He=Le.isBaseQuoteMode,qe=Le.isFetchingMarketPrice,Ue=Le.quoteTokenInfo,We=Le.baseTokenInfo;(0,M.useEffect)((function(){_e((function(e){return Ee(Ee({},e),{},{swapMarketPrice:Le.swapMarketPrice||null})}))}),[_e,Le.swapMarketPrice]);var Ge=M.useCallback((function(e){(0,b.Hd)(e)&&oe("toPairValue",e)}),[oe]),Ye=(0,h.y6)(),Qe=Ye.tokenPriceMap,ze=Ye.getUSDValue,Je=Ye.isLatest,Xe=M.useMemo((function(){var e,t;if(!r||!s)return[null,null];var n=null===(e=Qe[r.address])||void 0===e?void 0:e.usd,i=null===(t=Qe[s.address])||void 0===t?void 0:t.usd;return n||ze(r.address),i||ze(s.address),[n,i]}),[r,ze,s,Qe,Je]),$e=(0,a.Z)(Xe,2),et=$e[0],tt=$e[1],nt=(0,M.useCallback)((function(e){if(e){var t=(0,R.KU)(Number(e));oe("targetPrice",new k.Z(e).toFixed(Math.min(Ke,t+5))),Ge(null!==He&&void 0!==He&&He.isFromBase?new k.Z(e.toFixed()).mul(je.fromPairValue||0).toDP(Ke).toFixed():new k.Z(je.fromPairValue||0).div(e).toDP(Ke).toFixed())}}),[null===He||void 0===He?void 0:He.isFromBase,Ge,Ke,oe,je.fromPairValue]),rt=(0,M.useCallback)((function(e,t){if(e){var n=(0,R.KU)(Number(e)),r=t?new k.Z(e.toFixed()).mul(t):e;oe("targetPrice",new k.Z(r).toFixed(Math.min(Ke,n+5))),Ge(null!==He&&void 0!==He&&He.isFromBase?new k.Z(r.toFixed()).mul(je.fromPairValue||0).toDP(Ke).toFixed():new k.Z(je.fromPairValue||0).div(r).toDP(Ke).toFixed())}}),[oe,Ke,Ge,null===He||void 0===He?void 0:He.isFromBase,je.fromPairValue]);(0,M.useEffect)((function(){if("unset"===Ie.marketStatus&&!Le.jupSwapMarketPrice){if(_e((function(e){return Ee(Ee({},e),{},{marketStatus:"pre-launch"})})),ge.current)return;if("buy"===C){if(Ve.PRE_LAUNCH_CONSTANTS.initialPrice){var e=new k.Z(Ve.PRE_LAUNCH_CONSTANTS.initialPrice||0).div(et||0);nt(e)}}else oe("targetPrice","")}if("pre-launch"===Ie.marketStatus&&Le.jupSwapMarketPrice&&Le.jupSwapMarketPrice.mul(.99).lt(Oe.m)){if(_e((function(e){return Ee(Ee({},e),{},{constants:Ve.IN_RANGE_CONSTANTS,marketStatus:"in-range"})})),ge.current)return;rt(Le.jupSwapMarketPrice,"buy"===C?Ve.IN_RANGE_CONSTANTS.initialFactor:1)}if(Le.jupSwapMarketPrice&&Le.jupSwapMarketPrice.mul(.99).gte(Oe.m)){if(_e((function(e){return Ee(Ee({},e),{},{constants:Ve.OUT_OF_RANGE_CONSTANTS,marketStatus:"out-of-range"})})),ge.current)return;rt(Le.jupSwapMarketPrice,"buy"===C?Ve.OUT_OF_RANGE_CONSTANTS.initialFactor:1)}}),[Ie.constants.initialFactor,Ie.marketStatus,Ie.swapMarketPrice,rt,Le.jupSwapMarketPrice,_e,Ve,Oe,C,et,nt,oe]);var st=(0,B.E)(),it=(0,M.useMemo)((function(){var e=new k.Z(0);if(!je.targetPrice||!Ie.swapMarketPrice)return e;var t=new k.Z(Pe).sub(Ie.swapMarketPrice).div(Ie.swapMarketPrice);return(e=new k.Z(100).mul(t).toDP(2)).isFinite()?e:new k.Z(0)}),[je.targetPrice,Ie.swapMarketPrice,Pe]),at=(0,M.useMemo)((function(){return it.gt(1e4)?">10000":"".concat(it.toNumber()>0?"+":"").concat(it.toDP(2).toString())}),[it]),ot=(0,M.useMemo)((function(){return null!==He&&void 0!==He&&He.isFromBase?it.toNumber()<0:it.toNumber()>0}),[null===He||void 0===He?void 0:He.isFromBase,it]),lt=(0,M.useMemo)((function(){return null!==He&&void 0!==He&&He.isFromBase?it.toNumber()>0:it.toNumber()<0}),[null===He||void 0===He?void 0:He.isFromBase,it]),ct=(0,M.useMemo)((function(){return"pre-launch"!==Ie.marketStatus&&ot||lt}),[Ie.marketStatus,ot,lt]),ut=(0,M.useMemo)((function(){if(st){if("unset"===Ie.marketStatus||"pre-launch"===Ie.marketStatus)return;if(!Ie.swapMarketPrice)return(0,Q.jsx)(c.cC,{id:"0JMusf"});var e=(0,Q.jsx)("button",{type:"button",onClick:function(){V("swap")},className:"font-semibold underline",children:u.ag._({id:"wyRSKi"})}),t=(0,Q.jsx)(c.cC,{id:"8NtPYF",values:{0:it.absoluteValue(),1:null!==He&&void 0!==He&&He.isFromBase?"lower":"higher",2:null!==He&&void 0!==He&&He.isFromBase?"selling":"buying",3:null!==He&&void 0!==He&&He.isFromBase?"lower":"higher",swapLink:e}});if(null!==He&&void 0!==He&&He.isFromBase){if(it.toNumber()<=-.5)return t}else if(it.toNumber()>=.5)return t}}),[st,Ie.marketStatus,Ie.swapMarketPrice,it,null===He||void 0===He?void 0:He.isFromBase,V]),dt=(0,h.FB)(r.address).balance,mt=M.useCallback((function(e){var t;e.preventDefault(),t=je.fromPair===T.W4.toBase58()?new k.Z(dt).gt(x.WO)?new k.Z(dt).minus(x.WO).toString():"0":String(dt),oe("fromPairValue",t);var n=null!==He&&void 0!==He&&He.isFromBase?Pe:Pe?1/Pe:0;oe("toPairValue",new k.Z(t).mul(n).toFixed())}),[je.fromPair,oe,null===He||void 0===He?void 0:He.isFromBase,Pe,dt]),xt=(0,M.useMemo)((function(){if(null===me||void 0===me||!me.adapter.connected)return!1;if((null===r||void 0===r?void 0:r.address)!==T.W4.toBase58())return!1;if(!(0,b.Hd)(je.fromPairValue))return!1;var e=new k.Z(dt).minus(x.WO);return new k.Z(je.fromPairValue||0).gt(e)}),[null===r||void 0===r?void 0:r.address,dt,null===me||void 0===me?void 0:me.adapter.connected,je.fromPairValue]),ft=(0,M.useMemo)((function(){return new k.Z(je.fromPairValue||0).lte(dt)}),[dt,je.fromPairValue]),ht=(0,M.useMemo)((function(){var e=ie.CO.includes(r.address)&&ie.CO.includes(s.address),t=ie.Jx.includes(r.address)&&ie.Jx.includes(s.address);return I.data?e||t?new k.Z(I.data.makerStableFee.toString()).div(100).toFixed(2)+"%":new k.Z(I.data.makerFee.toString()).div(100).toFixed(2)+"%":null}),[r.address,s.address,I.data]);(0,M.useMemo)((function(){ge.current=!1,r&&oe("fromPair",r.address),s&&oe("toPair",s.address),oe("targetPrice",""),oe("toPairValue","")}),[r.address,s.address,C]);var pt=M.useRef(null),vt=M.useState(!1),bt=(0,a.Z)(vt,2),gt=bt[0],wt=bt[1];(0,b.O3)(pt,(function(){wt(!1)}));var jt=(0,M.useMemo)((function(){return new k.Z(je.fromPairValue||0).mul(et||0)}),[et,je.fromPairValue]),yt=M.useMemo((function(){return{isFromValueTooLow:jt.lt(.99*Ie.constants.minUSD)}}),[Ie.constants.minUSD,jt]).isFromValueTooLow,kt=(0,M.useMemo)((function(){var e=[];"pre-launch"===Ie.marketStatus&&("buy"===C&&new k.Z(et||0).mul(Pe).lt((null===Ae||void 0===Ae?void 0:Ae.min)||0)&&Ae&&e.push((0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("p",{children:u.ag._({id:"EI30XW"})}),(0,Q.jsxs)("p",{children:["Recommended Range: ",(0,Q.jsxs)("span",{className:"font-semibold",children:[Ae.min," USDC"]})," -"," ",(0,Q.jsxs)("span",{className:"font-semibold",children:[Ae.max," USDC"]})]})]})));return e}),[Ae,Ie.marketStatus,et,C,Pe]),Nt=(0,M.useMemo)((function(){var e,t=[];return null!==me&&void 0!==me&&null!==(e=me.adapter)&&void 0!==e&&e.publicKey&&je.fromPairValue&&yt&&t.push(u.ag._({id:"N1JYcR",values:{0:Ie.constants.minUSD}})),function(){if(Pe){if("pre-launch"===Ie.marketStatus||"in-range"===Ie.marketStatus){if(!Ie.constants.maxPrice)return void t.push(u.ag._({id:"7puVGn"}));if("buy"===C){if(!et)return void t.push(u.ag._({id:"rAlmnF"}));var e=new k.Z(et).mul(Pe);e.gt(Ie.constants.maxPrice)&&t.push(u.ag._({id:"1iS8zG",values:{0:Ie.constants.maxPrice}})),Ie.constants.minPrice&&e.lt(Ie.constants.minPrice)&&t.push(u.ag._({id:"hW+ouS",values:{0:Ie.constants.minPrice}}))}if("sell"===C){if(!tt)return void t.push(u.ag._({id:"ECEP9j"}));var n=new k.Z(tt).mul(Pe);Ie.constants.minPrice&&n.lt(Ie.constants.minPrice)&&t.push(u.ag._({id:"o4Yxe2",values:{0:Ie.constants.minPrice}}))}}}else t.push(u.ag._({id:"wrqvPO"}))}(),function(){if(Pe&&("in-range"===Ie.marketStatus||"out-of-range"===Ie.marketStatus)){if(!Ie.constants.maxGuardRails)return void t.push(u.ag._({id:"7fD9rz"}));(null!==He&&void 0!==He&&He.isFromBase?it.toNumber()<-Ie.constants.maxGuardRails:it.toNumber()>Ie.constants.maxGuardRails)&&t.push(u.ag._({id:"9MZNA9",values:{0:null!==He&&void 0!==He&&He.isFromBase?"higher":"lower",1:Ie.constants.maxGuardRails}}))}}(),ft||t.push((0,Q.jsxs)("div",{className:"space-y-1",children:[u.ag._({id:"P7Hzon",values:{0:r.symbol,maxBalance:dt}}),(0,Q.jsx)("br",{}),(0,Q.jsx)("button",{type:"button",className:"cursor-pointer underline",onClick:mt,children:u.ag._({id:"jgc5K8"})})]})),t}),[null===me||void 0===me||null===(t=me.adapter)||void 0===t?void 0:t.publicKey,je.fromPairValue,Pe,yt,Ie.marketStatus,Ie.constants.minUSD,Ie.constants.maxPrice,Ie.constants.minPrice,Ie.constants.maxGuardRails,ft,dt,r.symbol,mt,C,et,tt,null===He||void 0===He?void 0:He.isFromBase,it]),Ct=(0,M.useMemo)((function(){var e=je.fromPairValue,t=je.targetPrice,n=je.toPairValue;return Number(e)<=0||Number(n)<=0||Number(t)<=0||le.isSubmitting||!ft||xt||Nt.length>0}),[le.isSubmitting,je,ft,xt,Nt]),St=(0,M.useCallback)(function(){var e=(0,i.Z)(l().mark((function e(t){var i,a,m,x,f,h,b,w,N,M,P,T,Z;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me&&me.adapter.publicKey&&xe&&fe&&r&&s){e.next=2;break}return e.abrupt("return");case 2:return i=new j.BN(new k.Z(t.fromPairValue).mul(Math.pow(10,r.decimals)).round().toString()),a=new j.BN(new k.Z(t.toPairValue).mul(Math.pow(10,s.decimals)).round().toString()),m=g.PublicKey.default,e.prev=5,e.next=8,Fe(me.adapter);case 8:return x=e.sent,e.next=11,n.createOrder({owner:me.adapter.publicKey,inAmount:i,outAmount:a,inputMint:new g.PublicKey(t.fromPair),outputMint:new g.PublicKey(t.toPair),expiredAt:null,base:x.publicKey});case 11:return f=e.sent,h=f.tx,b=f.orderPubKey,p({publicKey:m=b,account:{oriMakingAmount:i,makingAmount:i,takingAmount:a,oriTakingAmount:a,inputMint:new g.PublicKey(t.fromPair),outputMint:new g.PublicKey(t.toPair),expiredAt:null}}),e.next=18,be.getLatestBlockhash("confirmed");case 18:return w=e.sent,e.next=21,new Promise((function(e){var t=(0,ne.c)({inAmount:S().BigInt(a.toString()),inputDecimal:s.decimals,outAmount:S().BigInt(i.toString()),outputDecimal:r.decimals},!0),n="buy"===C?et?new k.Z(et).mul(je.targetPrice):null:"sell"===C&&tt?new k.Z(tt).mul(je.targetPrice):null;ue((0,Q.jsx)(Be.Z,{quotedRate:t,onConfirm:function(){return e(!0)},inputAmount:new k.Z(i.toString()).div(Math.pow(10,r.decimals)).toString(),outputAmount:new k.Z(a.toString()).div(Math.pow(10,s.decimals)).toString(),inputPair:r,outputPair:s,usdRate:n}),{onClose:function(){e(!1)},containerStyle:{borderRadius:"12px"}})}));case 21:if(e.sent){e.next=25;break}return o(m),e.abrupt("return");case 25:return e.next=27,w;case 27:return N=e.sent,M=N.blockhash,P=N.lastValidBlockHeight,T=new g.Transaction({feePayer:me.adapter.publicKey,blockhash:M,lastValidBlockHeight:P}).add(h),e.next=33,ye(T,{extraSigners:"secretKey"in x?[x]:[],blockhash:M,lastValidBlockHeight:P,idl:d.xO,idlProgramId:d.zy["mainnet-beta"],skipPreflight:!0},{successMessage:(0,Q.jsx)(c.cC,{id:"59vVOD",values:{0:new k.Z(t.fromPairValue).toDP(2).toString(),1:r.symbol,2:new k.Z(t.toPairValue).toDP(s.decimals).toString(),3:s.symbol}}),submittingMessage:(0,Q.jsx)(c.cC,{id:"Mt9bSF"}),errorMessage:u.ag._({id:"ciaz0q"}),referenceFee:"MEDIUM"===Ce?Ne.lo.m:"HIGH"===Ce?Ne.lo.h:"VERY_HIGH"===Ce?Ne.lo.vh:void 0,minimumFee:v.uo,requestComputeBudgetLimit:3e5});case 33:if(Z=e.sent,Z.success){e.next=37;break}throw new Error("Failed to create order");case 37:y(m),e.next=44;break;case 40:e.prev=40,e.t0=e.catch(5),console.error(e.t0),o(m);case 44:case"end":return e.stop()}}),e,null,[[5,40]])})));return function(t){return e.apply(this,arguments)}}(),[me,xe,fe,r,s,n,p,be,ye,y,ue,C,et,je.targetPrice,tt,o,Ce,Ne.lo.m,Ne.lo.h,Ne.lo.vh]);return(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)("form",{className:"flex h-auto w-full flex-col justify-center",onSubmit:re(St),children:[A,(0,Q.jsxs)("div",{children:[(0,Q.jsxs)("div",{className:"flex items-end justify-between",children:[(0,Q.jsx)("div",{className:"text-xs text-white md:text-sm",children:(0,Q.jsx)(c.cC,{id:"HVPy4o"})}),(0,Q.jsxs)("div",{className:"flex items-center text-xs text-[#CFF3FF]/[0.35]",children:[(0,Q.jsx)("div",{children:(0,Q.jsx)(E.Z,{width:12,height:12})}),s.address?(0,Q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Q.jsxs)("div",{className:"item-center ml-1 flex cursor-pointer hover:text-white-50",onClick:mt,children:[(0,Q.jsx)(ee.Z,{mintAddress:r.address}),(0,Q.jsx)("span",{className:"ml-1",children:r.symbol})]}),(0,Q.jsx)(m.oi,{mint:r.address,onBalanceChange:function(e){oe("fromPairValue",e.toString());var t=null!==He&&void 0!==He&&He.isFromBase?Pe:Pe?1/Pe:0;oe("toPairValue",new k.Z(e).mul(t).toFixed())}})]}):(0,Q.jsx)("span",{children:"0.00"})]})]}),(0,Q.jsx)("div",{className:"mt-2 border-b border-transparent",children:(0,Q.jsx)("div",{className:(0,K.cn)("group rounded-xl border border-transparent bg-v2-background-dark p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,Q.jsx)(ae.Z,{disableTokenSelect:"sell"===C,testId:"fromPair",pair:r,pairName:"fromPairValue",disabled:!1,control:Y,onSubmit:Se,mintsList:we,modalId:ie.r$,watchAllFields:je,onChangeCalculate:function(e){var t=(0,b.Hd)(e)?e:0,n=null!==He&&void 0!==He&&He.isFromBase?Pe:Pe?1/Pe:0;oe("fromPairValue",t||"",{shouldDirty:!0}),oe("toPairValue",new k.Z(t).mul(n).toDP(s.decimals).toFixed())}})})}),xt?(0,Q.jsxs)("div",{className:"my-2 flex items-center gap-2 fill-current text-xs text-v2-lily/60",children:[(0,Q.jsx)(_.Z,{}),(0,Q.jsx)(c.cC,{id:"RigywZ",values:{MINIMUM_SOL_BALANCE:x.WO}})]}):null,(0,Q.jsx)("div",{className:"relative my-2 flex-col-reverse space-y-2 sm:flex sm:flex-row sm:space-x-3 sm:space-y-0",children:(0,Q.jsxs)("div",{className:(0,K.cn)("relative flex w-full flex-col justify-center space-y-1 rounded-xl bg-v2-background-dark px-4 pb-6 pt-2","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,Q.jsxs)("div",{className:"flex justify-between",children:[(0,Q.jsxs)("div",{className:"flex items-center",children:[We?(0,Q.jsxs)("div",{className:"flex items-center text-xs text-v2-lily/50",children:[null!==He&&void 0!==He&&He.isFromBase?(0,Q.jsx)(c.cC,{id:"xNB0TS"}):(0,Q.jsx)(c.cC,{id:"qiOIiY"})," ",(0,Q.jsx)(c.cC,{id:"kBSo/e",values:{0:null===We||void 0===We?void 0:We.symbol}}),qe?(0,Q.jsx)($.Z,{className:"ml-1",width:8,height:8}):null]}):(0,Q.jsx)(X.O,{className:"h-4 w-2"}),ct?(0,Q.jsx)("div",{className:(0,K.cn)("ml-1 flex items-center text-xs font-medium text-v2-lily/50",{}),children:"(".concat(at,"%)")}):null]}),Ie.swapMarketPrice&&("in-range"===Ie.marketStatus||"out-of-range"===Ie.marketStatus)&&(0,Q.jsx)("button",{type:"button",className:"cursor-pointer rounded text-xxs text-white-35 underline hover:text-white-75",onClick:function(){return rt(Ie.swapMarketPrice)},children:(0,Q.jsx)(c.cC,{id:"+NNtb4"})})]}),(0,Q.jsx)(P.Qr,{name:"targetPrice",control:Y,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,Q.jsxs)("div",{className:"",ref:pt,onFocus:function(){return wt(!0)},children:[(0,Q.jsxs)("div",{className:"flex items-end",children:[(0,Q.jsx)(te.Z,{testId:"targetPrice",decimals:Ke,onChangeWithoutEffect:function(e){(0,b.Hd)(e)&&Ge(null!==He&&void 0!==He&&He.isFromBase?new k.Z(e).mul(je.fromPairValue||0).toDP(Ke).toFixed():new k.Z(je.fromPairValue||0).div(e).toDP(Ke).toFixed()),n(e)},onFocus:function(){return ge.current=!0},value:r,disabled:!1,ref:he,className:"flex-1 !text-left !text-sm"}),Ue?(0,Q.jsx)("div",{className:"flex items-center",children:(0,Q.jsx)("span",{className:"text-sm font-semibold",children:null===Ue||void 0===Ue?void 0:Ue.symbol})}):(0,Q.jsx)(X.O,{className:"h-6 w-11"})]}),Ue&&(0,Q.jsx)("div",{className:"absolute bottom-2 text-xs text-v2-lily/30",children:(0,Q.jsx)(H.default,{prefix:"\u2248 ",tokenInfo:Ue,amount:Number(r),maxDecimals:6})}),"buy"===C&&(0,Q.jsx)("div",{className:(0,K.cn)("pointer-events-none absolute -bottom-6 left-0 opacity-0 transition-all duration-100 ease-in-out",gt?"pointer-events-auto opacity-100":""),children:(0,Q.jsx)(z,{actions:Ie.constants.quickPrice.map((function(e){return{text:e.text,onClick:function(){rt(Ie.swapMarketPrice,e.factor)}}}))})})]})}})]})}),"pre-launch"===Ie.marketStatus&&(null===Ae||void 0===Ae?void 0:Ae.min)&&Ae.max&&(0,Q.jsxs)("div",{className:"mb-2 flex items-center gap-2 fill-current text-xs text-v2-lily/60",children:[(0,Q.jsx)(_.Z,{}),(0,Q.jsxs)("span",{children:["Recommended Range: ",(0,Q.jsxs)("span",{className:"font-semibold",children:[Ae.min," USDC"]})," -"," ",(0,Q.jsxs)("span",{className:"font-semibold",children:[Ae.max," USDC"]})]})]}),(0,Q.jsx)("div",{className:(0,K.cn)("my-4 bg-transparent align-bottom transition-all duration-700",{"h-0 opacity-0":!Boolean(ut),"opacity-100":Boolean(ut)}),children:ut&&(0,Q.jsx)("div",{className:(0,K.cn)("rounded-xl border border-yellow-500 bg-yellow-300/25 px-3 py-2 align-middle text-xs font-medium text-yellow-500 transition-all duration-500"),children:ut})})]}),(0,Q.jsxs)("div",{className:"flex flex-col",children:[(0,Q.jsxs)("div",{className:"border-b border-transparent",children:[(0,Q.jsxs)("div",{className:"flex items-end justify-between",children:[(0,Q.jsx)("div",{className:"text-xs text-white md:text-sm",children:(0,Q.jsx)(c.cC,{id:"CCrO9m"})}),(0,Q.jsxs)("div",{className:"flex text-xs text-[#CFF3FF]/[0.35]",children:[(0,Q.jsx)("div",{className:"mt-px",children:(0,Q.jsx)(E.Z,{width:12,height:12})}),s.address?(0,Q.jsxs)("div",{className:"ml-1",children:[(0,Q.jsx)(ee.Z,{mintAddress:s.address}),(0,Q.jsx)("span",{className:"ml-1",children:s.symbol})]}):(0,Q.jsx)("span",{children:"0.00"})]})]}),(0,Q.jsx)("div",{className:"mt-2 border-b border-transparent",children:(0,Q.jsx)("div",{className:(0,K.cn)("group rounded-xl border border-transparent bg-v2-background-dark p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,Q.jsx)(ae.Z,{disableTokenSelect:"buy"===C,testId:"toPair",pair:s,pairName:"toPairValue",control:Y,onSubmit:Me,mintsList:we,modalId:ie.re,watchAllFields:je,onChangeCalculate:function(e){var t=(0,b.Hd)(e)?e:0,n=null!==He&&void 0!==He&&He.isFromBase?Pe:Pe?1/Pe:0;oe("toPairValue",0===t?"":t,{shouldDirty:!0}),oe("fromPairValue",0===t?"0":new k.Z(t).div(n).toFixed())}})})})]}),(0,Q.jsx)("div",{className:"mt-3 flex justify-between",children:(0,Q.jsx)(c.cC,{id:"HOByoq",values:{0:I.isLoading?(0,Q.jsx)(X.O,{className:"h-4 w-20"}):(0,Q.jsx)("span",{className:"ml-1 text-v2-primary",children:ht})},components:{0:(0,Q.jsx)("span",{className:"inline text-[11px] font-medium text-white-50"})}})}),le.isDirty&&kt.length>0&&(0,Q.jsxs)("div",{className:"mt-3 flex w-full items-center space-x-2 rounded-lg bg-warning/80 py-3 pl-2 text-xs text-white",children:[(0,Q.jsx)("div",{className:"mt-0.5 h-3 w-3 fill-current",children:(0,Q.jsx)(L.Z,{fill:"inherit"})}),(0,Q.jsx)("div",{className:"flex flex-col space-y-1",children:kt.map((function(e,t){return(0,Q.jsx)("div",{children:e},t)}))})]}),le.isDirty&&Nt.length>0&&(0,Q.jsxs)("div",{className:"my-3 flex w-full items-center space-x-2 rounded-lg bg-jupiter-red py-3 pl-2 text-xs text-white",children:[(0,Q.jsx)("div",{className:"mt-0.5 h-3 w-3 fill-current",children:(0,Q.jsx)(L.Z,{fill:"inherit"})}),(0,Q.jsx)("div",{className:"flex flex-col space-y-1",children:Nt.map((function(e,t){return(0,Q.jsx)("div",{children:e},t)}))})]}),(0,Q.jsx)(U.Z,{className:"!px-0 text-xs text-v2-lily/60",iconSize:12,message:u.ag._({id:"MQthXJ"})}),null!==me&&void 0!==me&&me.adapter.publicKey?(0,Q.jsx)("button",{type:"submit",className:(0,K.cn)("mt-3 w-full rounded-xl border border-transparent bg-[#121D28] hover:border hover:border-v2-primary",{"cursor-not-allowed opacity-50":Ct}),disabled:Ct,children:(0,Q.jsx)("div",{className:"flex items-center justify-center rounded-xl bg-[rgba(18,29,40,1)] px-8 py-4",children:(0,Q.jsx)("span",{className:"text-center",children:xt||!ft?(0,Q.jsx)(c.cC,{id:"UsQ5AM",values:{0:null===r||void 0===r?void 0:r.symbol}}):(0,Q.jsx)(J.Z,{children:(0,Q.jsx)(c.cC,{id:"5iQRNE"})})})})}):(0,Q.jsx)(G.Z,{})]})]})})},qe=function(e){var t=e.side,n=e.fromTokenInfo,r=e.toTokenInfo,o=e.targetToken,m=e.description,x=e.setForm,j=(0,f.O)(),y=j.wallet,C=j.signAllTransactions,S=j.publicKey,P=(0,h.Bn)(),Z=P.getTokenInfo,A=P.connection,V=(0,p.lm)(),B=V.toast,I=V.close,F=(0,M.useMemo)((function(){return new d.vN(A)}),[A]),_=(0,O.gs)().priorityLevel,E=(0,M.useState)("Open Orders"),L=E[0],K=E[1],H=(0,M.useState)(0),q=H[0],U=H[1];(0,M.useEffect)((function(){U(0)}),[L]);var G=(0,M.useState)(!1),z=G[0],J=G[1],X=M.useState(1),$=(0,a.Z)(X,2),ee=$[0],te=$[1],ne=(0,w.a)([(null===S||void 0===S?void 0:S.toString())||"",o,ee],(0,i.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,F.getOrders([(0,d.Gt)(S)]);case 4:return t=e.sent,n=t.filter((function(e){var t=e.account,n=t.outputMint;return t.inputMint.toString()===o||n.toString()===o})),e.abrupt("return",n||[]);case 7:case"end":return e.stop()}}),e)}))),{enabled:z&&Boolean(S)&&"Open Orders"===L,refetchInterval:!1,keepPreviousData:!0}),ae=ne.data,le=ne.isFetching,ce=ne.refetch,ue=(0,M.useMemo)((function(){return null!==ae&&void 0!==ae&&ae.length?Math.ceil(ae.length/T.eN):0}),[ae]),de=(0,M.useMemo)((function(){return ae||[]}),[ae]),me=(0,M.useMemo)((function(){return de?de.slice(q*T.eN,q*T.eN+10):[]}),[q,de]),xe=Ie.d.orderWithTradeHistoryWithItemsCount.useQuery({wallet:S?null===S||void 0===S?void 0:S.toString():"",inputMint:o,outputMint:o,pageIndex:q},{enabled:Boolean(S)&&"Order History"===L,refetchInterval:!1,refetchOnWindowFocus:!1,keepPreviousData:!0}),fe=xe.data,he=xe.isFetching,pe=xe.refetch,ve=(0,M.useMemo)((function(){return null!==fe&&void 0!==fe&&fe.itemsCount?Math.ceil((null===fe||void 0===fe?void 0:fe.itemsCount)/T.eN):0}),[fe]),be=(0,M.useState)([]),ge=be[0],we=be[1];(0,M.useEffect)((function(){we((function(e){return e.filter((function(e){return!Boolean(null===ae||void 0===ae?void 0:ae.find((function(t){return t.publicKey&&e.publicKey.equals(t.publicKey)})))}))}))}),[ae,we]);var je=(0,D.R3)(),ye=(0,N.KO)(v.yz),ke=(0,a.Z)(ye,1)[0],Ne=(0,M.useCallback)(function(){var e=(0,i.Z)(l().mark((function e(t){var n,r,s,a,o,m,x,f,h,p,w,j,N,S,M,P,T,O;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="cancel-limit-order-toast",r=(0,Q.jsx)(Q.Fragment,{}),s=[],a=[],te((function(e){return e+1})),y&&y.adapter.publicKey&&C&&ae&&0!==t.length){e.next=7;break}return e.abrupt("return");case 7:if(!(o=1===t.length?ae.find((function(e){return e.publicKey.equals(t[0])})):null)||!o.publicKey){e.next=23;break}return e.prev=9,m=Z(o.account.inputMint.toString()),x=Z(o.account.outputMint.toString()),e.next=14,F.cancelOrder({owner:y.adapter.publicKey,orderPubKey:new g.PublicKey(o.publicKey)});case 14:s[0]=e.sent,m&&x?(f=(0,b.lt)(o.account.makingAmount||0,m.decimals),h=(0,b.lt)(o.account.takingAmount||0,x.decimals),r=(0,Q.jsx)("p",{children:(0,Q.jsx)(c.cC,{id:"FFdmQ4",values:{0:new k.Z(f).toDP(2).toString(),1:m.symbol,2:new k.Z(h).toDP(2).toString(),3:x.symbol}})})):r=(0,Q.jsx)("p",{children:(0,Q.jsx)(c.cC,{id:"4iLgbv"})}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),console.log(e.t0);case 21:e.next=29;break;case 23:if(!(t.length>1)){e.next=29;break}return r=(0,Q.jsx)("div",{children:t.length>ie.TC?(0,Q.jsxs)("div",{className:"flex flex-col",children:[(0,Q.jsx)("p",{children:(0,Q.jsx)(c.cC,{id:"kn4OIL"})}),(0,Q.jsx)("p",{children:(0,Q.jsx)(c.cC,{id:"8/4pwt"})})]}):(0,Q.jsx)("p",{children:(0,Q.jsx)(c.cC,{id:"bimrpA",values:{0:t.length}})})}),p=(0,R.OZ)(t,ie.TC),e.next=28,Promise.all(p.map(function(){var e=(0,i.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.batchCancelOrder({owner:y.adapter.publicKey,ordersPubKey:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 28:s=e.sent;case 29:if(s){e.next=31;break}throw new Error("Failed to get cancel order instructions");case 31:e.prev=31,w=Le(s),e.prev=33,w.s();case 35:if((j=w.n()).done){e.next=47;break}return N=j.value,e.next=39,A.getLatestBlockhash("confirmed");case 39:return S=e.sent,M=S.blockhash,P=S.lastValidBlockHeight,T=new g.Transaction({feePayer:y.adapter.publicKey,blockhash:M,lastValidBlockHeight:P}).add(N),e.next=45,je(T,{blockhash:M,idl:d.xO,idlProgramId:d.zy["mainnet-beta"],lastValidBlockHeight:P},{successMessage:(0,Q.jsx)(c.cC,{id:"ppVLZs"}),submittingMessage:r,errorMessage:(0,Q.jsx)(c.cC,{id:"EQ40Hs"}),referenceFee:"MEDIUM"===_?ke.lo.m:"HIGH"===_?ke.lo.h:"VERY_HIGH"===_?ke.lo.vh:void 0,minimumFee:v.uo,requestComputeBudgetLimit:3e5});case 45:e.next=35;break;case 47:e.next=52;break;case 49:e.prev=49,e.t1=e.catch(33),w.e(e.t1);case 52:return e.prev=52,w.f(),e.finish(52);case 55:I(n),e.next=64;break;case 58:e.prev=58,e.t2=e.catch(31),I(n),O=t.length>1?u.ag._({id:"EEA1e+"}):u.ag._({id:"ZpieFv"}),B({duration:5e3,title:O,description:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("p",{children:e.t2.message}),a.map((function(e,t){return(0,Q.jsx)("p",{children:(0,Q.jsx)(re.Z,{txid:e})},t)}))]}),closeOnClick:!1,variant:Y.Lb.INFO}),console.error({err:e.t2});case 64:return e.prev=64,ce(),e.finish(64);case 67:case"end":return e.stop()}}),e,null,[[9,18],[31,58,64,67],[33,49,52,55]])})));return function(t){return e.apply(this,arguments)}}(),[y,C,ae,Z,F,I,A,je,_,ke.lo.m,ke.lo.h,ke.lo.vh,B,ce]),Ce=(0,M.useMemo)((function(){return!ae||0===ae.length||"Order History"===L}),[L,ae]),Se=(0,M.useCallback)((function(){if(ae&&!Ce){var e=ae.map((function(e){return e.publicKey})).filter(Boolean);Ne(e)}}),[Ce,ae,Ne]),Me=(0,M.useCallback)((function(){ce(),pe()}),[ce,pe]),Pe=(0,M.useCallback)((function(e){we((function(t){return t.filter((function(t){return!t.publicKey.equals(e)}))}))}),[we]),Te=(0,M.useCallback)((function(e){we((function(t){return[].concat((0,s.Z)(t),[e])}))}),[we]),Ze=(0,M.useCallback)((function(e){we((function(t){return t.filter((function(t){return!t.publicKey.equals(e)}))})),Me()}),[we,Me]);return n&&r?(0,Q.jsxs)("div",{children:[(0,Q.jsx)(He,{side:t,setForm:x,limitOrder:F,fromTokenInfo:n,toTokenInfo:r,onOrderCreationFailed:Pe,onOrderCreationStart:Te,onOrderCreationSuccess:Ze,description:m}),z?(0,Q.jsxs)(se.Z,{tabs:["Open Orders","Order History"],activeTab:L,setActiveTab:K,isLoading:le||he,cancelAllOrderDisabled:Ce,cancelAllOrder:Se,refetch:Me,className:"mt-3 !py-0",children:["Open Orders"===L?(0,Q.jsx)(oe.Z,{orders:me,cancelOrder:Ne,ongoingSubmission:ge,loading:le,pageIndex:q,setPageIndex:U,pageCount:ue,isV2:!0}):null,"Order History"===L?(0,Q.jsx)(De,{orders:(null===fe||void 0===fe?void 0:fe.orders)||[],loading:he,pageIndex:q,setPageIndex:U,pageCount:ve,isV2:!0}):null]}):(0,Q.jsx)("div",{className:"mt-3 flex w-full flex-col items-center justify-center overflow-x-auto rounded-lg border border-white/5 p-4 text-xs",children:(0,Q.jsx)(W.Z,{type:"button",size:"sm",className:"w-auto border border-transparent bg-[#121D28] px-4",onClick:function(){return J(!0)},children:(0,Q.jsx)("span",{className:"text-sm",children:"View Orders"})})})]}):null}},91511:function(e,t,n){n.d(t,{d:function(){return s}});var r=n(14940);n(11805);var s=(0,r.ec)()},26260:function(e,t,n){var r=n(97620),s=n(93981),i=n(24201),a=n(25546),o=n(30610),l=n(29541);t.Z=function(e){var t=e.className,n=e.children,c=e.data,u=e.rowRenderer,d=e.onChange,m=e.contentClassName,x=e.rowClassName,f=e.filter,h=e.disabled,p=s.useState(!1),v=(0,r.Z)(p,2),b=v[0],g=v[1],w=s.useState(""),j=(0,r.Z)(w,2),y=j[0],k=j[1],N=(0,a.Nr)(y,150),C=s.useMemo((function(){return f&&N?f(c,N):c}),[c,N,f]);return(0,l.jsx)(o.Z,{isOpen:b,onClose:function(){return g(!1)},id:"settings-button",placement:"bottom-start",matchWidth:!0,buttonContent:(0,l.jsx)("button",{type:"button",onClick:function(){return g((function(e){return!e}))},className:(0,i.cn)("flex items-center space-x-2 rounded-lg bg-white/10 py-3 pl-4 pr-5 text-white/75",t),disabled:h,children:n}),buttonContentClassName:"!w-full",popoverContent:(0,l.jsxs)("div",{className:"mt-1 rounded-lg bg-white/10",children:[f?(0,l.jsx)("div",{className:"sticky top-0 flex",children:(0,l.jsx)("input",{placeholder:"Search...",className:"w-full bg-v2-background-dark px-4 py-2 text-sm text-white !outline-none",value:y,onChange:function(e){return k(e.target.value)}})}):null,C.map((function(e,t){return(0,l.jsx)("button",{onClick:function(){d(e),g(!1)},className:(0,i.cn)("flex w-full items-center space-x-2 py-1.5 pl-4 pr-3 text-white/75 first:pt-3 last:pb-3 hover:bg-shark",x),children:u(e)},t)}))]}),contentClassName:(0,i.cn)("!bg-transparent !shadow-none z-50 webkit-scrollbar",m)})}},82625:function(e,t,n){var r=n(72215),s=n(93981),i=n(24201),a=n(54566),o=n(29541);t.Z=function(e){var t=e.value,n=e.tokenAddress,l=e.className,c=e.priceType,u=(0,r.Bn)().getTokenInfo,d=s.useMemo((function(){return u(n)}),[u,n]);return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsx)("div",{className:(0,i.cn)("text-xs font-medium text-white-25",l),children:d&&(0,o.jsx)(a.default,{tokenInfo:d,amount:Number(t.floatValue),priceType:c})}):null})}},3561:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.fill,n=void 0===t?"white":t,s=e.width,i=void 0===s?12:s,a=e.height,o=void 0===a?12:a;return(0,r.jsxs)("svg",{width:i,height:o,viewBox:"0 0 12 12",fill:n,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_9115_125056)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6ZM5.95362 7.63052C5.60347 7.63083 5.31644 7.35363 5.30407 7.0038L5.15183 2.7132C5.14549 2.53686 5.21146 2.36591 5.33389 2.23905C5.45631 2.11218 5.62504 2.04082 5.80138 2.04082H6.10586C6.2822 2.04082 6.45093 2.11218 6.57336 2.23905C6.69578 2.36591 6.76175 2.53686 6.75541 2.7132L6.60317 7.0038C6.5908 7.35363 6.30377 7.63083 5.95362 7.63052ZM5.95352 10.0669C6.45812 10.0669 6.86694 9.65807 6.86694 9.15347C6.86694 8.64887 6.45812 8.24004 5.95352 8.24004C5.44891 8.24004 5.04009 8.64887 5.04009 9.15347C5.04009 9.65807 5.44891 10.0669 5.95352 10.0669Z",fill:n})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_9115_125056",children:(0,r.jsx)("rect",{width:"12",height:"12",fill:n})})})]})}},71957:function(e,t,n){n.d(t,{p:function(){return M}});var r=n(97620),s=n(92956),i=n(132),a=n(31562),o=n(63956),l=n(27195),c=n(8857),u=n.n(c),d=n(24309),m=n(75206),x=n(38272),f=n(14441),h=n(32532),p=n(795).Buffer;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=400,w=function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getRecentPerformanceSamples(720);case 3:if(null!==(n=e.sent)&&void 0!==n&&n.length){e.next=6;break}return e.abrupt("return",g);case 6:if(r=n.reduce((function(e,t){return e+1e3*t.samplePeriodSecs/t.numSlots}),0),!((s=r/n.length)<200||s>800)){e.next=10;break}return e.abrupt("return",g);case 10:return e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){function e(t,n,r,s,a){if((0,i.Z)(this,e),this.provider=t,this.getUserEndpoint=n,(0,o.Z)(this,"mdProgram",void 0),(0,o.Z)(this,"mint",void 0),(0,o.Z)(this,"user",void 0),(0,o.Z)(this,"isV2",void 0),(0,o.Z)(this,"V2_ROOT_MERKLE_TREE",void 0),this.isV2=s,this.mdProgram=(0,f.b8)(this.provider,s),this.provider=t,this.mint=new x.PublicKey(r),s){if(!a)throw new Error("V2_ROOT_MERKLE_TREE is required for V2 Merkle Distributor");this.V2_ROOT_MERKLE_TREE=new x.PublicKey(a)}}return(0,a.Z)(e,[{key:"getMaxBonusForClaimant",value:function(){var e=(0,l.Z)(u().mark((function e(t,n){var r,s,i,a,o,l,c,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isV2){e.next=2;break}return e.abrupt("return",null);case 2:if(e.t0=t,!e.t0){e.next=7;break}return e.next=6,this.getUser(t);case 6:e.t0=e.sent;case 7:if(r=e.t0,this.mdProgram){e.next=10;break}return e.abrupt("return",null);case 10:if(s=this.resolveDefaultMerkleTree(new x.PublicKey(this.mint))){e.next=13;break}throw new Error("Default Merkle Tree not found");case 13:return i=this.mdProgram,e.next=16,i.account.merkleDistributor.fetchNullable(new x.PublicKey((null===r||void 0===r?void 0:r.merkle_tree)||s));case 16:if(a=e.sent){e.next=19;break}return e.abrupt("return",null);case 19:return o=a.maxTotalClaim,l=a.airdropBonus.totalBonus,c=o.sub(l),d=n.mul(l).div(c),e.abrupt("return",d);case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBonusForClaimaint",value:function(){var e=(0,l.Z)(u().mark((function e(t,n){var s,i,a,o,l,c,m,f,h,p,v,b,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser(t);case 2:if(s=e.sent,this.mdProgram){e.next=5;break}return e.abrupt("return",null);case 5:if(i=this.resolveDefaultMerkleTree(new x.PublicKey(this.mint))){e.next=8;break}throw new Error("Default Merkle Tree not found");case 8:return a=this.mdProgram,e.t0=Promise,e.next=12,a.account.merkleDistributor.fetchNullable(new x.PublicKey((null===s||void 0===s?void 0:s.merkle_tree)||i));case 12:return e.t1=e.sent,e.t2=this.getCurrentSlot(),e.t3=[e.t1,e.t2],e.next=17,e.t0.all.call(e.t0,e.t3);case 17:if(o=e.sent,l=(0,r.Z)(o,2),c=l[0],m=l[1],c){e.next=23;break}return e.abrupt("return",null);case 23:return e.next=25,this.getMaxBonusForClaimant(t,n);case 25:if(e.t4=e.sent,e.t4){e.next=28;break}e.t4=new d.BN(0);case 28:if(f=e.t4,h=c.enableSlot,p=c.airdropBonus.vestingSlotDuration.add(h),!new d.BN(m).gte(h)){e.next=42;break}if(!new d.BN(m).gte(p)){e.next=36;break}return e.abrupt("return",f);case 36:return v=new d.BN(m).sub(h),b=c.airdropBonus.vestingSlotDuration,g=v.mul(f).div(b),e.abrupt("return",g);case 40:e.next=43;break;case 42:return e.abrupt("return",new d.BN(0));case 43:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getInitialBonusForClaimaint",value:function(){var e=(0,l.Z)(u().mark((function e(t,n){var s,i,a,o,l,c,m,f,h,p,v,b,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser(t);case 2:if(s=e.sent,this.mdProgram){e.next=5;break}return e.abrupt("return",null);case 5:if(i=this.resolveDefaultMerkleTree(new x.PublicKey(this.mint))){e.next=8;break}throw new Error("Default Merkle Tree not found");case 8:return a=this.mdProgram,e.t0=Promise,e.next=12,a.account.merkleDistributor.fetchNullable(new x.PublicKey((null===s||void 0===s?void 0:s.merkle_tree)||i));case 12:return e.t1=e.sent,e.t2=this.getCurrentSlot(),e.t3=[e.t1,e.t2],e.next=17,e.t0.all.call(e.t0,e.t3);case 17:if(o=e.sent,l=(0,r.Z)(o,2),c=l[0],m=l[1],c){e.next=23;break}return e.abrupt("return",null);case 23:return e.next=25,this.getMaxBonusForClaimant(t,n);case 25:if(e.t4=e.sent,e.t4){e.next=28;break}e.t4=new d.BN(0);case 28:if(f=e.t4,h=c.enableSlot,p=c.airdropBonus.vestingSlotDuration.add(h),!new d.BN(m).gte(h)||new d.BN(m).gte(p)){e.next=36;break}return v=new d.BN(m).sub(h),b=c.airdropBonus.vestingSlotDuration,g=v.mul(f).div(b),e.abrupt("return",g);case 36:return e.abrupt("return",new d.BN(0));case 37:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAllBonusForClaimaint",value:function(){var e=(0,l.Z)(u().mark((function e(t,n){var s,i,a,o,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",{currentBonus:0,extraBonus:0});case 2:return e.next=4,Promise.all([this.getBonusForClaimaint(t,n),this.getInitialBonusForClaimaint(t,n),this.getMaxBonusForClaimant(t,n)]);case 4:return s=e.sent,i=(0,r.Z)(s,3),a=i[0],o=i[1],l=i[2],e.abrupt("return",{currentBonus:null===a||void 0===a?void 0:a.toNumber(),extraBonus:o&&l?l.toNumber()-o.toNumber():0});case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.user){e.next=2;break}return e.abrupt("return",this.user);case 2:return e.prev=2,e.next=5,fetch("".concat(this.getUserEndpoint).concat(this.mint.toBase58(),"/").concat(t.toBase58()));case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,n.json();case 10:return r=e.sent,this.user=r,e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentSlot",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.provider.connection.getSlot());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveDefaultMerkleTree",value:function(e){if(this.isV2)return this.V2_ROOT_MERKLE_TREE;var t=x.PublicKey.findProgramAddressSync([p.from("MerkleDistributor"),e.toBuffer(),p.alloc(8)],this.mdProgram.programId);return(0,r.Z)(t,1)[0].toBase58()}},{key:"getClaimTimes",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,s,i,a,o,l,c,d,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,this.getUser(t);case 4:e.t0=e.sent;case 5:if(n=e.t0,this.mdProgram){e.next=8;break}return e.abrupt("return",null);case 8:if(s=this.resolveDefaultMerkleTree(new x.PublicKey(this.mint))){e.next=11;break}throw new Error("Default Merkle Tree not found");case 11:return e.next=13,Promise.all([this.mdProgram.account.merkleDistributor.fetchNullable(new x.PublicKey((null===n||void 0===n?void 0:n.merkle_tree)||s)),this.getCurrentSlot(),w(this.provider.connection)]);case 13:if(i=e.sent,a=(0,r.Z)(i,3),o=a[0],l=a[1],c=a[2],console.log({avgSlotTime:c}),null!==o&&void 0!==o&&o.enableSlot&&l&&c){e.next=21;break}return e.abrupt("return",null);case 21:return d=new Date(Date.now()+(o.enableSlot.toNumber()-l)*c),m="airdropBonus"in o&&o.airdropBonus.vestingSlotDuration.toNumber()?new Date(Date.now()+(o.enableSlot.toNumber()+o.airdropBonus.vestingSlotDuration.toNumber()-l)*c):void 0,e.abrupt("return",{enableSlot:o.enableSlot.toNumber(),endTime:new Date(1e3*o.clawbackStartTs.toNumber()),estTime:d,maxBonusClaimTime:m});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClaimStatus",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,s,i,a,o,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.mdProgram,t&&n){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,this.getUser(t);case 5:if((s=e.sent)&&s.merkle_tree){e.next=8;break}return e.abrupt("return",null);case 8:return i=(0,f.W2)(t,new x.PublicKey(s.merkle_tree),n.programId),a=(0,r.Z)(i,2),o=a[0],a[1],e.next=11,n.account.claimStatus.fetchNullable(o);case 11:return l=e.sent,e.abrupt("return",b(b({},l),{},{amount:new d.BN(s.amount),lockedAmount:new d.BN(s.locked_amount),isClaimed:Boolean(l),claimedAmount:new d.BN(((null===l||void 0===l?void 0:l.unlockedAmount.toNumber())||0)+((null===l||void 0===l?void 0:l.lockedAmountWithdrawn.toNumber())||0))}));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"claimToken",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,s,i,a,o,l,c,p,v,b,g,w,j,y,k,N,C,S,M;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.provider.connection,s=this.mdProgram,i=this.mint,t&&i&&s){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.getUser(t);case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:return o=a.proof,l=a.merkle_tree,c=new x.PublicKey(l),p=(0,f.W2)(t,c,s.programId),v=(0,r.Z)(p,2),b=v[0],v[1],g=[],e.next=14,(0,h.c1)(i,t,n);case 14:return w=e.sent,j=(0,r.Z)(w,2),y=j[0],(k=j[1])&&g.push(k),e.next=21,(0,h.c1)(i,c,n);case 21:return N=e.sent,C=(0,r.Z)(N,2),S=C[0],(M=C[1])&&g.push(M),e.t0=[],e.t1=g,e.next=30,s.methods.newClaim(new d.BN(a.amount),new d.BN(a.locked_amount||0),o).accounts({claimant:t,claimStatus:b,distributor:c,from:S,to:y,systemProgram:x.SystemProgram.programId,tokenProgram:m.H_}).instruction();case 30:return e.t2=e.sent,e.t3=[e.t2],e.abrupt("return",e.t0.concat.call(e.t0,e.t1,e.t3));case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"claimVesting",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,s,i,a,o,l,c,d,p,v,b,g,w,j,y,k,N,C;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.provider.connection,s=this.mdProgram,i=this.mint,t&&i&&s){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.getUser(t);case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:return o=a.merkle_tree,l=new x.PublicKey(o),c=(0,f.W2)(t,l,s.programId),d=(0,r.Z)(c,2),p=d[0],d[1],v=[],e.next=14,(0,h.c1)(i,t,n);case 14:return b=e.sent,g=(0,r.Z)(b,2),w=g[0],(j=g[1])&&v.push(j),e.next=21,(0,h.c1)(i,l,n);case 21:return y=e.sent,k=(0,r.Z)(y,2),N=k[0],(C=k[1])&&v.push(C),e.t0=[],e.t1=v,e.next=30,s.methods.claimLocked().accounts({claimant:t,claimStatus:p,distributor:l,from:N,to:w,tokenProgram:m.H_}).instruction();case 30:return e.t2=e.sent,e.t3=[e.t2],e.abrupt("return",e.t0.concat.call(e.t0,e.t1,e.t3));case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),y=n(72215),k=n(45009),N=n(1242),C=n(3011),S=n(76640);function M(){var e,t=(0,s.O)(),n=(0,y.Rc)(),i=(0,C.KO)(N.dS),a=(0,r.Z)(i,1)[0],o=a.TARGET_MINT,l=a.V2_ROOT_MERKLE_TREE,c=a.useMerkleDistributorV2,u=(0,S.S)().getUserEndpoint;return(0,k.a)(["markle-distributor",null===(e=t.publicKey)||void 0===e?void 0:e.toBase58(),o.toString(),c,u],(function(){if(!l)return null;var e=new d.Y7(n,t,{commitment:"confirmed"});return new j(e,u,new x.PublicKey(o),c,l)}),{enabled:Boolean(t)&&Boolean(n)})}},94223:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.width,n=void 0===t?32:t,s=e.height,i=void 0===s?32:s;return(0,r.jsx)("svg",{width:n,height:i,viewBox:"0 0 32 32",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.1425 8.45597H5.22047L5.22025 8.45592C4.66944 8.40838 4.15821 8.1496 3.79392 7.73368C3.52351 7.52371 3.34106 7.22064 3.28188 6.88329C3.24718 5.65089 4.6625 4.79883 5.9425 4.79883H22.3996C23.1264 4.80107 23.8229 5.09067 24.3368 5.60455C24.8507 6.11843 25.1403 6.81496 25.1425 7.54168V8.45597ZM26.0564 10.2846H5.02779C4.54289 10.2846 4.07777 10.092 3.73473 9.74912C3.39187 9.40605 3.19922 8.94094 3.19922 8.45605V25.8275C3.19922 26.555 3.4882 27.2526 4.00248 27.7671C4.51698 28.2814 5.21451 28.5703 5.94208 28.5703H26.0564C26.7839 28.5703 27.4814 28.2814 27.996 27.7671C28.5102 27.2526 28.7992 26.555 28.7992 25.8275V23.0846H24.2278C22.9213 23.0846 21.7139 22.3875 21.0607 21.2561C20.4074 20.1246 20.4074 18.7303 21.0607 17.5989C21.7139 16.4675 22.9213 15.7703 24.2278 15.7703H28.7992V13.0275C28.7992 12.2999 28.5102 11.6024 27.996 11.0879C27.4815 10.5736 26.7839 10.2846 26.0564 10.2846ZM22.4014 19.4277C22.4014 19.9126 22.594 20.3777 22.9369 20.7208C23.2799 21.0636 23.7451 21.2563 24.2299 21.2563H28.8014V17.5991H24.2299C23.745 17.5991 23.2799 17.7918 22.9369 18.1346C22.594 18.4777 22.4014 18.9428 22.4014 19.4277Z",fill:"currentColor"})})}},99463:function(e,t,n){n.d(t,{x:function(){return r}});var r={version:"0.0.1",name:"merkle_distributor",instructions:[{name:"newDistributor",docs:["READ THE FOLLOWING:","","This instruction is susceptible to frontrunning that could result in loss of funds if not handled properly.","","An attack could look like:","- A legitimate user opens a new distributor.","- Someone observes the call to this instruction.","- They replace the clawback_receiver, admin, or time parameters with their own.","","One situation that could happen here is the attacker replaces the admin and clawback_receiver with their own","and sets the clawback_start_ts with the minimal time allowed. After clawback_start_ts has elapsed,","the attacker can steal all funds from the distributor to their own clawback_receiver account.","","HOW TO AVOID:","- When you call into this instruction, ensure your transaction succeeds.","- To be extra safe, after your transaction succeeds, read back the state of the created MerkleDistributor account and","assert the parameters are what you expect, most importantly the clawback_receiver and admin.","- If your transaction fails, double check the value on-chain matches what you expect."],accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],pda:{seeds:[{kind:"const",type:"string",value:"MerkleDistributor"},{kind:"account",type:"publicKey",account:"Mint",path:"mint"},{kind:"arg",type:"u64",path:"version"}]}},{name:"clawbackReceiver",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint to distribute."]},{name:"tokenVault",isMut:!1,isSigner:!1,docs:["Token vault","Should create previously"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"associatedTokenProgram",isMut:!1,isSigner:!1,docs:["The [Associated Token] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[{name:"version",type:"u64"},{name:"root",type:{array:["u8",32]}},{name:"maxTotalClaim",type:"u64"},{name:"maxNumNodes",type:"u64"},{name:"startVestingTs",type:"i64"},{name:"endVestingTs",type:"i64"},{name:"clawbackStartTs",type:"i64"},{name:"enableSlot",type:"u64"},{name:"closable",type:"bool"}]},{name:"closeDistributor",docs:["only available in test phase"],accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],relations:["admin","token_vault"]},{name:"tokenVault",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["account receive token back"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[]},{name:"closeClaimStatus",docs:["only available in test phase"],accounts:[{name:"claimStatus",isMut:!0,isSigner:!1,relations:["claimant","admin"]},{name:"claimant",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[]},{name:"setEnableSlot",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],relations:["admin"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Payer to create the distributor."]}],args:[{name:"enableSlot",type:"u64"}]},{name:"newClaim",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"claimStatus",isMut:!0,isSigner:!1,docs:["Claim status PDA"],pda:{seeds:[{kind:"const",type:"string",value:"ClaimStatus"},{kind:"account",type:"publicKey",path:"claimant"},{kind:"account",type:"publicKey",account:"MerkleDistributor",path:"distributor"}]}},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["Account to send the claimed tokens to."]},{name:"claimant",isMut:!0,isSigner:!0,docs:["Who is claiming the tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]}],args:[{name:"amountUnlocked",type:"u64"},{name:"amountLocked",type:"u64"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimLocked",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"claimStatus",isMut:!0,isSigner:!1,docs:["Claim Status PDA"],pda:{seeds:[{kind:"const",type:"string",value:"ClaimStatus"},{kind:"account",type:"publicKey",path:"claimant"},{kind:"account",type:"publicKey",account:"MerkleDistributor",path:"distributor"}]}},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["Account to send the claimed tokens to.","Claimant must sign the transaction and can only claim on behalf of themself"]},{name:"claimant",isMut:!0,isSigner:!0,docs:["Who is claiming the tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]}],args:[]},{name:"clawback",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["The Clawback token account."]},{name:"claimant",isMut:!1,isSigner:!0,docs:["Claimant account","Anyone can claw back the funds"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]}],args:[]},{name:"setClawbackReceiver",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"newClawbackAccount",isMut:!1,isSigner:!1,docs:["New clawback account"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin signer"]}],args:[]},{name:"setAdmin",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin signer"]},{name:"newAdmin",isMut:!0,isSigner:!1,docs:["New admin account"]}],args:[]}],accounts:[{name:"claimStatus",docs:["Holds whether or not a claimant has claimed tokens."],type:{kind:"struct",fields:[{name:"claimant",docs:["Authority that claimed the tokens."],type:"publicKey"},{name:"lockedAmount",docs:["Locked amount"],type:"u64"},{name:"lockedAmountWithdrawn",docs:["Locked amount withdrawn"],type:"u64"},{name:"unlockedAmount",docs:["Unlocked amount"],type:"u64"},{name:"closable",docs:["indicate that whether admin can close this account, for testing purpose"],type:"bool"},{name:"admin",docs:["admin of merkle tree, store for for testing purpose"],type:"publicKey"}]}},{name:"merkleDistributor",docs:["State for the account which distributes tokens."],type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed."],type:"u8"},{name:"version",docs:["Version of the airdrop"],type:"u64"},{name:"root",docs:["The 256-bit merkle root."],type:{array:["u8",32]}},{name:"mint",docs:["[Mint] of the token to be distributed."],type:"publicKey"},{name:"tokenVault",docs:["Token Address of the vault"],type:"publicKey"},{name:"maxTotalClaim",docs:["Maximum number of tokens that can ever be claimed from this [MerkleDistributor]."],type:"u64"},{name:"maxNumNodes",docs:["Maximum number of nodes in [MerkleDistributor]."],type:"u64"},{name:"totalAmountClaimed",docs:["Total amount of tokens that have been claimed."],type:"u64"},{name:"numNodesClaimed",docs:["Number of nodes that have been claimed."],type:"u64"},{name:"startTs",docs:["Lockup time start (Unix Timestamp)"],type:"i64"},{name:"endTs",docs:["Lockup time end (Unix Timestamp)"],type:"i64"},{name:"clawbackStartTs",docs:["Clawback start (Unix Timestamp)"],type:"i64"},{name:"clawbackReceiver",docs:["Clawback receiver"],type:"publicKey"},{name:"admin",docs:["Admin wallet"],type:"publicKey"},{name:"clawedBack",docs:["Whether or not the distributor has been clawed back"],type:"bool"},{name:"enableSlot",docs:["this merkle tree is enable from this slot"],type:"u64"},{name:"closable",docs:["indicate that whether admin can close this pool, for testing purpose"],type:"bool"},{name:"buffer0",docs:["Buffer 0"],type:{array:["u8",32]}},{name:"buffer1",docs:["Buffer 1"],type:{array:["u8",32]}},{name:"buffer2",docs:["Buffer 2"],type:{array:["u8",32]}}]}}],events:[{name:"NewClaimEvent",fields:[{name:"claimant",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"ClaimedEvent",fields:[{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"InsufficientUnlockedTokens",msg:"Insufficient unlocked tokens"},{code:6001,name:"StartTooFarInFuture",msg:"Deposit Start too far in future"},{code:6002,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:6003,name:"ExceededMaxClaim",msg:"Exceeded maximum claim amount"},{code:6004,name:"MaxNodesExceeded",msg:"Exceeded maximum node count"},{code:6005,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:6006,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:6007,name:"ClawbackDuringVesting",msg:"Clawback cannot be before vesting ends"},{code:6008,name:"ClawbackBeforeStart",msg:"Attempted clawback before start"},{code:6009,name:"ClawbackAlreadyClaimed",msg:"Clawback already claimed"},{code:6010,name:"InsufficientClawbackDelay",msg:"Clawback start must be at least one day after vesting end"},{code:6011,name:"SameClawbackReceiver",msg:"New and old Clawback receivers are identical"},{code:6012,name:"SameAdmin",msg:"New and old admin are identical"},{code:6013,name:"ClaimExpired",msg:"Claim window expired"},{code:6014,name:"ArithmeticError",msg:"Arithmetic Error (overflow/underflow)"},{code:6015,name:"StartTimestampAfterEnd",msg:"Start Timestamp cannot be after end Timestamp"},{code:6016,name:"TimestampsNotInFuture",msg:"Timestamps cannot be in the past"},{code:6017,name:"InvalidVersion",msg:"Airdrop Version Mismatch"},{code:6018,name:"ClaimingIsNotStarted",msg:"Claiming is not started"},{code:6019,name:"CannotCloseDistributor",msg:"Cannot close distributor"},{code:6020,name:"CannotCloseClaimStatus",msg:"Cannot close claim status"}]}},70305:function(e,t,n){n.d(t,{x:function(){return r}});var r={version:"0.0.2",name:"merkle_distributor",instructions:[{name:"newDistributor",docs:["READ THE FOLLOWING:","","This instruction is susceptible to frontrunning that could result in loss of funds if not handled properly.","","An attack could look like:","- A legitimate user opens a new distributor.","- Someone observes the call to this instruction.","- They replace the clawback_receiver, admin, or time parameters with their own.","","One situation that could happen here is the attacker replaces the admin and clawback_receiver with their own","and sets the clawback_start_ts with the minimal time allowed. After clawback_start_ts has elapsed,","the attacker can steal all funds from the distributor to their own clawback_receiver account.","","HOW TO AVOID:","- When you call into this instruction, ensure your transaction succeeds.","- To be extra safe, after your transaction succeeds, read back the state of the created MerkleDistributor account and","assert the parameters are what you expect, most importantly the clawback_receiver and admin.","- If your transaction fails, double check the value on-chain matches what you expect."],accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],pda:{seeds:[{kind:"const",type:"string",value:"MerkleDistributor"},{kind:"account",type:"publicKey",path:"base"},{kind:"account",type:"publicKey",account:"Mint",path:"mint"},{kind:"arg",type:"u64",path:"version"}]}},{name:"base",isMut:!1,isSigner:!0,docs:["Base key of the distributor."]},{name:"clawbackReceiver",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint to distribute."]},{name:"tokenVault",isMut:!1,isSigner:!1,docs:["Token vault","Should create previously"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"associatedTokenProgram",isMut:!1,isSigner:!1,docs:["The [Associated Token] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[{name:"version",type:"u64"},{name:"root",type:{array:["u8",32]}},{name:"maxTotalClaim",type:"u64"},{name:"maxNumNodes",type:"u64"},{name:"startVestingTs",type:"i64"},{name:"endVestingTs",type:"i64"},{name:"clawbackStartTs",type:"i64"},{name:"enableSlot",type:"u64"},{name:"closable",type:"bool"}]},{name:"newDistributor2",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],pda:{seeds:[{kind:"const",type:"string",value:"MerkleDistributor"},{kind:"account",type:"publicKey",path:"base"},{kind:"account",type:"publicKey",account:"Mint",path:"mint"},{kind:"arg",type:"u64",path:"version"}]}},{name:"base",isMut:!1,isSigner:!0,docs:["Base key of the distributor."]},{name:"clawbackReceiver",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint to distribute."]},{name:"tokenVault",isMut:!1,isSigner:!1,docs:["Token vault","Should create previously"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"associatedTokenProgram",isMut:!1,isSigner:!1,docs:["The [Associated Token] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[{name:"version",type:"u64"},{name:"root",type:{array:["u8",32]}},{name:"totalClaim",type:"u64"},{name:"maxNumNodes",type:"u64"},{name:"startVestingTs",type:"i64"},{name:"endVestingTs",type:"i64"},{name:"clawbackStartTs",type:"i64"},{name:"enableSlot",type:"u64"},{name:"closable",type:"bool"},{name:"totalBonus",type:"u64"},{name:"bonusVestingSlotDuration",type:"u64"}]},{name:"closeDistributor",docs:["only available in test phase"],accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],relations:["admin","token_vault"]},{name:"tokenVault",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["account receive token back"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[]},{name:"closeClaimStatus",docs:["only available in test phase"],accounts:[{name:"claimStatus",isMut:!0,isSigner:!1,relations:["claimant","admin"]},{name:"claimant",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[]},{name:"setEnableSlot",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],relations:["admin"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Payer to create the distributor."]}],args:[{name:"enableSlot",type:"u64"}]},{name:"newClaim",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"claimStatus",isMut:!0,isSigner:!1,docs:["Claim status PDA"],pda:{seeds:[{kind:"const",type:"string",value:"ClaimStatus"},{kind:"account",type:"publicKey",path:"claimant"},{kind:"account",type:"publicKey",account:"MerkleDistributor",path:"distributor"}]}},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["Account to send the claimed tokens to."]},{name:"claimant",isMut:!0,isSigner:!0,docs:["Who is claiming the tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]}],args:[{name:"amountUnlocked",type:"u64"},{name:"amountLocked",type:"u64"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimLocked",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"claimStatus",isMut:!0,isSigner:!1,docs:["Claim Status PDA"],pda:{seeds:[{kind:"const",type:"string",value:"ClaimStatus"},{kind:"account",type:"publicKey",path:"claimant"},{kind:"account",type:"publicKey",account:"MerkleDistributor",path:"distributor"}]}},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["Account to send the claimed tokens to.","Claimant must sign the transaction and can only claim on behalf of themself"]},{name:"claimant",isMut:!0,isSigner:!0,docs:["Who is claiming the tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]}],args:[]},{name:"clawback",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["The Clawback token account."]},{name:"claimant",isMut:!1,isSigner:!0,docs:["Claimant account","Anyone can claw back the funds"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]}],args:[]},{name:"setClawbackReceiver",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"newClawbackAccount",isMut:!1,isSigner:!1,docs:["New clawback account"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin signer"]}],args:[]},{name:"setAdmin",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin signer"]},{name:"newAdmin",isMut:!0,isSigner:!1,docs:["New admin account"]}],args:[]}],accounts:[{name:"claimStatus",docs:["Holds whether or not a claimant has claimed tokens."],type:{kind:"struct",fields:[{name:"claimant",docs:["Authority that claimed the tokens."],type:"publicKey"},{name:"lockedAmount",docs:["Locked amount"],type:"u64"},{name:"lockedAmountWithdrawn",docs:["Locked amount withdrawn"],type:"u64"},{name:"unlockedAmount",docs:["Unlocked amount"],type:"u64"},{name:"closable",docs:["indicate that whether admin can close this account, for testing purpose"],type:"bool"},{name:"admin",docs:["admin of merkle tree, store for for testing purpose"],type:"publicKey"}]}},{name:"merkleDistributor",docs:["State for the account which distributes tokens."],type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed."],type:"u8"},{name:"version",docs:["Version of the airdrop"],type:"u64"},{name:"root",docs:["The 256-bit merkle root."],type:{array:["u8",32]}},{name:"mint",docs:["[Mint] of the token to be distributed."],type:"publicKey"},{name:"base",docs:["base key of distributor."],type:"publicKey"},{name:"tokenVault",docs:["Token Address of the vault"],type:"publicKey"},{name:"maxTotalClaim",docs:["Maximum number of tokens that can ever be claimed from this [MerkleDistributor]."],type:"u64"},{name:"maxNumNodes",docs:["Maximum number of nodes in [MerkleDistributor]."],type:"u64"},{name:"totalAmountClaimed",docs:["Total amount of tokens that have been claimed."],type:"u64"},{name:"numNodesClaimed",docs:["Number of nodes that have been claimed."],type:"u64"},{name:"startTs",docs:["Lockup time start (Unix Timestamp)"],type:"i64"},{name:"endTs",docs:["Lockup time end (Unix Timestamp)"],type:"i64"},{name:"clawbackStartTs",docs:["Clawback start (Unix Timestamp)"],type:"i64"},{name:"clawbackReceiver",docs:["Clawback receiver"],type:"publicKey"},{name:"admin",docs:["Admin wallet"],type:"publicKey"},{name:"clawedBack",docs:["Whether or not the distributor has been clawed back"],type:"bool"},{name:"enableSlot",docs:["this merkle tree is enable from this slot"],type:"u64"},{name:"closable",docs:["indicate that whether admin can close this pool, for testing purpose"],type:"bool"},{name:"airdropBonus",docs:["bonus multiplier"],type:{defined:"AirdropBonus"}},{name:"buffer0",docs:["Buffer 0"],type:{array:["u8",8]}},{name:"buffer1",docs:["Buffer 1"],type:{array:["u8",32]}},{name:"buffer2",docs:["Buffer 2"],type:{array:["u8",32]}}]}}],types:[{name:"AirdropBonus",type:{kind:"struct",fields:[{name:"totalBonus",docs:["total bonus"],type:"u64"},{name:"vestingSlotDuration",type:"u64"},{name:"totalClaimedBonus",docs:["total bonus"],type:"u64"}]}}],events:[{name:"NewClaimEvent",fields:[{name:"claimant",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"ClaimedEvent",fields:[{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"InsufficientUnlockedTokens",msg:"Insufficient unlocked tokens"},{code:6001,name:"StartTooFarInFuture",msg:"Deposit Start too far in future"},{code:6002,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:6003,name:"ExceededMaxClaim",msg:"Exceeded maximum claim amount"},{code:6004,name:"MaxNodesExceeded",msg:"Exceeded maximum node count"},{code:6005,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:6006,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:6007,name:"ClawbackDuringVesting",msg:"Clawback cannot be before vesting ends"},{code:6008,name:"ClawbackBeforeStart",msg:"Attempted clawback before start"},{code:6009,name:"ClawbackAlreadyClaimed",msg:"Clawback already claimed"},{code:6010,name:"InsufficientClawbackDelay",msg:"Clawback start must be at least one day after vesting end"},{code:6011,name:"SameClawbackReceiver",msg:"New and old Clawback receivers are identical"},{code:6012,name:"SameAdmin",msg:"New and old admin are identical"},{code:6013,name:"ClaimExpired",msg:"Claim window expired"},{code:6014,name:"ArithmeticError",msg:"Arithmetic Error (overflow/underflow)"},{code:6015,name:"StartTimestampAfterEnd",msg:"Start Timestamp cannot be after end Timestamp"},{code:6016,name:"TimestampsNotInFuture",msg:"Timestamps cannot be in the past"},{code:6017,name:"InvalidVersion",msg:"Airdrop Version Mismatch"},{code:6018,name:"ClaimingIsNotStarted",msg:"Claiming is not started"},{code:6019,name:"CannotCloseDistributor",msg:"Cannot close distributor"},{code:6020,name:"CannotCloseClaimStatus",msg:"Cannot close claim status"}]}},14441:function(e,t,n){n.d(t,{RJ:function(){return x},Rg:function(){return f},b8:function(){return c},W2:function(){return i}});n(8857);var r=n(38272),s=n(795).Buffer;function i(e,t,n){return r.PublicKey.findProgramAddressSync([s.from("ClaimStatus"),e.toBytes(),t.toBytes()],n)}var a=n(24309),o=n(99463),l=n(70305);function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?new a.$r(l.x,f,e):new a.$r(o.x,x,e)}var u,d,m,x=new r.PublicKey("meRjbQXFNf5En86FXT2YPz1dQzLj4Yb3xK8u1MVgqpb"),f=new r.PublicKey("DiSLRwcSFvtwvMWSs7ubBMvYRaYNYupa76ZSuYLe6D7j");new r.PublicKey("JAA2bkW7RH3RL9Akr2yE7oHjZDuYGaWddbUzMyLdnq8i"),new r.PublicKey("8xXEbh9GkMKrF7uL1gvhmvrpbcdu1z4d44jXS1BZepLM");!function(e){e[e.Pending=0]="Pending",e[e.Against=1]="Against",e[e.For=2]="For",e[e.Abstain=3]="Abstain"}(u||(u={})),function(e){e.Draft="Draft",e.Active="Active",e.Canceled="Canceled",e.Defeated="Defeated",e.Succeeded="Succeeded",e.Queued="Queued",e.Completed="Completed"}(d||(d={})),function(e){e.InitialPhase="InitialPhase",e.TokenLaunchPhase="TokenLaunchPhase"}(m||(m={}))}}]);
//# sourceMappingURL=63312-34ebabce66285eff.js.map